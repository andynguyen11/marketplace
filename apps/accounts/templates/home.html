{% extends "base.html" %}
{% load staticfiles %}

{% block header_class %}home{% endblock %}

{% block header_actions %}
  <button class="btn btn-transparent">Discover a Project</button>
  <button class="btn btn-transparent">List a Project</button>
  {% if request.user.is_authenticated %}
  <a class="header-action" href="{% url 'postman:inbox' %}">
    <img src="{% static 'images/icon-message-white.png' %}" />
    {% if unread_count %}<span class="badge">{{ unread_count }}</span>{% endif %}
  </a>
  <a class="header-action" href="{% url 'dashboard' %}"><img src="{% static 'images/icon-notifications-white.png' %}" /></a>
  <a class="header-action" href="#"></a>
  <div class="btn-group header-action">
    {% if request.user.linkedin.extra_data.picture_url %}
      <img class="dropdown-toggle profile-image img-circle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" src="{{ request.user.linkedin.extra_data.picture_url }}" />
    {% else %}
      <img class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" src="{% static 'images/icon-profile-white.png' %}" />
    {% endif %}
    <ul class="dropdown-menu dropdown-menu-right">
      <li><a href="{% url 'profile' %}">Profile</a></li>
      <li><a href="{% url 'dashboard' %}">Dashboard</a></li>
      <li><a href="{% url 'postman:inbox' %}">Messages {% if unread_count %}<span class="badge">{{ unread_count }}</span>{% endif %}</a></li>
      <li><a href="{% url 'view-bids' %}">Open Projects</a></li>
      <li><a href="{% url 'view-projects' %}">Engaged Projects</a></li>
      <li><a href="{% url 'view-documents' %}">Your Documents</a></li>
      <li><a href="{% url 'view-skills' %}">Your Skills</a></li>
      <li><a href="{% url 'logout' %}">Log Out</a></li>
    </ul>
  </div>
  {% endif %}
{% endblock %}

{% block content %}
<div id="hero">
  <div class="row">
    <div class="overlay"></div>
    <div class="container text-center">
      <h1 class="text-skinny">
        Code for equity. <br/>
        <span class="text-yellow">On projects you love.</span>
      </h1>
      <button class="btn btn-foggy">Find a Project</button>
    </div>
  </div>
</div>
<div id="featured-project">
  <div class="row">
    <div class="container">
      <h2 class="text-center">featured project</h2>
      <a class="project-link" href="{% url 'project' featured.id %}" />
      <div class="panel panel-project">
        <div class="project-image col-md-7" style="background-image: url('{% static "" %}{{ featured.image }}');">
          <div class="overlay"></div>
          <h3 class="text-skinny text-center">{{ featured.featured_tagline }}</h3>
        </div>
        <div class="project-content col-md-5 drop-padding">
          <div class="project-copy">
            <h4 class="project-title">{{ featured.title }}</h4>
            <div>
              <img class="project-manager-photo pull-left" src="{{ featured.project_manager.linkedin.extra_data.picture_url }}" />
              <div class="project-byline pull-left">
                <p>
                  <span class="project-manager">{{ featured.project_manager.first_name }} {{ featured.project_manager.last_name }}</span> <br />
                  <span class="project-company">{{ featured.company.name }}</span>
                </p>
              </div>
              <div class="clearfix"></div>
            </div>
            <div class="project-description">
              {{ featured.description }}
            </div>
            <div class="project-skills"></div>
          </div>
          <div class="project-specs text-center">
            <ul>
              <li class="project-hours">
                <h5>{{ featured.estimated_hours }}</h5>
                hours
              </li>
              <li class="project-equity">
                <h5>{{ featured.estimated_equity }}%</h5>
                equity
              </li>
              <li class="project-cash">
                <h5>${{ featured.estimated_cash }}</h5>
                cash
              </li>
            </ul>
            <div class="project-for">
              for
            </div>
            <div class="project-or">
              or
            </div>
          </div>
        </div>
        <div class="clearfix"></div>
      </div>
      </a>
    </div>
  </div>
</div>

<div id="new-projects">
  <div class="row">
    <div class="container">
      <h2 class="text-center">newly added projects</h2>
      <button class="btn btn-yb">see more</button>
      {% for project in new %}
      <div class="col-md-4">
      <a class="project-link" href="{% url 'project' project.id %}" />
      <div class="panel panel-project">
        <div class="project-image" style="background-image: url('{% static "" %}{{ project.image }}');"></div>
        <div class="project-content">
          <div class="project-copy">
            <h4 class="project-title">{{ project.title }}</h4>
            <div>
              <img class="project-manager-photo pull-left" src="{{ project.project_manager.linkedin.extra_data.picture_url }}" />
              <div class="project-byline pull-left">
                <p>
                  <span class="project-manager">{{ project.project_manager.first_name }} {{ project.project_manager.last_name }}</span> <br />
                  <span class="project-company">{{ project.company.name }}</span>
                </p>
              </div>
              <div class="clearfix"></div>
            </div>
            <div class="project-description">
              {{ project.description }}
            </div>
            <div class="project-skills"></div>
          </div>
          <div class="project-specs text-center">
            <ul>
              <li class="project-hours">
                <h5>{{ project.estimated_hours }}</h5>
                hours
              </li>
              <li class="project-equity">
                <h5>{{ project.estimated_equity }}%</h5>
                equity
              </li>
              <li class="project-cash">
                <h5>${{ project.estimated_cash }}</h5>
                cash
              </li>
            </ul>
            <div class="project-for">
              for
            </div>
            <div class="project-or">
              or
            </div>
          </div>
        </div>
        <div class="clearfix"></div>
      </div>
      </a>
      </div>
      {% endfor %}
    </div>
  </div>
</div>

<div id="browse-category">
  <div class="row">
    <div class="container text-center">
      <h2>browse by category</h2>
        {% for category_verbose, category in categories %}
          <div class="col-md-4">
            <a id="{{ category_verbose }}" href="{% url 'project-gallery' category_verbose  %}">
              <div class="overlay"></div>
              <h3>{{ category }}</h3>
            </a>
          </div>
        {% endfor %}
    </div>
  </div>
</div>

<div id="developers">
  <div class="row">
    <div class="container">
      <h2 class="text-center">meet developers</h2>
      {% for developer in developers %}
      <div class="col-md-4">
        <div class="profile text-center" style="background-image: url('{{ developer.linkedin.extra_data.picture_url }}');">
          <div class="overlay"></div>
          <div class="profile-content">
            <img src="{{ developer.linkedin.extra_data.picture_url }}" />
            <h5>{{ developer.first_name }}</h5>
            <p class="text-yellow">Front-End</p>
            <h3>15 hrs / week</h3>
            <a class="btn btn-foggy">Hire {{ developer.first_name }}</a>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</div>

<div id="how">
  <div class="row">
    <div class="container">
      <h2 class="text-center">how devquity works</h2>
      <button class="btn btn-yb">see more</button>
      <div class="col-md-4">
        <div id="discover" class="panel-how text-center">
          <div class="overlay"></div>
          <h2>discover<br/>
          <span class="text-skinny text-yellow">
            amazing <br/>
            projects
          </span>
          </h2>
        </div>
      </div>
      <div class="col-md-4">
        <div id="invest" class="panel-how text-center">
          <div class="overlay"></div>
          <h2>invest<br/>
          <span class="text-skinny text-yellow">
            your spare <br/>
            dev time</span>
          </h2>
        </div>
      </div>
      <div class="col-md-4">
        <div id="earn" class="panel-how text-center">
          <div class="overlay"></div>
          <h2>earn<br/>
          <span class="text-skinny text-yellow">
            equity <br/>
            or cash</span>
          </h2>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}

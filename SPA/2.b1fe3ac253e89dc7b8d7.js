webpackJsonp([2],{"./app/scripts/api/bank/index.js":function(e,t,n){"use strict";function i(e){return e=e||"",fetch(l.a.stripeConnect+"/?code="+e,{credentials:"same-origin",headers:{Accept:"application/json"}})}function a(e,t){return fetch(l.a.stripeConnect+"/",{method:"POST",credentials:"same-origin",headers:{Authorization:"JWT "+o.a.get("loom_token"),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({data:u({},t,{external_account:e})})})}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"PATCH";return fetch(l.a.stripeConnect+"/",{method:t,credentials:"same-origin",headers:{Authorization:"JWT "+o.a.get("loom_token"),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)})}function s(e){return fetch(l.a.stripeConnect+"/",{method:"DELETE",credentials:"same-origin",headers:{Authorization:"JWT "+o.a.get("loom_token"),Accept:"application/json"}})}t.c=i,t.a=a,t.b=s;var c=n("./node_modules/js-cookie/src/js.cookie.js"),o=n.n(c),l=n("./app/scripts/api/urls.js"),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(i,"fetchBank","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/api/bank/index.js"),__REACT_HOT_LOADER__.register(a,"createBank","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/api/bank/index.js"),__REACT_HOT_LOADER__.register(r,"updateBank","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/api/bank/index.js"),__REACT_HOT_LOADER__.register(s,"deleteBank","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/api/bank/index.js"))}()},"./app/scripts/api/paymentsource/index.js":function(e,t,n){"use strict";function i(){return fetch(l.a.paymentsource+"/",{credentials:"same-origin"})}function a(e){return fetch(l.a.paymentsource+"/",{method:"POST",credentials:"same-origin",headers:{Authorization:"JWT "+o.a.get("loom_token"),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)})}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"PATCH";return fetch(l.a.paymentsource+"/",{method:t,credentials:"same-origin",headers:{Authorization:"JWT "+o.a.get("loom_token"),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)})}function s(e){return fetch(l.a.paymentsource+"/",{method:"DELETE",credentials:"same-origin",headers:{Authorization:"JWT "+o.a.get("loom_token"),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)})}t.c=i,t.a=a,t.d=r,t.b=s;var c=n("./node_modules/js-cookie/src/js.cookie.js"),o=n.n(c),l=n("./app/scripts/api/urls.js");!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(i,"fetchPaymentSource","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/api/paymentsource/index.js"),__REACT_HOT_LOADER__.register(a,"createPaymentSource","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/api/paymentsource/index.js"),__REACT_HOT_LOADER__.register(r,"updatePaymentSource","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/api/paymentsource/index.js"),__REACT_HOT_LOADER__.register(s,"deletePaymentSource","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/api/paymentsource/index.js"))}()},"./app/scripts/components/formFields/dateInput/index.js":function(e,t,n){"use strict";var i=n("./app/scripts/components/forms/formFields.js"),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(e){var t=e.input,n=e.label,r=e.type,s=e.placeholder,c=e.helperText,o=e.prefix,l=e.disablePaste,u=void 0!==l&&l,p=e.meta,m=p.touched,d=p.error,f=m&&d;return React.createElement(i.b,a({},t,{type:r,prefix:o,config:{name:t.name,type:r,label:n,helperText:c,placeholder:s,disablePaste:u,error:f||"",value:t.value,onChange:t.onChange}}))};t.a=r,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(r,"default","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/components/formFields/dateInput/index.js")}()},"./app/scripts/components/formFields/invoicePhoto/styles.scss":function(e,t){},"./app/scripts/containers/bank/details/actions/api.js":function(e,t,n){"use strict";function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){return t(r.e()),a.c(e).then(function(e){if(e.status>200)throw new Error;return e.json()}).then(function(e){return t(r.f(e)),e}).catch(function(e){t(r.d(e))})}}t.a=i;var a=n("./app/scripts/api/bank/index.js"),r=n("./app/scripts/containers/bank/details/actions/index.js");!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(i,"fetchBankDetails","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/bank/details/actions/api.js")}()},"./app/scripts/containers/invoices/create/components/confirmation/styles.scss":function(e,t){},"./app/scripts/containers/invoices/create/components/recipient/styles.scss":function(e,t){},"./app/scripts/containers/invoices/create/components/requirements/styles.scss":function(e,t){},"./app/scripts/containers/invoices/create/components/type/styles.scss":function(e,t){},"./app/scripts/containers/invoices/create/styles.scss":function(e,t){},"./app/scripts/containers/invoices/details/components/details/styles.scss":function(e,t){},"./app/scripts/containers/invoices/details/components/status/styles.scss":function(e,t){},"./app/scripts/containers/invoices/details/styles.scss":function(e,t){},"./app/scripts/containers/invoices/edit/components/confirmation/styles.scss":function(e,t){},"./app/scripts/containers/invoices/edit/components/invoice/styles.scss":function(e,t){},"./app/scripts/containers/invoices/edit/styles.scss":function(e,t){},"./app/scripts/containers/invoices/index.js":function(e,t,n){"use strict";function i(){return fetch(Je.a.invoice+"/recipients/",{credentials:"same-origin"})}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.action,n=void 0===t?"received":t;return fetch(Je.a.invoice+"/?action="+n,{credentials:"same-origin"})}function r(e){return fetch(Je.a.invoice+"/"+e+"/",{credentials:"same-origin",headers:{Accept:"application/json"}})}function s(e){return fetch(Je.a.invoice+"/",{method:"POST",credentials:"same-origin",headers:{Authorization:"JWT "+Ue.a.get("loom_token"),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)})}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"PATCH";return fetch(Je.a.invoice+"/"+e+"/",{method:n,credentials:"same-origin",headers:{Authorization:"JWT "+Ue.a.get("loom_token"),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)})}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"PATCH";return fetch(Je.a.invoice+"/"+e+"/",{method:n,credentials:"same-origin",headers:{Authorization:"JWT "+Ue.a.get("loom_token"),Accept:"application/json"},body:t.logo})}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"PATCH";return fetch(Je.a.invoice+"/"+e+"/totals/",{method:n,credentials:"same-origin",headers:{Authorization:"JWT "+Ue.a.get("loom_token"),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)})}function u(e){return fetch(Je.a.invoice+"/"+e+"/",{method:"DELETE",credentials:"same-origin",headers:{Authorization:"JWT "+Ue.a.get("loom_token"),Accept:"application/json"}})}function p(e){return function(t){return t(Be.h()),r(e).then(function(e){if(e.status>200)throw new Error;return e.json()}).then(function(e){return t(Be.i(e)),e}).catch(function(e){t(Be.g(e))})}}function m(e,t){return function(n){return n(Be.k()),c(e,t).then(function(e){if(e.status>200)throw new Error;return e.json()}).then(function(e){return n(Be.l(e)),e}).catch(function(e){n(Be.j(e))})}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _(){return function(e){return e(et.x()),i().then(function(e){if(e.status>200)throw new Error;return e.json()}).then(function(t){return e(et.y(t)),t}).catch(function(t){throw e(et.w(t)),new Ve.d({_error:"Unknown error"})})}}function y(e){return function(t){return t(et.r()),s(e).then(function(e){if(e.status>201&&400!==e.status)throw new Error(JSON.stringify({status:e.status}));return 400===e.status?e.json().then(function(t){throw new Error(JSON.stringify(tt({status:e.status},t)))}):e.json()}).then(function(e){return t(et.s(e)),e}).catch(function(e){var n=(e.status,e.message),i=n&&JSON.parse(n),a={};if(i&&400===i.status)for(var r in i)a[r]=i[r][0];else i&&i.status>=500&&(a._error="An unexpected error occurred. Please try again later.");throw t(et.q(a)),new Ve.d(a)})}}function h(e){return function(t){return t(et.u()),u(e).then(function(e){if(e.status>204)throw new Error;return e}).then(function(n){return t(et.v(e)),e}).catch(function(e){t(et.t(e))})}}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function A(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Y(e,t){return function(n){return n(Mt.u()),c(e,t).then(function(e){if(e.status>200&&400!==e.status)throw new Error(JSON.stringify({status:e.status}));return 400===e.status?e.json().then(function(t){throw new Error(JSON.stringify(Vt({status:e.status},t)))}):e.json()}).then(function(e){return n(Mt.v(e)),e}).catch(function(e){var t=(e.status,e.message),i=t&&JSON.parse(t),a={};if(i&&400===i.status)for(var r in i)a[r]=i[r][0];else i&&i.status>=500&&(a._error="An unexpected error occurred. Please try again later.");throw n(Mt.t(a)),new Ve.d(a)})}}function L(e,t){return function(n){return n(Mt.u()),o(e,t,"PATCH").then(function(e){if(e.status>200&&400!==e.status)throw new Error(JSON.stringify({status:e.status}));return 400===e.status?e.json().then(function(t){throw new Error(JSON.stringify(Vt({status:e.status},t)))}):e.json()}).then(function(e){return e}).catch(function(e){var t=(e.status,e.message),i=t&&JSON.parse(t),a={};if(i&&400===i.status)for(var r in i)a[r]=i[r][0];else i&&i.status>=500&&(a._error="An unexpected error occurred. Please try again later.");throw n(Mt.t(a)),new Ve.d(a)})}}function H(e,t){return function(n){return n(Mt.r()),l(e,t).then(function(e){if(e.status>200&&400!==e.status)throw new Error(JSON.stringify({status:e.status}));return 400===e.status?e.json().then(function(t){throw new Error(JSON.stringify(Vt({status:e.status},t)))}):e.json()}).then(function(e){return n(Mt.s(e)),e}).catch(function(e){var t=(e.status,e.message),i=t&&JSON.parse(t),a={};if(i&&400===i.status)for(var r in i)a[r]=i[r][0];else i&&i.status>=500&&(a._error="An unexpected error occurred. Please try again later.");throw n(Mt.q(a)),new Ve.d(a)})}}function I(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function q(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function F(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function U(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function J(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function $(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function K(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function G(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ee(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function te(e){return function(t){return t(ln.h()),a(e).then(function(e){if(e.status>200)throw new Error;return e.json()}).then(function(e){return t(ln.i(e)),e}).catch(function(e){t(ln.g(e))})}}function ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ae(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function re(e){return function(t){return t(fn.n()),a(e).then(function(e){if(e.status>200)throw new Error;return e.json()}).then(function(e){return t(fn.o(e)),e}).catch(function(e){t(fn.m(e))})}}function se(e){return function(t){return t(fn.k()),u(e).then(function(e){if(e.status>204)throw new Error;return e}).then(function(n){return t(fn.l(e)),e}).catch(function(e){t(fn.j(e))})}}function ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function le(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function me(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function de(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}function fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ve(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _e(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function he(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ee(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Re(e){return fetch(Je.a.payment+"/",{method:"POST",credentials:"same-origin",headers:{Authorization:"JWT "+Ue.a.get("loom_token"),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)})}function be(e){return function(t){return t(kn.r()),Re(e).then(function(e){if(e.status>200&&400!==e.status)throw new Error(JSON.stringify({status:e.status}));return 400===e.status?e.json().then(function(t){throw new Error(JSON.stringify(Hn({status:e.status},t)))}):e}).then(function(e){return t(kn.s()),e}).catch(function(e){var n=(e.status,e.message),i=n&&JSON.parse(n),a={};if(i&&400===i.status)for(var r in i)a[r]=i[r][0];else i&&i.status>=500&&(a._error="An unexpected error occurred. Please try again later.");throw t(kn.q(a)),new Ve.d(a)})}}function ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function je(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function De(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ce(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var Ae=n("./node_modules/react-router-dom/es/index.js"),we=n("./node_modules/react-redux/es/index.js"),ke=n("./app/scripts/components/tile/tile.jsx"),Ne=n("./app/scripts/components/button/button.jsx"),Se=n("./app/scripts/components/loader/loader.jsx"),xe=n("./node_modules/moment/moment.js"),Pe=n.n(xe),Ye=n("./app/scripts/utils/numberUtils.js"),Le=(n("./app/scripts/containers/invoices/details/components/details/styles.scss"),function(e){var t=e.details,n=t.hourly_items&&t.hourly_items.reduce(function(e,t){return e+Number(t.hours)*Number(t.rate)},0),i=t.fixed_items&&t.fixed_items.reduce(function(e,t){return e+Number(t.amount)},0),a=.1*(n+i),r=n+i-a;return React.createElement("div",null,React.createElement("div",{className:"invoice-header"},React.createElement("div",{className:"invoice-logo-container"},React.createElement("div",{className:"invoice-logo",style:{backgroundImage:"url("+t.logo+")"}})),React.createElement("div",{className:"invoice-contacts"},React.createElement("div",null,React.createElement("span",{className:"invoice-label"},"From:"),React.createElement("div",{className:"invoice-sender"},React.createElement("p",null,t.sender_name),React.createElement("p",null,t.sender_address),React.createElement("p",null,t.sender_address2),React.createElement("p",null,t.sender_location),React.createElement("p",null,t.recipient_email),React.createElement("p",null,t.recipient_phone))),React.createElement("div",null,React.createElement("span",{className:"invoice-label"},"To:"),React.createElement("div",{className:"invoice-recipient"},React.createElement("p",null,t.recipient_name),React.createElement("p",null,t.recipient_address),React.createElement("p",null,t.recipient_address2),React.createElement("p",null,t.recipient_location),React.createElement("p",null,t.recipient_email),React.createElement("p",null,t.recipient_phone))))),React.createElement("div",{className:"invoice-details"},React.createElement("p",null,"Invoice date: ",React.createElement("span",{className:"invoice-label"},t.sent_date?Pe()(t.sent_date,"YYYY-MM-DD").format("MM/DD/YYYY"):Pe()().format("MM/DD/YYYY"))),React.createElement("p",null,"Invoice reference number: ",React.createElement("span",{className:"invoice-label"},t.reference_id&&t.reference_id.split("-")[0])),React.createElement("p",null,"Invoice for: ",React.createElement("span",{className:"invoice-label"},t.title)),React.createElement("p",null,"Work timeframe: ",t.start_date&&t.end_date&&React.createElement("span",{className:"invoice-label"},Pe()(t.start_date,"YYYY-MM-DD").format("MM/DD/YYYY")," - ",Pe()(t.end_date,"YYYY-MM-DD").format("MM/DD/YYYY")))),React.createElement("div",{className:"invoice-items"},Boolean(t.hourly_items&&t.hourly_items.length)&&React.createElement("div",null,React.createElement("h3",null,"Hourly services"),React.createElement("table",null,React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"Description of service"),React.createElement("th",null,"Hours"),React.createElement("th",null,"Rate"))),React.createElement("tbody",null,t.hourly_items&&t.hourly_items.map(function(e,t){return React.createElement("tr",{key:t},React.createElement("td",null,e.description),React.createElement("td",null,e.hours),React.createElement("td",null,"$",Object(Ye.a)(e.rate,{minimumFractionDigits:2,maximumFractionDigits:2})))})))),Boolean(t.fixed_items&&t.fixed_items.length)&&React.createElement("div",null,React.createElement("h3",null,"Flat-rate services and expenses"),React.createElement("table",null,React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"Description of service, deliverable or expense"),React.createElement("th",null),React.createElement("th",null,"Amount"))),React.createElement("tbody",null,t.fixed_items&&t.fixed_items.map(function(e,t){return React.createElement("tr",{key:t},React.createElement("td",null,e.description),React.createElement("td",null),React.createElement("td",null,"$",Object(Ye.a)(Number(e.amount),{minimumFractionDigits:2,maximumFractionDigits:2})))}))))),React.createElement("div",{className:"invoice-totals"},React.createElement("div",{className:"invoice-summary"},React.createElement("table",null,React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",null,"Hourly fees"),React.createElement("td",null,"$",Object(Ye.a)(n,{minimumFractionDigits:2,maximumFractionDigits:2}))),React.createElement("tr",null,React.createElement("td",null,"Flat fees and expenses"),React.createElement("td",null,"$",Object(Ye.a)(i,{minimumFractionDigits:2,maximumFractionDigits:2})))),React.createElement("tfoot",{className:"invoice-sum"},React.createElement("tr",null,React.createElement("td",{className:"total-label"},"Total amount due"),React.createElement("td",null,"$",Object(Ye.a)(n+i,{minimumFractionDigits:2,maximumFractionDigits:2})))))),!t.internal&&React.createElement("div",{className:"invoice-net-summary"},React.createElement("table",null,React.createElement("tbody",null,React.createElement("tr",{className:"loom-fee"},React.createElement("td",null,"Loom service fee (10%)"),React.createElement("td",null,"-$",Object(Ye.a)(a,{minimumFractionDigits:2,maximumFractionDigits:2}))),React.createElement("tr",{className:"net-freelancer-amount"},React.createElement("td",null,"Net received by freelancer"),React.createElement("td",null,"$",Object(Ye.a)(r,{minimumFractionDigits:2,maximumFractionDigits:2})))))),React.createElement("p",{className:"invoice-label"},"Please deliver payment through the Loom platform by ",t.due_date?Pe()(t.due_date,"YYYY-MM-DD").format("MMMM Do, YYYY"):"")))}),He=Le,Ie=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(Le,"default","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/details/components/details/index.js")}(),function(e,t){var n=t.sender,i=t.status,a=t.due_date,r=Pe()(Date.now()).format("YYYY-MM-DD");return n.id===e?"pending"===i||"draft"===i?"draft":"sent"===i&&Date.parse(r)>Date.parse(a)?"past-due":"sent"===i?"sent":"paid":"sent"===i&&Date.parse(r)>Date.parse(a)?"past-due":"pending"===i||"draft"===i||"sent"===i?"unpaid":"paid"}),qe=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(Ie,"getInvoiceStatus","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/details/utils/index.js")}(),n("./app/scripts/containers/invoices/details/components/status/styles.scss"),Object(Ae.g)(function(e){var t=e.details,n=e.user,i=Ie(n.user_id,t),a=t.sender.id===n.user_id,r="sent"!==t.status||"paid"!==t.status,s=function(){e.history.push("/invoices/"+t.reference_id+"/edit")},c=function(){window.location="/dashboard/messages/"},o=function(){e.history.push("/invoices/"+t.reference_id+"/payment")};return React.createElement("div",{className:"invoice-status"},React.createElement("h3",null,"Invoice status"),a&&React.createElement("div",null,React.createElement("h2",{className:"invoice-status-"+i},i),r&&"paid"!==i&&React.createElement(Ne.a,{type:"button",onClick:s},"Revise invoice"),React.createElement(Ne.a,{type:"button",buttonType:"secondary",onClick:c},"Message recipient")),!a&&React.createElement("div",null,React.createElement("h2",{className:"invoice-status-"+i},i),r&&"paid"!==i&&React.createElement(Ne.a,{type:"button",onClick:o},"Pay invoice"),React.createElement(Ne.a,{type:"button",buttonType:"secondary",onClick:c},"Message freelancer"),React.createElement("p",null,"Send a message to your freelancer if changes to this invoice are needed. The freelancer will need to edit and resubmit.")))})),Me=qe,Ve=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(qe,"default","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/details/components/status/index.js")}(),n("./node_modules/redux-form/es/index.js")),Fe=n("./node_modules/js-cookie/src/js.cookie.js"),Ue=n.n(Fe),Je=n("./app/scripts/api/urls.js"),Be=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(i,"fetchAvailableRecipients","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/api/invoice/index.js"),__REACT_HOT_LOADER__.register(a,"fetchInvoices","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/api/invoice/index.js"),__REACT_HOT_LOADER__.register(r,"fetchInvoice","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/api/invoice/index.js"),__REACT_HOT_LOADER__.register(s,"createInvoice","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/api/invoice/index.js"),__REACT_HOT_LOADER__.register(c,"updateInvoice","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/api/invoice/index.js"),__REACT_HOT_LOADER__.register(o,"updateInvoicePhoto","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/api/invoice/index.js"),__REACT_HOT_LOADER__.register(l,"calcInvoiceTotals","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/api/invoice/index.js"),__REACT_HOT_LOADER__.register(u,"deleteInvoice","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/api/invoice/index.js"))}(),n("./app/scripts/containers/invoices/details/actions/index.js")),We=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(p,"fetchInvoice","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/details/actions/api.js"),__REACT_HOT_LOADER__.register(m,"updateInvoice","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/details/actions/api.js"))}(),n("./app/scripts/containers/invoices/details/styles.scss"),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),$e=function(e){function t(){return d(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,e),We(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.user,n=this.props.match.params.invoiceId;this.props.dispatch(p(n)).then(function(n){n.recipient.id!==t.user_id||n.viewed||e.props.dispatch(m(n.reference_id,{viewed:!0}))}).catch(function(e){console.log(e)})}},{key:"goBack",value:function(e){e.preventDefault();var t=this.props,n=t.invoice,i=t.user;n.details.sender.id===i.user_id?this.props.history.push("/invoices/sent"):this.props.history.push("/invoices/received")}},{key:"render",value:function(){var e=this.props,t=e.invoice,n=e.user;return t.details.sender.id,n.user_id,React.createElement("div",{className:"invoice-details-container"},React.createElement("a",{href:"#",className:"back-link",onClick:this.goBack.bind(this)},React.createElement("i",{className:"material-icons"},"arrow_back")," Back to invoices"),React.createElement("div",{className:"invoice-details-content"},React.createElement(ke.a,{className:"invoice-details-items"},t.isFetching&&React.createElement(Se.a,null),!t.isFetching&&React.createElement(He,{details:t.details})),React.createElement("div",{className:"invoice-meta"},t.isFetching&&React.createElement(Se.a,null),!t.isFetching&&React.createElement(ke.a,null,React.createElement(Me,{user:n,details:t.details})))))}}]),t}(React.Component),ze=Object(we.b)(function(e){return{user:e.auth,invoice:e.invoices.details}})($e),Xe=ze,Ke=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register($e,"InvoiceDetails","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/details/index.js"),__REACT_HOT_LOADER__.register(ze,"default","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/details/index.js"))}(),n("./node_modules/queryString/index.js")),Ge=n.n(Ke),Qe=n("./app/scripts/appliances/header/header.jsx"),Ze=n("./app/scripts/components/modal/modal.jsx"),et=n("./app/scripts/containers/invoices/create/actions/index.js"),tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},nt=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(_,"fetchInvoiceRecipients","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/create/actions/api.js"),__REACT_HOT_LOADER__.register(y,"createInvoice","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/create/actions/api.js"),__REACT_HOT_LOADER__.register(h,"deleteInvoice","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/create/actions/api.js"))}(),n("./app/scripts/containers/bank/details/actions/api.js")),it=(n("./app/scripts/containers/invoices/create/components/type/styles.scss"),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),at=function(e){function t(){return E(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),it(t,[{key:"setInvoiceType",value:function(e){this.props.dispatch(Object(et.z)(e))}},{key:"render",value:function(){return React.createElement("div",{className:"invoice-type-container"},React.createElement("h2",null,"What type of invoice do you want to create?"),React.createElement("div",{className:"invoice-type-buttons"},React.createElement(Ne.a,{type:"button",onClick:this.setInvoiceType.bind(this,"cash")},"Cash invoice"),React.createElement(Ne.a,{type:"button",onClick:this.setInvoiceType.bind(this,"equity")},"Equity invoice")))}}]),t}(React.Component),rt=Object(we.b)(function(e){return{user:e.auth,invoiceCreation:e.invoices.create}})(at),st=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(at,"InvoiceType","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/create/components/type/index.js"),__REACT_HOT_LOADER__.register(rt,"default","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/create/components/type/index.js"))}(),n("./app/scripts/config.js")),ct=(n("./app/scripts/containers/invoices/create/components/requirements/styles.scss"),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),ot=function(e){function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,e),ct(t,[{key:"render",value:function(){var e="https://connect.stripe.com/oauth/authorize?response_type=code&client_id="+st.c.stripeClientID+"&scope=read_write&redirect_uri="+window.location.origin+"/invoices/new/recipient/";return React.createElement("div",{className:"invoice-requirements"},React.createElement("h2",null,"Connect a Stripe account to receive payments"),React.createElement("h2",{className:"requirements-subheader"},"Before you can send an invoice, you must connect a Stripe account where you will receive payments."),React.createElement("h2",{className:"requirements-subheader"},"Why Stripe?  Stripe is an industry-leader in secure, frictionless service transactions between employers and freelancers around the world."),React.createElement("h2",{className:"requirements-subheader"},"Click below to connect an existing Stripe account or create a new one.  The process is secure, quick and easy."),React.createElement("div",{className:"requirements-actions"},React.createElement("a",{href:e,className:"button stripe-connect"},React.createElement("span",null,"Connect with Stripe"))))}}]),t}(React.Component),lt=Object(Ae.g)(Object(we.b)(function(e){return{user:e.auth}})(ot)),ut=lt,pt=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(ot,"InvoiceRequirements","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/create/components/requirements/index.js"),__REACT_HOT_LOADER__.register(lt,"default","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/create/components/requirements/index.js"))}(),n("./app/scripts/components/formFields/select/index.js")),mt=function(e){var t=e.name,n=void 0===t?"recipient":t,i=e.options;return React.createElement(Ve.a,{name:n,options:i,component:pt.a})},dt=mt,ft=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(mt,"default","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/features/forms/invoiceRecipient/components/recipientField/index.js")}(),n("./app/scripts/utils/formUtils.js")),vt=function(e){var t={};return ft.a.checks.isRequired(e.recipient)||(t.recipient="Please add an invoice recipient."),t},_t=vt,yt=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(vt,"default","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/features/forms/invoiceRecipient/validation.js")}(),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),ht=function(e){function t(){return T(this,t),D(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return C(t,e),yt(t,[{key:"render",value:function(){var e=this.props,t=e.recipientOptions;return e.invalid,e.error,e.submitFailed,React.createElement("form",{className:"invoice-recipient-form"},React.createElement(dt,{options:t}))}}]),t}(React.Component),Et=Object(Ve.o)({form:"invoiceRecipient",initialValues:{recipient:""},validate:_t,asyncValidating:!1})(ht),Rt=Et,bt=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(ht,"InvoiceRecipientForm","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/features/forms/invoiceRecipient/index.js"),__REACT_HOT_LOADER__.register(Et,"default","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/features/forms/invoiceRecipient/index.js"))}(),n("./app/scripts/containers/invoices/create/components/recipient/styles.scss"),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),gt=function(e){function t(){return w(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,e),bt(t,[{key:"navigateToInvoices",value:function(){this.props.history.push("/invoices/sent")}},{key:"handleSubmit",value:function(){this.props.dispatch(Object(Ve.p)("invoiceRecipient"))}},{key:"setInvoiceRecipient",value:function(e){var t=this.props,n=t.user,i=t.recipients,a=i.recipientsById[e.recipient];return this.props.dispatch(y(Object.assign({},e,{sender:{id:Number(n.user_id)},recipient:{id:Number(e.recipient)},recipient_name:a.first_name+" "+a.last_name,recipient_email:a.email,sender_email:n.email,invoice_items:[],status:"draft"})))}},{key:"render",value:function(){var e=this.props,t=e.recipients,n=(e.invoice,t.recipients.map(function(e){return{id:""+e.id,label:e.first_name+" "+e.last_name}}));return React.createElement("div",null,!Boolean(t.recipients.length)&&React.createElement("div",{className:"invoice-recipient-container"},React.createElement("h2",null,"Invoices are available to freelancers actively working on Loom projects."),React.createElement("div",{className:"invoice-recipient-buttons"},React.createElement(Ne.a,{type:"button",onClick:this.navigateToInvoices.bind(this)},"Ok, got it")),React.createElement("p",{className:"support-details"},"Please email ",React.createElement("a",{href:"mailto:support@loom.co"},"support@loom.co")," if you are working on a Loom project so we can give you access.")),Boolean(t.recipients.length)&&React.createElement("div",{className:"invoice-recipient-container"},React.createElement("h2",null,"Who is this invoice for?"),React.createElement(Rt,{recipientOptions:[{id:"",label:"Select an entreprenuer",disabled:!0}].concat(A(n)),initialValues:{recipient:""},onSubmit:this.setInvoiceRecipient.bind(this)}),React.createElement("div",{className:"invoice-recipient-buttons"},React.createElement(Ne.a,{type:"button",onClick:this.handleSubmit.bind(this)},"Continue")),React.createElement("p",{className:"support-details"},"Can't find the person you want to invoice? Send an email to ",React.createElement("a",{href:"mailto:support@loom.co"},"support@loom.co")," so we can help.")))}}]),t}(React.Component),Ot=Object(we.b)(function(e){return{user:e.auth,recipients:e.invoices.create.recipients,invoice:e.invoices.create.invoice,isSubmitting:Object(Ve.m)("invoiceRecipient")(e)}})(gt),jt=Ot,Tt=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(gt,"InvoiceRecipient","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/create/components/recipient/index.js"),__REACT_HOT_LOADER__.register(Ot,"default","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/create/components/recipient/index.js"))}(),n("./app/scripts/components/errors/errors.js")),Dt=n("./app/scripts/components/formFields/input/index.js"),Ct=(n("./app/scripts/features/forms/invoice/components/hourlyFeeFields/styles.scss"),function(e){var t=e.fields,n=e.isValid,i=e.onBlur,a=e.meta,r=(a.touched,a.valid,a.invalid,a.error,a.pristine);return React.createElement("table",{className:"hourly-fields"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"Description of service"),React.createElement("th",null,"Hours"),React.createElement("th",null,"Rate"))),React.createElement("tbody",null,t.map(function(e,n){return React.createElement("tr",{key:n},React.createElement("td",null,React.createElement(Ve.a,{name:e+".description",placeholder:"e.g. development of homepage",component:Dt.a})),React.createElement("td",null,React.createElement(Ve.a,{name:e+".hours",type:"number",placeholder:"20",onBlur:i,component:Dt.a})),React.createElement("td",null,React.createElement(Ve.a,{prefix:"$",name:e+".rate",type:"number",placeholder:"50.00",onBlur:i,component:Dt.a}),t.length>1&&React.createElement("i",{className:"material-icons remove-item",onClick:function(){return t.remove(n)}})))})),React.createElement("tfoot",null,React.createElement("tr",null,React.createElement("td",null,React.createElement(Ne.a,{className:"add-button",type:"button",disabled:!n||r&&t.length<1,onClick:function(){return t.push({description:"",hours:"",rate:""})}},"Add item")))))}),At=Ct,wt=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(Ct,"default","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/features/forms/invoice/components/hourlyFeeFields/index.js")}(),n("./app/scripts/features/forms/invoice/components/fixedFeeFields/styles.scss"),function(e){var t=e.fields,n=e.isValid,i=e.onBlur,a=e.meta,r=(a.touched,a.valid,a.error,a.pristine);return React.createElement("table",{className:"fixed-fields"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"Description of service, deliverable or expense"),React.createElement("th",null),React.createElement("th",null,"Amount"))),React.createElement("tbody",null,t.map(function(e,n){return React.createElement("tr",{key:n},React.createElement("td",null,React.createElement(Ve.a,{name:e+".description",placeholder:"e.g. Weekly rate, Delivery of app or Software license purchase",component:Dt.a})),React.createElement("td",null),React.createElement("td",null,React.createElement(Ve.a,{prefix:"$",name:e+".amount",type:"number",placeholder:"50.00",component:Dt.a,onBlur:i}),t.length>1&&React.createElement("i",{className:"material-icons remove-item",onClick:function(){return t.remove(n)}})))})),React.createElement("tfoot",null,React.createElement("tr",null,React.createElement("td",null,React.createElement(Ne.a,{className:"add-button",type:"button",disabled:!n||r&&t.length<1,onClick:function(){return t.push({description:"",amount:""})}},"Add item")))))}),kt=wt,Nt=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(wt,"default","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/features/forms/invoice/components/fixedFeeFields/index.js")}(),n("./app/scripts/features/forms/invoice/components/contactField/styles.scss"),function(e){var t=(e.label,e.target),n=void 0===t?"sender":t;return React.createElement("div",{className:"contact-field"},React.createElement(Ve.a,{name:n+"_name",placeholder:"Name or company name",component:"input"}),React.createElement("br",null),React.createElement(Ve.a,{name:n+"_address",placeholder:"sender"===n?"Freelancer address line 1":"Employer address line 1",component:"input"}),React.createElement(Ve.a,{name:n+"_address2",placeholder:"sender"===n?"Freelancer address line 2":"Employer address line 2",component:"input"}),React.createElement(Ve.a,{name:n+"_location",placeholder:"City, State, Postal Code",component:"input"}),React.createElement("br",null),React.createElement(Ve.a,{name:n+"_email",placeholder:"sender"===n?"Email: you@example.com":"Email: employer@example.com",component:"input"}),React.createElement(Ve.a,{name:n+"_phone",placeholder:"Phone number",component:"input"}))}),St=Nt,xt=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(Nt,"default","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/features/forms/invoice/components/contactField/index.js")}(),n("./app/scripts/components/formFields/invoicePhoto/styles.scss"),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),Pt=function(e){function t(e){S(this,t);var n=x(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={preview:"string"==typeof e.input.value?e.input.value:""},n}return P(t,e),xt(t,[{key:"handlePhotoSelection",value:function(e){var t=this,n=this.props,i=n.input,a=(i.value,i.onChange),r=n.meta,s=(r.touched,r.error,new FileReader),c=e.target.files[0],o=/(\.jpg|\.jpeg|\.bmp|\.gif|\.png)$/i.test(c.name);c&&o&&(s.onloadend=function(){t.setState({preview:s.result}),a(c)},s.readAsDataURL(c))}},{key:"handleRemovePhoto",value:function(e){var t=this.props,n=t.input,i=(n.value,n.onChange),a=t.meta;a.touched,a.error,this.setState({preview:""}),i("")}},{key:"render",value:function(){var e=this.props,t=(e.input.value,e.meta),n=(t.touched,t.error,this.state.preview);return React.createElement("div",null,React.createElement("div",{className:"invoice-photo-preview"},n&&React.createElement("div",{className:"generic-invoice-photo",style:{backgroundImage:"url("+n+")"}}),!n&&React.createElement(Ne.a,{className:"photo-upload-button",fileInput:!0,center:!0,disabled:!1,onFileSelection:this.handlePhotoSelection.bind(this)},React.createElement("span",null,React.createElement("i",{className:"material-icons"},"add")," Add logo"))),n&&React.createElement("div",{className:"invoice-photo-upload"},React.createElement(Ne.a,{fileInput:!0,center:!0,disabled:!1,onFileSelection:this.handlePhotoSelection.bind(this)},"Change logo")))}}]),t}(React.Component),Yt=Pt,Lt=Yt,Ht=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Pt,"InvoicePhotoField","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/components/formFields/invoicePhoto/index.js"),__REACT_HOT_LOADER__.register(Yt,"default","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/components/formFields/invoicePhoto/index.js"))}(),function(e){var t=e.name,n=void 0===t?"logo":t,i=e.label,a=void 0===i?"Add logo":i;return React.createElement(Ve.a,{name:n,label:a,component:Lt})}),It=Ht,qt=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(Ht,"default","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/features/forms/invoice/components/photoField/index.js")}(),n("./app/scripts/components/formFields/dateInput/index.js")),Mt=n("./app/scripts/containers/invoices/edit/actions/index.js"),Vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ft=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Y,"updateInvoice","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/edit/actions/api.js"),__REACT_HOT_LOADER__.register(L,"updateInvoicePhoto","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/edit/actions/api.js"),__REACT_HOT_LOADER__.register(H,"calculateInvoice","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/edit/actions/api.js"))}(),function(e,t){var n={},i=[],a=[],r=!1,s=!1;return ft.a.checks.isRequired(e.sender_name)||(n.sender_name="Please enter your contact name."),ft.a.checks.isRequired(e.sender_email)||(n.sender_email="Please enter your contact email."),ft.a.checks.isRequired(e.recipient_name)||(n.recipient_name="Please enter your recipient's name."),ft.a.checks.isRequired(e.recipient_email)||(n.recipient_email="Please enter your recipient's email."),ft.a.checks.isRequired(e.title)||(n.title="Please enter what this invoice is for."),ft.a.checks.isMomentFormat(e.start_date,"MM/DD/YYYY")||(n.start_date="Please enter a start date."),ft.a.checks.isMomentFormat(e.end_date,"MM/DD/YYYY")||(n.end_date="Please enter an end date."),ft.a.checks.isMomentFormat(e.due_date,"MM/DD/YYYY")||(n.due_date="Please enter a due date."),e.hourly_items.forEach(function(t,n){var a={};1===e.hourly_items.length&&(r=!Boolean(Number(t.rate))&&!Boolean(Number(t.hours))&&!t.description),t.description&&ft.a.checks.isRequired(t.description)||(a.description="Please enter a description.",i[n]=a),Number.isNaN(t.hours)&&"number"!=typeof Number(t.hours)&&(a.hours="Please enter hours.",i[n]=a),Number.isNaN(t.rate)&&"number"!=typeof Number(t.rate)&&(a.rate="Please enter a rate.",i[n]=a)}),e.fixed_items.forEach(function(t,n){var i={};1===e.fixed_items.length&&(s=!Boolean(Number(t.amount))&&!t.description),t.description&&ft.a.checks.isRequired(t.description)||(i.description="Please enter a description.",a[n]=i),Number.isNaN(t.amount)&&"number"!=typeof Number(t.amount)&&(i.amount="Please enter an amount.",a[n]=i)}),!r&&1===e.hourly_items.length&&i.length?n.hourly_items=i:e.hourly_items.length>1&&i.length&&(n.hourly_items=i),!s&&1===e.fixed_items.length&&a.length?n.fixed_items=a:e.fixed_items.length>1&&a.length&&(n.fixed_items=a),r&&s&&(n.invoice_items="Please add a line item to your invoice."),n}),Ut=Ft,Jt=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(Ft,"default","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/features/forms/invoice/validation.js")}(),n("./app/scripts/features/forms/invoice/styles.scss"),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),Bt=function(e){function t(){return M(this,t),V(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return F(t,e),Jt(t,[{key:"onSubmit",value:function(){this.props.pristine?this.props.onCancel():this.props.handleSubmit()}},{key:"componentDidUpdate",value:function(e){var t=this.props.formValues&&e.formValues&&e.formValues.fixed_items.length>this.props.formValues.fixed_items.length,n=this.props.formValues&&e.formValues&&e.formValues.hourly_items.length>this.props.formValues.hourly_items.length;(t||n)&&this.calculateInvoice()}},{key:"calculateInvoice",value:function(){var e=this.props.formValues,t=e.reference_id,n=(e.logo,e.sender,e.recipient,q(e,["reference_id","logo","sender","recipient"]));return this.props.dispatch(H(t,{invoice_items:[].concat(I(n.hourly_items.map(function(e){return Object.assign({},e,{hours:Number(e.hours),rate:Number(e.rate),amount:Number(e.hours)*Number(e.rate)})}).filter(function(e){var t=!0;for(var n in e)"id"!==n&&e[n]&&(t=!1);return!t})),I(n.fixed_items.map(function(e){return Object.assign({},e,{hours:null,rate:null,amount:Number(e.amount)})}).filter(function(e){var t=!0;for(var n in e)"id"!==n&&e[n]&&(t=!1);return!t})))})).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this.props,t=(e.invoice,e.editInvoice),n=(e.touchedFields,e.formValues),i=e.invalid,a=(e.valid,e.error),r=e.fieldErrors,s=e.submitFailed,c=n&&n.hourly_items.reduce(function(e,t){return e+Number(t.hours)*Number(t.rate)},0),o=n&&n.fixed_items.reduce(function(e,t){return e+Number(t.amount)},0),l=t.meta.loom_fee,u=t.meta.total_amount-t.meta.loom_fee;return React.createElement("form",{className:"invoice-form"},React.createElement("div",{className:"invoice-header"},React.createElement("div",{className:"logo-field"},React.createElement(It,null)),React.createElement("div",{className:"contact-fields"},React.createElement("div",null,React.createElement("label",{className:"form-label"},"From:"),React.createElement("div",{className:"invoice-contact"},React.createElement(St,{target:"sender"}),s&&r&&r.sender_name&&React.createElement(Tt.c,null,r.sender_name),s&&r&&r.sender_email&&React.createElement(Tt.c,null,r.sender_email))),React.createElement("div",null,React.createElement("label",{className:"form-label"},"To:"),React.createElement("div",{className:"invoice-contact"},React.createElement(St,{target:"recipient"}),s&&r&&r.recipient_name&&React.createElement(Tt.c,null,r.recipient_name),s&&r&&r.recipient_email&&React.createElement(Tt.c,null,r.recipient_email))))),React.createElement("div",{className:"invoice-details"},React.createElement("div",{className:"field-set"},React.createElement("label",{className:"form-label"},"Invoice date: ",n&&n.sent_date)),React.createElement("div",null,React.createElement("label",{className:"form-label"},"Invoice reference number: ",n&&n.reference_id&&n.reference_id.split("-")[0])),React.createElement("div",{className:"field-set subject-field"},React.createElement("label",{className:"form-label"},"Invoice for:"),React.createElement(Ve.a,{name:"title",placeholder:"Insert project name here",component:Dt.a})),React.createElement("div",{className:"field-set timeframe-field"},React.createElement("label",{className:"form-label"},"Work timeframe:"),React.createElement(Ve.a,{name:"start_date",placeholder:"MM/DD/YYYY",parse:function(e){return e?Pe()(e,"YYYY-MM-DD").format("MM/DD/YYYY"):""},component:qt.a}),React.createElement("label",{className:"form-label"},"-"),React.createElement(Ve.a,{name:"end_date",placeholder:"MM/DD/YYYY",parse:function(e){return e?Pe()(e,"YYYY-MM-DD").format("MM/DD/YYYY"):""},component:qt.a}))),React.createElement("h3",null,"Hourly services"),React.createElement(Ve.b,{name:"hourly_items",isValid:!r||!r.hourly_items,onBlur:this.calculateInvoice.bind(this),component:At}),React.createElement("h3",null,"Flat-rate services and expenses"),React.createElement(Ve.b,{name:"fixed_items",isValid:!r||!r.fixed_items,onBlur:this.calculateInvoice.bind(this),component:kt}),React.createElement(Ve.a,{style:{display:"none"},name:"invoice_items",component:"input"}),React.createElement("div",{className:"invoice-totals"},React.createElement("div",{className:"invoice-summary"},t.isCalculating&&React.createElement(Se.a,null),!t.isCalculating&&React.createElement("table",null,React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",null,"Hourly fees"),React.createElement("td",null,"$",Object(Ye.a)(c,{minimumFractionDigits:2,maximumFractionDigits:2}))),React.createElement("tr",null,React.createElement("td",null,"Flat fees and expenses"),React.createElement("td",null,"$",Object(Ye.a)(o,{minimumFractionDigits:2,maximumFractionDigits:2}))),React.createElement("tr",{className:"loom-fee"},React.createElement("td",null,"Loom service fee (10%)"),React.createElement("td",null,"-$",Object(Ye.a)(l,{minimumFractionDigits:2,maximumFractionDigits:2})))),React.createElement("tfoot",{className:"invoice-sum"},React.createElement("tr",null,React.createElement("td",{className:"total-label"},"Total you will receive"),React.createElement("td",null,"$",Object(Ye.a)(u,{minimumFractionDigits:2,maximumFractionDigits:2})))))),React.createElement("div",{className:"invoice-delivery-date"},React.createElement("label",{className:"form-label"},"Please deliver payment through the Loom platform by"),React.createElement(Ve.a,{name:"due_date",placeholder:"MM/DD/YYYY",parse:function(e){return e?Pe()(e,"YYYY-MM-DD").format("MM/DD/YYYY"):""},component:qt.a}))),s&&r&&r.invoice_items&&React.createElement(Tt.b,null,r.invoice_items),s&&i&&!a&&React.createElement("div",{className:"field-set"},React.createElement(Tt.b,null,"Please fix the errors above and try again.")),s&&a&&React.createElement("div",{className:"field-set"},React.createElement(Tt.a,{error:a})))}}]),t}(React.Component);Bt=Object(Ve.o)({form:"invoice",validate:Ut,asyncValidating:!1,touchOnBlur:!1})(Bt);var Wt=Object(we.b)(function(e){return{invoice:e.invoices.details,editInvoice:e.invoices.edit.invoice,formValues:Object(Ve.j)("invoice")(e),fieldErrors:Object(Ve.i)("invoice")(e)}})(Bt),$t=Wt,zt=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Bt,"InvoiceForm","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/features/forms/invoice/index.js"),__REACT_HOT_LOADER__.register(Wt,"default","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/features/forms/invoice/index.js"))}(),n("./app/scripts/containers/invoices/edit/components/invoice/styles.scss"),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),Xt=function(e){function t(){return B(this,t),W(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return $(t,e),zt(t,[{key:"showCancelConfirmation",value:function(){if(this.props.isPristine)return this.props.history.push("/invoices/sent");this.props.dispatch(Object(Mt.w)())}},{key:"hideCancelConfirmation",value:function(){this.props.dispatch(Object(Mt.p)())}},{key:"handleSubmit",value:function(e){this.props.dispatch(Object(Ve.e)("invoice","status",e)),this.props.dispatch(Object(Ve.p)("invoice"))}},{key:"updateInvoiceLogo",value:function(e){var t=e.reference_id,n=e.logo;if(n&&"string"!=typeof n){var i=new FormData;return i.append("logo",n,n.name),this.props.dispatch(L(t,{logo:i}))}return Promise.resolve(e)}},{key:"updateInvoice",value:function(e){var t=this,n=e.reference_id,i=(e.logo,e.sender,e.recipient,J(e,["reference_id","logo","sender","recipient"]));return this.updateInvoiceLogo(e).then(function(){return t.props.dispatch(Y(n,Object.assign({},i,{due_date:Pe()(i.due_date,"MM/DD/YYYY").format("YYYY-MM-DD"),sent_date:Pe()(i.sent_date,"MM/DD/YYYY").format("YYYY-MM-DD"),start_date:Pe()(i.start_date,"MM/DD/YYYY").format("YYYY-MM-DD"),end_date:Pe()(i.end_date,"MM/DD/YYYY").format("YYYY-MM-DD"),invoice_items:[].concat(U(i.hourly_items.map(function(e){return Object.assign({},e,{hours:Number(e.hours),rate:Number(e.rate),amount:Number(e.hours)*Number(e.rate)})}).filter(function(e){var t=!0;for(var n in e)"id"!==n&&e[n]&&(t=!1);return!t})),U(i.fixed_items.map(function(e){return Object.assign({},e,{hours:null,rate:null,amount:Number(e.amount)})}).filter(function(e){var t=!0;for(var n in e)"id"!==n&&e[n]&&(t=!1);return!t})))})))}).then(function(e){"draft"===e.status&&t.props.history.push("/invoices/sent")}).catch(function(e){throw new Ve.d(e)})}},{key:"render",value:function(){var e=this.props,t=e.invoice,n=(e.editInvoice,e.isPristine),i=e.isSubmitting,a=e.match.params;return React.createElement("div",{className:"invoice-items-container"},React.createElement(ke.a,null,t.isFetching&&React.createElement(Se.a,null),!t.isFetching&&React.createElement("div",null,React.createElement($t,{initialValues:Object.assign({},t.details,{title:t.details.title||"",due_date:t.details.due_date?Pe()(t.details.due_date,"YYYY-MM-DD").format("MM/DD/YYYY"):"",sent_date:t.details.sent_date?Pe()(t.details.sent_date,"YYYY-MM-DD").format("MM/DD/YYYY"):Pe()().format("MM/DD/YYYY"),start_date:t.details.start_date?Pe()(t.details.start_date,"YYYY-MM-DD").format("MM/DD/YYYY"):"",end_date:t.details.end_date?Pe()(t.details.end_date,"YYYY-MM-DD").format("MM/DD/YYYY"):"",hourly_items:t.details.hourly_items&&t.details.hourly_items.length?t.details.hourly_items:[{description:"",hours:"",rate:"",amount:""}],fixed_items:t.details.fixed_items&&t.details.fixed_items.length?t.details.fixed_items:[{description:"",hours:"",rate:"",amount:""}],sender_name:t.details.sender_name||"",sender_email:t.details.sender_email||"",recipient_name:t.details.recipient_name||"",recipient_email:t.details.recipient_email||""}),onSubmit:this.updateInvoice.bind(this)}),React.createElement("div",{className:"invoice-form-footer"},React.createElement(Ne.a,{type:"button",buttonType:"secondary",onClick:this.showCancelConfirmation.bind(this)},"Cancel"),React.createElement(Ne.a,{type:"button",isLoading:i,disabled:"sent"===t.details.status&&n||i,onClick:this.props.handleSubmit.bind(null,"sent")},a.invoiceId&&"sent"===t.details.status?"Send revised invoice":"Send invoice")))))}}]),t}(React.Component),Kt=Object(we.b)(function(e){return{user:e.auth,invoice:e.invoices.edit.invoice,isPristine:Object(Ve.l)("invoice")(e),isSubmitting:Object(Ve.m)("invoice")(e)}})(Xt),Gt=Kt,Qt=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Xt,"EditInvoiceItems","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/edit/components/invoice/index.js"),__REACT_HOT_LOADER__.register(Kt,"default","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/edit/components/invoice/index.js"))}(),n("./app/scripts/containers/invoices/create/components/confirmation/styles.scss"),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),Zt=function(e){function t(){return z(this,t),X(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return K(t,e),Qt(t,[{key:"navigateToInvoices",value:function(){var e=this.props.invoice.details;this.props.history.push("/invoices/"+e.reference_id)}},{key:"render",value:function(){var e=this.props.invoice;return React.createElement("div",{className:"invoice-confirmation"},React.createElement("div",{className:"confirmation-icon"}),React.createElement("h2",null,"Invoice sent to ",React.createElement("span",null,e.details.recipient_name),"!"),React.createElement("h2",{className:"confirmation-subheader"},"We'll alert you when they send payment. If anything needs to change, you can revise the invoice from the invoices tab in your dashboard."),React.createElement("div",{className:"confirmation-actions"},React.createElement(Ne.a,{type:"button",onClick:this.navigateToInvoices.bind(this,"equity")},"Ok, I got it")))}}]),t}(React.Component),en=Object(we.b)(function(e){return{user:e.auth,invoice:e.invoices.create.invoice}})(Zt),tn=en,nn=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Zt,"InvoiceConfirmation","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/create/components/confirmation/index.js"),__REACT_HOT_LOADER__.register(en,"default","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/create/components/confirmation/index.js"))}(),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}),an=function(e){var t=e.match,n=t.path,i=(t.url,G(e,["match"]));return React.createElement(Ae.f,null,React.createElement(Ae.e,{path:n+"/stripe",render:function(e){return React.createElement(ut,nn({},e,i))}}),React.createElement(Ae.e,{path:n+"/recipient",render:function(e){return React.createElement(jt,nn({},e,i))}}),React.createElement(Ae.e,{path:n+"/invoice",render:function(e){return React.createElement(Gt,nn({},e,i))}}),React.createElement(Ae.e,{path:n+"/confirmation",render:function(e){return React.createElement(tn,nn({},e,i))}}))},rn=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(an,"routes","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/create/routes.js")}(),n("./app/scripts/containers/invoices/create/styles.scss"),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),sn=function(e){function t(){return Q(this,t),Z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ee(t,e),rn(t,[{key:"componentWillMount",value:function(){var e=this.props,t=(e.user,e.creationSteps),n=(e.invoice,e.location),i=this.props.location.search,a=Ge.a.parse(i),r=a.code,s=void 0===r?"":r,c=t.steps.findIndex(function(e){return e.route.test(n.pathname)});this.props.dispatch(Object(nt.a)(s)),(c>0||c<0)&&this.props.history.replace(t.steps[0].path),this.props.dispatch(Object(et.n)()),this.props.dispatch(_())}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.creationSteps,i=t.location,a=e.creationSteps,r=e.location;if(n.step!==a.step)this.goToRequiredRoute(a);else if(i.pathname!==r.pathname){var s=a.steps.findIndex(function(e){return e.route.test(r.pathname)});this.props.dispatch(Object(et.o)(s))}}},{key:"getAccountStatus",value:function(){var e=this.props.user,t=e.connected,n=e.payouts_enabled,i=e.verification;return t&&n&&"verified"===i?"verified":t&&n&&"verified"!==i?"connected":t&&!n&&"unverified"===i?"pending":t&&!n?"blocked":void 0}},{key:"goToRequiredRoute",value:function(e){var t=e.step,n=e.steps;!e.isComplete&&n[t]?this.props.history.push(n[t].path):this.props.history.push("/invoices/sent")}},{key:"showCancelConfirmation",value:function(){this.props.creationSteps.step<=0?this.navigateToInvoices():this.props.dispatch(Object(et.A)())}},{key:"hideCancelConfirmation",value:function(){this.props.dispatch(Object(et.p)())}},{key:"navigateToInvoices",value:function(){this.hideCancelConfirmation(),this.props.history.push("/invoices/sent")}},{key:"goBack",value:function(e){e.preventDefault(),this.props.history.goBack()}},{key:"deleteInvoice",value:function(){var e=this,t=this.props.invoice.details;this.props.dispatch(h(t.reference_id)).then(function(){e.navigateToInvoices()}).catch(function(e){console.log(e)})}},{key:"handleSubmit",value:function(e){var t=this;new Promise(function(n,i){return t.props.dispatch(Object(Ve.e)("invoice","status",e)),n()}).then(function(){t.props.dispatch(Object(Ve.p)("invoice")),t.hideCancelConfirmation()})}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.creationSteps,i=e.invoice,a=e.recipients,r=e.isSubmitting;return React.createElement("div",{className:"invoice-creation-container"},React.createElement("div",{className:"sticky-header"},React.createElement(Qe.a,null),t.connected&&!a.isFetching&&React.createElement("div",{className:"progress-bar"},React.createElement("div",{style:{width:n.progress+"%"}}))),n.header&&React.createElement("div",{className:"step-controller"},t.connected&&!a.isFetching&&React.createElement("div",{className:"step-controller-content"},React.createElement("span",{className:"prev-button"}),React.createElement("h2",null,n.header(a)),React.createElement("span",{className:"next-button"})),React.createElement("div",{className:"cancel-button",onClick:this.showCancelConfirmation.bind(this)},React.createElement("i",{className:"material-icons"},"close"))),React.createElement("div",{className:"invoice-creation-content"},!a.isFetching&&an(Object.assign({},this.props,{handleSubmit:this.handleSubmit.bind(this)}))),React.createElement(Ze.c,{className:"invoice-confirmation-modal",open:i.showConfirmation,header:"Save as draft?",footer:React.createElement("div",{className:"modal-footer"},React.createElement(Ne.a,{type:"button",buttonType:"secondary",onClick:this.deleteInvoice.bind(this)},"No, discard invoice"),React.createElement(Ne.a,{type:"button",isLoading:r,disabled:r,onClick:this.handleSubmit.bind(this,"draft")},"Yes, save for later")),onClose:this.hideCancelConfirmation.bind(this)},React.createElement("h2",null,"Do you want to save this invoice as a draft to complete later?")))}}]),t}(React.Component),cn=Object(Ae.g)(Object(we.b)(function(e){return{user:e.auth,recipients:e.invoices.create.recipients,creationSteps:e.invoices.create.creationSteps,invoice:e.invoices.create.invoice}})(sn)),on=cn,ln=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(sn,"CreateInvoice","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/create/index.js"),__REACT_HOT_LOADER__.register(cn,"default","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/create/index.js"))}(),n("./app/scripts/components/profilePhoto/profilePhoto.jsx"),n("./app/scripts/containers/invoices/received/actions/index.js")),un=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(te,"fetchInvoices","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/received/actions/api.js")}(),n("./app/scripts/containers/invoices/received/styles.scss"),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),pn=function(e){function t(){return ne(this,t),ie(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ae(t,e),un(t,[{key:"componentWillMount",value:function(){this.props.dispatch(te())}},{key:"navigateToInvoiceCreate",value:function(){this.props.history.push("/invoices/new")}},{key:"navigateToInvoiceDetails",value:function(e){this.props.history.push("/invoices/"+e)}},{key:"getInvoiceStatus",value:function(e){var t=e.status,n=e.due_date,i=Pe()(Date.now()).format("YYYY-MM-DD");return"sent"===t&&Date.parse(i)>Date.parse(n)?"past-due":"pending"===t||"draft"===t||"sent"===t?"unpaid":"paid"}},{key:"render",value:function(){var e=this,t=this.props.invoices;return React.createElement("div",{className:"invoices-received-container"},React.createElement("ul",{className:"mobile-invoices-nav"},React.createElement("li",null,React.createElement(Ae.c,{to:"/invoices/sent",activeClassName:"active"},"New and sent invoices")),React.createElement("li",null,React.createElement(Ae.c,{to:"/invoices/received",activeClassName:"active"},"Received invoices")),React.createElement("li",null,React.createElement(Ne.a,{type:"button",onClick:this.navigateToInvoiceCreate.bind(this)},"Create new invoice"))),React.createElement("h2",null,"Review and pay invoices from freelancers"),React.createElement(ke.a,{header:"Received invoices"},t.isFetching&&React.createElement(Se.a,null),!t.isFetching&&t.invoices.length>0&&React.createElement("table",null,React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"From"),React.createElement("th",null,"Invoice ID"),React.createElement("th",{className:"total-amount-cell"},"Total Amount"),React.createElement("th",{className:"net-amout-cell"},"Net Amount"),React.createElement("th",null,"Status"),React.createElement("th",{className:"due-date-cell"},"Due date"))),React.createElement("tbody",null,t&&t.invoices.map(function(t,n){var i=t.invoice_items.reduce(function(e,t){var n=t.amount;return e+Number(n)},0),a=i-.1*i,r=(t.sent_date&&Pe()(t.sent_date,"YYYY-MM-DD").format("MMMM Do, YYYY"),t.due_date?Pe()(t.due_date,"YYYY-MM-DD").format("MMMM Do, YYYY"):""),s=e.getInvoiceStatus(t);return React.createElement("tr",{key:n,onClick:e.navigateToInvoiceDetails.bind(e,t.reference_id)},React.createElement("td",null,t.sender_name),React.createElement("td",null,t.reference_id&&t.reference_id.split("-")[0]),React.createElement("td",{className:"total-amount-cell"},"$",Object(Ye.a)(i,{minimumFractionDigits:2,maximumFractionDigits:2})),React.createElement("td",{className:"net-amout-cell"},"$",Object(Ye.a)(a,{minimumFractionDigits:2,maximumFractionDigits:2})),React.createElement("td",null,React.createElement("span",{className:"invoice-"+s},s)),React.createElement("td",{className:"due-date-cell"},r))}))),!t.isFetching&&!t.invoices.length&&React.createElement("div",{className:"invoices-empty"},"You have not received any invoices... yet.")))}}]),t}(React.Component),mn=Object(we.b)(function(e){return{user:e.auth,invoices:e.invoices.received}})(pn),dn=mn,fn=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(pn,"ReceivedInvoices","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/received/index.js"),__REACT_HOT_LOADER__.register(mn,"default","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/received/index.js"))}(),n("./app/scripts/containers/invoices/sent/actions/index.js")),vn=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(re,"fetchInvoices","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/sent/actions/api.js"),__REACT_HOT_LOADER__.register(se,"deleteInvoice","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/sent/actions/api.js"))}(),n("./app/scripts/containers/invoices/sent/styles.scss"),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),_n=function(e){function t(){return ce(this,t),oe(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return le(t,e),vn(t,[{key:"componentWillMount",value:function(){this.props.dispatch(re({action:"sent"}))}},{key:"navigateToInvoiceDetails",value:function(e){this.props.history.push("/invoices/"+e)}},{key:"navigateToInvoiceEdit",value:function(e){this.props.history.push("/invoices/"+e+"/edit")}},{key:"navigateToInvoiceCreate",value:function(){this.props.history.push("/invoices/new")}},{key:"showDeleteConfirmation",value:function(e,t){t.stopPropagation(),this.props.dispatch(Object(fn.p)(e))}},{key:"hideDeleteConfirmation",value:function(){this.props.dispatch(Object(fn.i)())}},{key:"deleteInvoice",value:function(){var e=this.props.invoices.confirmationInvoiceId;this.props.dispatch(se(e))}},{key:"getInvoiceStatus",value:function(e){var t=e.status,n=e.due_date,i=Pe()(Date.now()).format("YYYY-MM-DD");return"pending"===t||"draft"===t?"draft":"sent"===t&&Date.parse(i)>Date.parse(n)?"past-due":"sent"===t?"sent":"paid"}},{key:"render",value:function(){var e=this,t=this.props.invoices;return React.createElement("div",{className:"invoices-sent-container"},React.createElement("ul",{className:"mobile-invoices-nav"},React.createElement("li",null,React.createElement(Ae.c,{to:"/invoices/sent",activeClassName:"active"},"New and sent invoices")),React.createElement("li",null,React.createElement(Ae.c,{to:"/invoices/received",activeClassName:"active"},"Received invoices")),React.createElement("li",null,React.createElement(Ne.a,{type:"button",onClick:this.navigateToInvoiceCreate.bind(this)},"Create new invoice"))),React.createElement("div",{className:"invoices-sent-header"},React.createElement("h2",null,"Create and send invoices"),React.createElement(Ne.a,{type:"button",onClick:this.navigateToInvoiceCreate.bind(this)},"Create new invoice")),React.createElement(ke.a,{header:"My invoices"},t.isFetching&&React.createElement(Se.a,null),!t.isFetching&&t.invoices.length>0&&React.createElement("table",null,React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"Client"),React.createElement("th",null,"Invoice ID"),React.createElement("th",{className:"total-amount-cell"},"Total Amount"),React.createElement("th",{className:"net-amout-cell"},"Net Amount"),React.createElement("th",null,"Status"),React.createElement("th",{className:"due-date-cell"},"Due date"),React.createElement("th",null))),React.createElement("tbody",null,t&&t.invoices.map(function(t,n){var i=t.invoice_items.reduce(function(e,t){var n=t.amount;return e+Number(n)},0),a=i-.1*i,r=t.due_date?Pe()(t.due_date,"YYYY-MM-DD").format("MMMM Do, YYYY"):"",s=e.getInvoiceStatus(t),c="draft"===s?e.navigateToInvoiceEdit.bind(e,t.reference_id):e.navigateToInvoiceDetails.bind(e,t.reference_id);return React.createElement("tr",{key:n,onClick:c},React.createElement("td",null,t.recipient_name),React.createElement("td",null,t.reference_id&&t.reference_id.split("-")[0]),React.createElement("td",{className:"total-amount-cell"},"$",Object(Ye.a)(i,{minimumFractionDigits:2,maximumFractionDigits:2})),React.createElement("td",{className:"net-amout-cell"},"$",Object(Ye.a)(a,{minimumFractionDigits:2,maximumFractionDigits:2})),React.createElement("td",null,React.createElement("span",{className:"invoice-"+s},s,t.viewed&&"paid"!==s&&"draft"!==s&&React.createElement("i",{className:"viewed-status"},"seen by client"))),React.createElement("td",{className:"due-date-cell"},r),React.createElement("td",null,"draft"===s&&React.createElement("i",{className:"delete-button",onClick:e.showDeleteConfirmation.bind(e,t.reference_id)})))}))),!t.isFetching&&!t.invoices.length&&React.createElement("div",{className:"invoices-empty"},"You haven't created any invoices... yet.")),React.createElement(Ze.c,{className:"invoice-delete-modal",open:t.showConfirmation,header:"Confirmation",footer:React.createElement("div",{className:"modal-footer"},React.createElement(Ne.a,{type:"button",buttonType:"secondary",onClick:this.hideDeleteConfirmation.bind(this)},"No, keep it"),React.createElement(Ne.a,{type:"button",isLoading:t.isDeleting,disabled:t.isDeleting,onClick:this.deleteInvoice.bind(this)},"Yes, delete it")),onClose:this.hideDeleteConfirmation.bind(this)},React.createElement("h2",null,"Are you sure want to delete this invoice draft?")))}}]),t}(React.Component),yn=Object(we.b)(function(e){return{invoices:e.invoices.sent}})(_n),hn=yn,En=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(_n,"SentInvoices","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/sent/index.js"),__REACT_HOT_LOADER__.register(yn,"default","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/sent/index.js"))}(),n("./app/scripts/containers/invoices/edit/components/confirmation/styles.scss"),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),Rn=function(e){function t(){return ue(this,t),pe(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return me(t,e),En(t,[{key:"navigateToInvoices",value:function(){var e=this.props.invoice.details;this.props.history.push("/invoices/"+e.reference_id)}},{key:"render",value:function(){var e=this.props.invoice;return React.createElement("div",{className:"invoice-confirmation"},React.createElement("div",{className:"invoice-confirmation-message"},React.createElement("div",{className:"confirmation-icon"}),React.createElement("h2",null,"draft"===e.prevStatus?"Invoice sent to":"Revised invoice sent to"," ",React.createElement("span",null,e.details.recipient_name),"!"),React.createElement("h2",{className:"confirmation-subheader"},"We'll alert you when they send payment. If anything needs to change, you can revise the invoice from the invoices tab in your dashboard."),React.createElement("div",{className:"confirmation-actions"},React.createElement(Ne.a,{type:"button",onClick:this.navigateToInvoices.bind(this)},"Ok, I got it"))))}}]),t}(React.Component),bn=Object(we.b)(function(e){return{user:e.auth,invoice:e.invoices.edit.invoice}})(Rn),gn=bn,On=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Rn,"InvoiceConfirmation","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/edit/components/confirmation/index.js"),__REACT_HOT_LOADER__.register(bn,"default","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/edit/components/confirmation/index.js"))}(),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}),jn=function(e){var t=e.match,n=t.path,i=(t.url,de(e,["match"]));return React.createElement(Ae.f,null,React.createElement(Ae.e,{exact:!0,path:""+n,render:function(e){return React.createElement(Gt,On({},e,i))}}),React.createElement(Ae.e,{exact:!0,path:n+"/confirmation",render:function(e){return React.createElement(gn,On({},e,i))}}))},Tn=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(jn,"routes","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/edit/routes.js")}(),n("./app/scripts/containers/invoices/edit/styles.scss"),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),Dn=function(e){function t(){return fe(this,t),ve(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _e(t,e),Tn(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props,n=t.user,i=t.editSteps,a=(t.invoice,t.location),r=t.match.params,s=i.steps.findIndex(function(e){return e.route.test(a.pathname)});(s>0||s<0)&&this.props.history.replace(i.steps[0].path(r.invoiceId)),this.props.dispatch(Object(Mt.n)()),this.props.dispatch(p(r.invoiceId)).then(function(t){t.sender.id!==n.user_id&&e.props.history.replace("/invoices/sent")}).catch(function(e){console.log(e)})}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.editSteps,i=t.location,a=e.editSteps,r=e.location;if(n.step!==a.step)this.goToRequiredRoute(a);else if(i.pathname!==r.pathname){var s=a.steps.findIndex(function(e){return e.route.test(r.pathname)});this.props.dispatch(Object(Mt.o)(s))}}},{key:"goToRequiredRoute",value:function(e){var t=e.step,n=e.steps,i=e.isComplete,a=this.props.match.params;this.props.invoice.details,!i&&n[t]?this.props.history.push(n[t].path(a.invoiceId)):this.props.history.push("/invoices/sent")}},{key:"showCancelConfirmation",value:function(){this.props.dispatch(Object(Mt.w)())}},{key:"hideCancelConfirmation",value:function(){this.props.dispatch(Object(Mt.p)())}},{key:"navigateToInvoices",value:function(){this.hideCancelConfirmation(),this.props.history.push("/invoices/sent")}},{key:"navigateToInvoice",value:function(e){this.hideCancelConfirmation(),this.props.history.push("/invoices/"+e)}},{key:"handleSubmit",value:function(e){var t=this;new Promise(function(n,i){return t.props.dispatch(Object(Ve.e)("invoice","status",e)),n()}).then(function(){t.props.dispatch(Object(Ve.p)("invoice")),t.hideCancelConfirmation()})}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.editSteps,i=e.invoice,a=e.editInvoice,r=i.details.sender.id===t.user_id;return React.createElement("div",{className:"invoice-edit-container"},React.createElement("div",{className:"sticky-header"},React.createElement(Qe.a,null),React.createElement("div",{className:"progress-bar"},React.createElement("div",{style:{width:n.progress+"%"}}))),n.header&&React.createElement("div",{className:"step-controller"},React.createElement("div",{className:"step-controller-content"},React.createElement("span",{className:"prev-button"}),React.createElement("h2",null,n.header(i.details)),React.createElement("span",{className:"next-button"})),React.createElement("div",{className:"cancel-button",onClick:this.showCancelConfirmation.bind(this)},React.createElement("i",{className:"material-icons"},"close"))),React.createElement("div",{className:"invoice-edit-content"},!i.isFetching&&r&&jn(Object.assign({},this.props,{handleSubmit:this.handleSubmit.bind(this)}))),React.createElement(Ze.c,{className:"invoice-confirmation-modal",open:a.showConfirmation,header:"Are you sure?",footer:React.createElement("div",{className:"modal-footer"},React.createElement(Ne.a,{type:"button",buttonType:"secondary",onClick:"sent"===i.details.status?this.navigateToInvoice.bind(this,i.details.reference_id):this.navigateToInvoices.bind(this)},"Yes, discard changes"),React.createElement(Ne.a,{type:"button",onClick:"sent"===i.details.status?this.hideCancelConfirmation.bind(this):this.handleSubmit.bind(this,"draft")},"sent"===i.details.status?"No, keep editing":"No, save changes")),onClose:this.hideCancelConfirmation.bind(this)},React.createElement("h2",null,"You made edits to this invoice. Are you sure you want to leave and discard those edits?")))}}]),t}(React.Component),Cn=Object(we.b)(function(e){return{user:e.auth,editSteps:e.invoices.edit.editSteps,invoice:e.invoices.details,editInvoice:e.invoices.edit.invoice,isPristine:Object(Ve.l)("invoice")(e)}})(Dn),An=Cn,wn=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Dn,"EditInvoice","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/edit/index.js"),__REACT_HOT_LOADER__.register(Cn,"default","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/edit/index.js"))}(),n("./app/scripts/features/forms/payment/index.js")),kn=n("./app/scripts/containers/invoices/payment/actions/index.js"),Nn=n("./app/scripts/containers/settings/payments/actions/api.js"),Sn=(n("./app/scripts/containers/invoices/payment/components/requirements/styles.scss"),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),xn=function(e){function t(){return ye(this,t),he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Ee(t,e),Sn(t,[{key:"handleSubmit",value:function(){this.props.dispatch(Object(Ve.p)("payment"))}},{key:"savePaymentSource",value:function(e){var t=this,n=(this.props.payments,e.name),i=e.number,a=e.exp,r=e.cvc;return new Promise(function(e,t){window.Stripe.card.createToken({name:n,number:i,exp:a,cvc:r},function(n,i){return i.error?t(i.error.message):e(i.id)})}).then(function(e){return t.props.dispatch(Object(Nn.a)({stripe_token:e}))}).catch(function(e){throw new Ve.d({_error:e.errors.message})})}},{key:"render",value:function(){var e=this.props,t=e.payments,n=e.isSubmitting;return React.createElement("div",{className:"invoice-payment-requirements"},React.createElement(wn.a,{optionalUpdate:!0,initialValues:Object.assign({},t.card,{exp:t.card.exp_month&&t.card.exp_year?t.card.exp_month+"/"+t.card.exp_year:""}),onSubmit:this.savePaymentSource.bind(this)}),React.createElement("div",{className:"requirements-actions"},React.createElement(Ne.a,{type:"button",buttonType:"secondary",onClick:function(){}},"Cancel"),React.createElement(Ne.a,{type:"button",isLoading:n,disabled:n,onClick:this.handleSubmit.bind(this,"equity")},"Save and continue")))}}]),t}(React.Component),Pn=Object(we.b)(function(e){return{user:e.auth,payments:e.settings.payments,isSubmitting:Object(Ve.m)("payment")(e)}})(xn),Yn=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(xn,"InvoiceRequirements","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/payment/components/requirements/index.js"),__REACT_HOT_LOADER__.register(Pn,"default","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/payment/components/requirements/index.js"))}(),n("./app/scripts/containers/settings/payments/components/paymentDetails/index.js")),Ln=n("./app/scripts/api/paymentsource/index.js"),Hn=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(Re,"createPayment","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/api/payment/index.js")}(),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}),In=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(be,"createPayment","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/payment/actions/api.js")}(),n("./app/scripts/containers/invoices/payment/components/review/styles.scss"),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),qn=function(e){function t(e){ge(this,t);var n=Oe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={useNewCard:!e.user.payments_enabled},n}return je(t,e),In(t,[{key:"componentWillMount",value:function(){var e=this.props.user;e.payments_enabled&&this.props.dispatch(Object(Nn.c)(e.user_id))}},{key:"handleSubmit",value:function(){this.props.dispatch(Object(Ve.p)("payment"))}},{key:"savePaymentSource",value:function(e){var t=this,n=this.props,i=n.payments,a=n.invoice,r=e.name,s=e.number,c=e.exp,o=e.cvc,l=e.save,u=void 0,p=void 0;return new Promise(function(e,t){window.Stripe.card.createToken({name:r,number:s,exp:c,cvc:o},function(n,i){return i.error?t(i.error.message):e(i)})}).then(function(e){var n=e.id,a=e.card;return u=n,p=a.country,l?Object(Ln.b)({source_id:i.card.id}).then(function(){return t.props.dispatch(Object(Nn.a)({stripe_token:n}))}).catch(function(e){throw new Ve.d({_error:e.errors.message})}):n}).then(function(){var e={invoice:a.details.reference_id};return l||(e.token=u,e.country=p),t.props.dispatch(be(e))}).catch(function(e){console.log(e)})}},{key:"sendPayment",value:function(){var e=this.props.invoice;this.state.useNewCard?this.handleSubmit():this.props.dispatch(be({invoice:e.details.reference_id}))}},{key:"navigateToInvoiceDetails",value:function(){var e=this.props.invoice;this.props.history.push("/invoices/"+e.details.reference_id)}},{key:"hidePaymentConfirmation",value:function(){this.props.dispatch(Object(kn.p)())}},{key:"handleConfirmation",value:function(){var e=this.props,t=(e.invoice,e.invoicePayment);this.hidePaymentConfirmation(),t.paymentSuccess&&this.navigateToInvoiceDetails()}},{key:"togglePaymentSource",value:function(e){this.setState({useNewCard:"newCard"===e.currentTarget.value})}},{key:"render",value:function(){var e=this.state.useNewCard,t=this.props,n=t.user,i=t.payments,a=t.invoice,r=t.invoicePayment,s=(t.paymentSteps,t.isSubmitting),c=Object(Ye.a)(a.details.total_amount,{minimumFractionDigits:2,maximumFractionDigits:2}),o=a.details.sender_name,l=a.details.title,u=a.details.reference_id&&a.details.reference_id.split("-")[0];return React.createElement("div",{className:"invoice-payment-review"},React.createElement("h2",{className:"confirmation-subheader"},"Pay ",React.createElement("span",null,"$",c)," to ",o," for work on ",l,"."),React.createElement("div",{className:"payment-tile"},i.isFetching&&React.createElement(Se.a,null),!i.isFetching&&React.createElement("div",null,n.payments_enabled&&React.createElement("div",null,React.createElement("label",{className:"checkout-option-label"},React.createElement("input",{type:"radio",value:"currentCard",checked:!e,onChange:this.togglePaymentSource.bind(this)})," Pay with saved card"),React.createElement("div",{className:"checkout-option current-card "+(e?"use-new":"")},React.createElement(Yn.a,null))),n.payments_enabled&&React.createElement("label",{className:"checkout-option-label"},React.createElement("input",{type:"radio",value:"newCard",checked:e,onChange:this.togglePaymentSource.bind(this)})," Pay with a different card"),React.createElement("div",{className:"checkout-option new-card-form "+(e?"use-new":"")},React.createElement(wn.a,{optionalUpdate:!0,initialValues:{name:"",number:"",cvc:"",exp:"",tos:!1},onSubmit:this.savePaymentSource.bind(this)})))),React.createElement("div",{className:"invoice-payment-footer"},React.createElement(Ne.a,{type:"button",buttonType:"secondary",onClick:this.navigateToInvoiceDetails.bind(this)},"Cancel"),React.createElement(Ne.a,{type:"button",isLoading:r.isSaving||s,disabled:r.isSaving||s,onClick:this.sendPayment.bind(this)},"Pay invoice")),React.createElement("div",{className:"stripe-tag"},"Secure payment processing ",React.createElement("i",{className:"stripe-icon"})),React.createElement(Ze.c,{className:"payment-confirmation-modal",open:r.showPaymentConfirmation,header:r.paymentSuccess?"Payment success!":"Payment error!",footer:React.createElement("div",{className:"modal-footer"},React.createElement(Ne.a,{type:"button",onClick:this.handleConfirmation.bind(this)},"Ok, got it"))},r.paymentSuccess&&React.createElement("div",null,React.createElement("div",{className:"payment-success-icon"}),React.createElement("h2",null,"You paid ",React.createElement("span",null,"$",c)," to ",o," for invoice ",u,".")),r.error&&React.createElement("div",null,React.createElement("div",{className:"payment-error-icon"}),React.createElement("h2",null,"We could not process the payment on your card. Try again or use a different card."))))}}]),t}(React.Component),Mn=Object(we.b)(function(e){return{user:e.auth,invoice:e.invoices.details,invoicePayment:e.invoices.payment.payment,paymentSteps:e.invoices.payment.steps,payments:e.settings.payments,isSubmitting:Object(Ve.m)("payment")(e)}})(qn),Vn=Mn,Fn=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(qn,"InvoicePaymentReview","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/payment/components/review/index.js"),__REACT_HOT_LOADER__.register(Mn,"default","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/payment/components/review/index.js"))}(),function(e){var t=e.match,n=t.path;return t.url,React.createElement(Ae.f,null,React.createElement(Ae.e,{path:n+"/review",component:Vn}))}),Un=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(Fn,"routes","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/payment/routes.js")}(),n("./app/scripts/containers/invoices/payment/styles.scss"),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),Jn=function(e){function t(){return Te(this,t),De(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Ce(t,e),Un(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props,n=t.user,i=t.paymentSteps,a=t.location,r=t.match.params,s=i.steps.findIndex(function(e){return e.route.test(a.pathname)}),c=a.state;this.props.dispatch(p(r.invoiceId)).then(function(t){"paid"===t.status||t.recipient.id!==n.user_id?e.props.history.replace("/invoices/received"):(s>0||s<0)&&e.props.history.replace(i.steps[0].path(r.invoiceId)),e.props.dispatch(Object(kn.m)(Object.assign({},c)))}).catch(function(e){console.log(e)})}},{key:"componentDidMount",value:function(){var e=(this.props.location,window.document.querySelector("nav.dashboardNav-section"));e&&(e.style.display="none")}},{key:"componentWillUnmount",value:function(){var e=window.document.querySelector("nav.dashboardNav-section");e&&(e.style.display="block"),this.props.dispatch(Object(kn.m)({entryPath:null,exitPath:null}))}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.paymentSteps,i=t.location,a=e.paymentSteps,r=e.location;if(n.step!==a.step)this.goToRequiredRoute(a);else if(i.pathname!==r.pathname){var s=a.steps.findIndex(function(e){return e.route.test(r.pathname)});this.props.dispatch(Object(kn.n)(s))}}},{key:"goToRequiredRoute",value:function(e){var t=e.step,n=e.steps,i=e.isComplete,a=this.props.match.params;!i&&n[t]&&this.props.history.push(n[t].path(a.invoiceId))}},{key:"navigateToInvoiceDetails",value:function(){var e=this.props.invoice;this.props.history.push("/invoices/"+e.details.reference_id)}},{key:"goToEntryRoute",value:function(){var e=this.props,t=e.paymentSteps,n=e.invoice,i=(e.location,t.entryPath);this.hideCancelConfirmation(),i?this.props.history.push(i):this.props.history.push("/invoices/"+n.details.reference_id)}},{key:"showCancelConfirmation",value:function(){this.props.paymentSteps.step<=0?this.goToEntryRoute():this.props.dispatch(Object(kn.t)())}},{key:"hideCancelConfirmation",value:function(){this.props.dispatch(Object(kn.o)())}},{key:"goBack",value:function(e){e.preventDefault(),this.props.history.goBack()}},{key:"render",value:function(){var e=this.props,t=(e.user,e.paymentSteps),n=e.invoice;return e.payments,e.location,e.isSubmitting,React.createElement("div",{className:"invoice-payment-creation-container"},React.createElement("div",{className:"sticky-header"},React.createElement(Qe.a,null),React.createElement("div",{className:"progress-bar"},React.createElement("div",{style:{width:t.progress+"%"}}))),t.header&&React.createElement("div",{className:"step-controller"},React.createElement("div",{className:"step-controller-content"},React.createElement("span",{className:"prev-button"},t.step>0&&t.backLink&&React.createElement("a",{href:"#",onClick:this.goBack.bind(this)},React.createElement("i",{className:"material-icons"},"chevron_left")," ",t.backLink())),React.createElement("h2",null,t.header(n.details)),React.createElement("span",{className:"next-button"})),React.createElement("div",{className:"cancel-button",onClick:this.navigateToInvoiceDetails.bind(this)},React.createElement("i",{className:"material-icons"},"close"))),React.createElement("div",{className:"invoice-payment-creation-content"},n.isFetching&&React.createElement(Se.a,null),!n.isFetching&&Fn(this.props)))}}]),t}(React.Component),Bn=Object(we.b)(function(e){return{user:e.auth,paymentSteps:e.invoices.payment.steps,invoice:e.invoices.details,payments:e.settings.payments}})(Jn),Wn=Bn,$n=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Jn,"SendPayment","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/payment/index.js"),__REACT_HOT_LOADER__.register(Bn,"default","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/payment/index.js"))}(),function(e){var t=e.match,n=t.path,i=t.url;return React.createElement(Ae.f,null,React.createElement(Ae.e,{exact:!0,path:""+n,render:function(){return React.createElement(Ae.d,{to:i+"/sent"})}}),React.createElement(Ae.e,{path:n+"/sent",component:hn}),React.createElement(Ae.e,{path:n+"/received",component:dn}),React.createElement(Ae.e,{path:n+"/new",component:on}),React.createElement(Ae.e,{exact:!0,path:n+"/:invoiceId",component:Xe}),React.createElement(Ae.e,{path:n+"/:invoiceId/edit",component:An}),React.createElement(Ae.e,{path:n+"/:invoiceId/payment",component:Wn}))});(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register($n,"routes","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/routes.js")})(),n("./app/scripts/containers/invoices/styles.scss"),n.d(t,"InvoicesContainer",function(){return zn});var zn=function(e){return React.createElement("div",{className:"invoices-container"},$n(e))};!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(zn,"InvoicesContainer","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/invoices/index.js")}()},"./app/scripts/containers/invoices/payment/components/requirements/styles.scss":function(e,t){},"./app/scripts/containers/invoices/payment/components/review/styles.scss":function(e,t){},"./app/scripts/containers/invoices/payment/styles.scss":function(e,t){},"./app/scripts/containers/invoices/received/styles.scss":function(e,t){},"./app/scripts/containers/invoices/sent/styles.scss":function(e,t){},"./app/scripts/containers/invoices/styles.scss":function(e,t){},"./app/scripts/containers/settings/payments/actions/api.js":function(e,t,n){"use strict";function i(e){return function(t){return t(l.z()),o.c(e).then(function(e){if(e.status>200)throw new Error;return e.json()}).then(function(e){return t(l.A(e[0]||{})),e}).catch(function(e){t(l.y(e))})}}function a(e){return function(t){return t(l.t()),o.a(e).then(function(e){if(e.status>201&&400!==e.status&&402!==e.status)throw new Error(JSON.stringify({status:e.status}));return 400===e.status||402===e.status?e.json().then(function(t){throw new Error(JSON.stringify(u({status:e.status},t)))}):e.json()}).then(function(e){var n=e.sources?e.sources.data[0]:e;return t(l.u(n)),e}).catch(function(e){var n=(e.status,e.message),i=n&&JSON.parse(n),a={};throw i&&400===i.status?a._error=i.error:i&&i.status>=500&&(a._error="An unexpected error occurred. Please try again later."),t(l.s(a)),new c.d(a)})}}function r(e){return function(t){return t(l.C()),o.d(e).then(function(e){if(e.status>200)throw new Error;return e.json()}).then(function(e){return t(l.D(e)),e}).catch(function(e){throw t(l.B(e)),new c.d({_error:"Unknown error:"})})}}function s(e){return function(t){return t(l.w()),o.b(e).then(function(e){if(e.status>202)throw new Error;return e.json()}).then(function(e){return t(l.x()),e}).catch(function(e){t(l.v(e))})}}t.c=i,t.a=a,t.d=r,t.b=s;var c=n("./node_modules/redux-form/es/index.js"),o=n("./app/scripts/api/paymentsource/index.js"),l=n("./app/scripts/containers/settings/payments/actions/index.js"),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(i,"fetchPaymentSource","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/settings/payments/actions/api.js"),__REACT_HOT_LOADER__.register(a,"createPaymentSource","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/settings/payments/actions/api.js"),__REACT_HOT_LOADER__.register(r,"updatePaymentSource","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/settings/payments/actions/api.js"),__REACT_HOT_LOADER__.register(s,"deletePaymentSource","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/settings/payments/actions/api.js"))}()},"./app/scripts/containers/settings/payments/components/paymentDetails/index.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./node_modules/react-redux/es/index.js"),c=(n("./app/scripts/components/button/button.jsx"),n("./app/scripts/components/modal/modal.jsx"),n("./app/scripts/containers/settings/payments/actions/index.js"),n("./app/scripts/containers/settings/payments/components/paymentDetails/styles.scss")),o=(n.n(c),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),l=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),o(t,[{key:"render",value:function(){var e=this.props.payments,t=e.card;return React.createElement("div",{className:"payment-details"},React.createElement("div",{className:"field-set card-info"},React.createElement("span",null,"Name on card"),React.createElement("p",null,t.name)),React.createElement("div",{className:"card-row"},React.createElement("div",{className:"field-set"},React.createElement("span",null,"Card info"),React.createElement("p",null,React.createElement("b",null,t.brand.toUpperCase())," - XXXX-XXXX-XXXX-",t.last4)),React.createElement("div",{className:"field-set card-exp"},React.createElement("span",null,"Expiration"),React.createElement("p",null,t.exp_month+"/"+String(t.exp_year).split("").splice(-2).join("")))))}}]),t}(React.Component),u=Object(s.b)(function(e){return{payments:e.settings.payments}})(l);t.a=u,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(l,"PaymentDetails","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/settings/payments/components/paymentDetails/index.js"),__REACT_HOT_LOADER__.register(u,"default","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/containers/settings/payments/components/paymentDetails/index.js"))}()},"./app/scripts/containers/settings/payments/components/paymentDetails/styles.scss":function(e,t){},"./app/scripts/features/forms/invoice/components/contactField/styles.scss":function(e,t){},"./app/scripts/features/forms/invoice/components/fixedFeeFields/styles.scss":function(e,t){},"./app/scripts/features/forms/invoice/components/hourlyFeeFields/styles.scss":function(e,t){},"./app/scripts/features/forms/invoice/styles.scss":function(e,t){},"./app/scripts/features/forms/payment/index.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./node_modules/redux-form/es/index.js"),c=n("./app/scripts/components/errors/errors.js"),o=n("./app/scripts/components/formFields/input/index.js"),l=n("./app/scripts/components/formFields/checkbox/index.js"),u=(n("./app/scripts/features/forms/terms/components/termsField/index.js"),n("./app/scripts/utils/formUtils.js")),p=function(e){var t={};return u.a.checks.isRequired(e.name)||(t.name="Please enter the name on your card."),e.number&&window.Stripe.card.validateCardNumber(e.number)||(t.number="Please enter a valid card number."),e.exp&&window.Stripe.card.validateExpiry(e.exp)||(t.exp="Please enter a valid expiration date."),e.cvc&&window.Stripe.card.validateCVC(e.cvc)||(t.cvc="Please enter a valid security code."),t},m=p,d=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(p,"default","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/features/forms/payment/validation.js")}(),n("./app/scripts/features/forms/payment/styles.scss"),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),f=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),d(t,[{key:"render",value:function(){var e=this.props,t=e.optionalUpdate,n=(e.invalid,e.error),i=e.submitFailed,a=e.isSubmitting,r=e.termsText,u=void 0===r?"":r;return React.createElement("form",{className:"payments-form"},React.createElement("div",{className:"form-body"},React.createElement("div",{className:"field-set"},React.createElement(s.a,{name:"name",type:"text",label:"Name on card",component:o.a})),React.createElement("div",{className:"field-set"},React.createElement(s.a,{name:"number",label:"Card number",component:o.a})),React.createElement("div",{className:"field-set card-exp-cvv"},React.createElement(s.a,{name:"exp",type:"text",label:"Expiration",placeholder:"MM/YY",component:o.a}),React.createElement(s.a,{name:"cvc",type:"text",label:"CVV",component:o.a})),t&&React.createElement("div",{className:"field-set card-checkbox"},React.createElement(s.a,{name:"save",label:React.createElement("span",null,"Save card for future payments"),component:l.a})),u&&React.createElement("div",{className:"field-set card-terms"},React.createElement(s.a,{name:"tos",disabled:a,label:React.createElement("span",null,u),component:l.a})),i&&n&&React.createElement("div",{className:"field-set"},React.createElement(c.b,null,n))))}}]),t}(React.Component),v=Object(s.o)({form:"payment",validate:m,asyncValidating:!1,touchOnBlur:!1})(f);t.a=v,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(f,"CreditCardForm","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/features/forms/payment/index.js"),__REACT_HOT_LOADER__.register(v,"default","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/features/forms/payment/index.js"))}()},"./app/scripts/features/forms/payment/styles.scss":function(e,t){},"./app/scripts/features/forms/terms/components/termsField/index.js":function(e,t,n){"use strict";var i=n("./node_modules/redux-form/es/index.js"),a=n("./app/scripts/components/formFields/checkbox/index.js"),r=function(e){var t=(e.label,e.disabled),n=e.name,r=void 0===n?"tos":n;return React.createElement(i.a,{name:r,disabled:t,label:React.createElement("span",null,"By checking this box, you agree to Loom's ",React.createElement("a",{href:"/terms-of-service/",target:"_blank"},"Term of Service")," and ",React.createElement("a",{href:"/privacy/",target:"_blank"},"Privacy Policy"),", which includes the payment terms stated above."),component:a.a})};t.a=r,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(r,"default","/Users/andynguyen/Sites/Virtual/Devquity/market-ui/app/scripts/features/forms/terms/components/termsField/index.js")}()},"./node_modules/queryString/decode.js":function(e,t,n){"use strict";function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,a){t=t||"&",n=n||"=";var r={};if("string"!=typeof e||0===e.length)return r;var s=/\+/g;e=e.split(t);var c=1e3;a&&"number"==typeof a.maxKeys&&(c=a.maxKeys);var o=e.length;c>0&&o>c&&(o=c);for(var l=0;l<o;++l){var u,p,m,d,f=e[l].replace(s,"%20"),v=f.indexOf(n);v>=0?(u=f.substr(0,v),p=f.substr(v+1)):(u=f,p=""),m=decodeURIComponent(u),d=decodeURIComponent(p),i(r,m)?Array.isArray(r[m])?r[m].push(d):r[m]=[r[m],d]:r[m]=d}return r}},"./node_modules/queryString/encode.js":function(e,t,n){"use strict";var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,a){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map(function(a){var r=encodeURIComponent(i(a))+n;return Array.isArray(e[a])?e[a].map(function(e){return r+encodeURIComponent(i(e))}).join(t):r+encodeURIComponent(i(e[a]))}).join(t):a?encodeURIComponent(i(a))+n+encodeURIComponent(i(e)):""}},"./node_modules/queryString/index.js":function(e,t,n){"use strict";t.decode=t.parse=n("./node_modules/queryString/decode.js"),t.encode=t.stringify=n("./node_modules/queryString/encode.js")}});
webpackJsonp([5],{"./app/scripts/containers/editProject/details.jsx":function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r("./node_modules/react-redux/lib/index.js"),s=r("./node_modules/react-router/es6/index.js"),i=r("./app/scripts/utils/formUtils.js"),n=r("./app/scripts/utils/elementUtils.js"),c=r("./app/scripts/containers/editProject/editProject.js"),l=r("./app/scripts/utils/piiUtils.js"),p=r("./app/scripts/components/loader/loader.jsx"),d=a(p),u=r("./app/scripts/containers/editProject/progressBar.jsx"),m=a(u),f=r("./app/scripts/components/forms/formFields.js"),j=r("./app/scripts/components/button/button.jsx"),h=a(j),g=r("./app/scripts/components/errors/errors.js"),v=React.createClass({displayName:"ProjectDetails",propTypes:{user:React.PropTypes.object,params:React.PropTypes.object.isRequired,router:React.PropTypes.object,location:React.PropTypes.object.isRequired},getInitialState:function(){var e=this.props,t=e.user,r=e.params.projectId;return(0,c.createEmptyProjectState)(t,r)},formFields:function(e){var t=this,r=e;return{projectBackground:{name:"project_background",label:"Project background (at least 140 characters)",value:r.background||"",helperText:"Give the developer community some background. Where did the idea come from? How did you get here? Who have you been working on this with?",error:!1,rows:10,validator:function(e){var r=t.props.user,a=t.state.formFields,o=(0,l.doesStringContainPII)(e,{user:r}),s=i.FormUtils.checks.minLength(e,140)&&!o;return s||(o?a.projectBackground.error=l.piiErrors.formField:a.projectBackground.error="Please fill out your project background (minimum of 140 characters).",t.setState({formFields:a})),s},onChange:function(e){var r=t.state,a=r.data,o=r.formFields;a.background=e,o.projectBackground.value=e,o.projectBackground.error=!1,t.setState({data:a,formFields:o,formError:!1})}},projectProgress:{name:"project_progress",label:"What's the current status of the project? (at least 140 characters)",value:r.progress||"",helperText:React.createElement("span",null,"Do you have funding? Do you have existing designs, wireframes and/or prototypes for the idea? Do you have an existing website, product or app that you're creating a new feature for?"),error:!1,rows:10,validator:function(e){var r=t.props.user,a=t.state.formFields,o=(0,l.doesStringContainPII)(e,{user:r}),s=i.FormUtils.checks.minLength(e,140)&&!o;return s||(o?a.projectProgress.error=l.piiErrors.formField:a.projectProgress.error="Please fill out your project progress (minimum of 140 characters).",t.setState({formFields:a})),s},onChange:function(e){var r=t.state,a=r.data,o=r.formFields;a.progress=e,o.projectProgress.value=e,o.projectProgress.error=!1,t.setState({data:a,formFields:o,formError:!1})}},projectScope:{name:"project_scope",label:"What do you need a developer to do? (at least 140 characters)",value:r.scope||"",helperText:React.createElement("span",null,"This is where you should outline the scope of the project. Think about the project from beginning to end and be as specific as you can about what you expect to be done."),error:!1,rows:10,validator:function(e){var r=t.props.user,a=t.state.formFields,o=(0,l.doesStringContainPII)(e,{user:r}),s=i.FormUtils.checks.minLength(e,140)&&!o;return s||(o?a.projectScope.error=l.piiErrors.formField:a.projectScope.error="Please fill out your project scope (minimum of 140 characters).",t.setState({formFields:a})),s},onChange:function(e){var r=t.state,a=r.data,o=r.formFields;a.scope=e,o.projectScope.value=e,o.projectScope.error=!1,t.setState({data:a,formFields:o,formError:!1})}},projectMilestones:{name:"project_milestones",label:"What are the project milestones? (at least 140 characters)",value:r.milestones||"",helperText:"List all applicable project milestones and accompanying dates. This information is important to help freelancers submit accurate work proposals.",error:!1,rows:10,validator:function(e){var r=t.props.user,a=t.state.formFields,o=(0,l.doesStringContainPII)(e,{user:r}),s=i.FormUtils.checks.minLength(e,140)&&!o;return s||(o?a.projectMilestones.error=l.piiErrors.formField:a.projectMilestones.error="Please fill out your project milestones (minimum of 140 characters).",t.setState({formFields:a})),s},onChange:function(e){var r=t.state,a=r.data,o=r.formFields;a.milestones=e,o.projectMilestones.value=e,o.projectMilestones.error=!1,t.setState({data:a,formFields:o,formError:!1})}},projectSpecs:{name:"project_specs",label:React.createElement("span",null,"What are the deliverables and specs? (at least 140 characters)"),value:r.specs||"",helperText:React.createElement("span",null,"List all deliverables and required specs for each. This info is important to help developers scope the project."),error:!1,rows:10,validator:function(e){var r=t.props.user,a=t.state.formFields,o=(0,l.doesStringContainPII)(e,{user:r}),s=i.FormUtils.checks.minLength(e,140)&&!o;return s||(o?a.projectSpecs.error=l.piiErrors.formField:a.projectSpecs.error="Please fill out your project deliverables & specs (minimum of 140 characters).",t.setState({formFields:a})),s},onChange:function(e){var r=t.state,a=r.data,o=r.formFields;a.specs=e,o.projectSpecs.value=e,o.projectSpecs.error=!1,t.setState({data:a,formFields:o,formError:!1})}},projectPrivateInfo:{name:"project_private_info",label:"Private Project Tab",value:r.private_info||"",helperText:React.createElement("span",null,"Business plans? Algorithms? Secret Sauce? This is the place for any and all details about the project that might be too sensitive for public view, but you want to make available to developers that have signed an NDA."),error:!1,rows:10,validator:function(e){var r=t.props.user,a=t.state.formFields,o=(0,l.doesStringContainPII)(e,{user:r});return o&&(a.projectPrivateInfo.error=l.piiErrors.formField,t.setState({formFields:a})),!o},onChange:function(e){var r=t.state,a=r.data,o=r.formFields;a.private_info=e,o.projectPrivateInfo.value=e,o.projectPrivateInfo.error=!1,t.setState({data:a,formFields:o,formError:!1})}}}},componentWillMount:function(){var e=this,t=this.props,r=t.router,a=t.location.state,o=t.params.projectId;if(o)(0,c.getProjectData)(o,function(t){var r=Object.assign({},t),a=e.formFields(r);e.setState({data:r,formFields:a,isLoading:!1})},function(t,r){console.error(t),e.setState({isSending:!1,apiError:r.text})});else if(a&&a.data){var s=Object.assign({},a.data),i=this.formFields(s);this.setState({data:s,formFields:i,isLoading:!1})}else r.replace("/")},componentDidMount:function(){(0,n.scrollToTop)()},submitDetails:function(){var e=this,t=this.state,r=t.data,a=t.formFields;i.FormUtils.validateForm(a,function(t){if(e.setState({formError:!t,apiError:!1}),t){e.setState({isSending:!0});var a=Object.assign({},r);delete a.project_image,(0,c.submitProjectData)(a,function(t){e.goToStep("questions",t)},function(t,r){console.error(t),e.setState({isSending:!1,apiError:r.text})})}})},goToStep:function(e,t){var r=this.props.params.projectId;s.browserHistory.push({pathname:(0,c.getEditProjectLink)(e,r),state:{data:t}})},render:function(){var e=this.props.params.projectId,t=this.state,r=t.formFields,a=t.isSending,o=t.isLoading,s=t.formError,i=t.apiError,n=s&&React.createElement(g.FormError,null,"Please fix the errors above and try again."),c=i&&React.createElement(g.ApiError,{error:i});if(o)return React.createElement(d["default"],null);var l=!!e;return React.createElement("div",{className:"editProject"},React.createElement(m["default"],{currentStep:"details",isEditing:l,onSelection:this.goToStep}),React.createElement("div",{className:"editProject-headcap"},React.createElement("h2",null,"Tell developers details about what you want to create:"),React.createElement("p",{className:"larger light"},"Start from the beginning with project background, then lay out the current status of the project, followed by specific goals, milestones and deliverables.")),React.createElement(f.Textarea,{config:r.projectBackground,inputDisabled:a}),React.createElement(f.Textarea,{config:r.projectProgress,inputDisabled:a}),React.createElement(f.Textarea,{config:r.projectScope,inputDisabled:a}),React.createElement(f.Textarea,{config:r.projectSpecs,inputDisabled:a}),React.createElement(f.Textarea,{config:r.projectMilestones,inputDisabled:a}),React.createElement("div",{className:"editProject-private-info-header"},React.createElement("h4",null,"Private Project Info ",React.createElement("span",{className:"text-muted"},"(optional)")," ",React.createElement("i",{className:"fa fa-lock","aria-hidden":"true"})),React.createElement("p",null,"The private details tab is secure, and will not be seen by the public. The private details tab is unlocked for individual developers only when they sign a non-disclosure agreement.")),React.createElement(f.Textarea,{config:r.projectPrivateInfo,inputDisabled:a}),n,c,React.createElement(h["default"],{size:"large",onClick:this.submitDetails,isLoading:a,disabled:o||a||s},"Save project & continue"))}}),b=function(e){var t=e.auth;return{user:t}};t["default"]=(0,o.connect)(b)(v)},"./app/scripts/containers/editProject/editProject.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.submitQuestionsData=t.submitProjectData=t.getProjectData=t.getEditProjectLink=t.createEmptyProjectState=void 0;var a=r("./app/scripts/store/api.js"),o=r("./app/scripts/utils/formUtils.js"),s={projectId:null,data:{company:"",project_manager:null,skills:[],title:"",type:"",start_date:"",end_date:"",estimated_cash:"",estimated_equity_percentage:"",mix:!1,short_blurb:"",project_image:null,background:"",progress:"",scope:"",milestones:"",specs:"",private_info:"",published:!1,freelancerType:"",questions:[]},budgetType:"",apiError:!1,formError:!1,isSending:!1,isLoading:!0,profileIncomplete:!0,profile:{}};t.createEmptyProjectState=function(e){var t=Object.assign({},s);return e&&(t.data.project_manager=e.user_id,t.data.company=e.company_id),t},t.getEditProjectLink=function(e,t){return t?"/project/edit/"+t+"/"+e:"/project/create/"+e},t.getProjectData=function(e,t,r){if(e){var o=a.api.project(e),s=[o,t,r];a.get.apply(void 0,s)}else console.error("`getProjectData` method expects a projectId, a successCallback and an errorCallback.")},t.submitProjectData=function(e,t,r){if(e&&t&&r){var s=a.api.project();e.id&&(s=a.api.project(e.id));var i=[s,(0,o.objectToFormData)(e),t,r];e.id?a.patch.apply(void 0,i):a.post.apply(void 0,i)}else console.error("`submitProjectData` method expects a data object, a successCallback and an errorCallback.")},t.submitQuestionsData=function(e,t,r){if(e&&t&&r){var o=a.api.questions,s=[o,e,t,r];a.patch.apply(void 0,s)}else console.error("`submitQuestionsData` method expects a data object, a successCallback and an errorCallback.")}},"./app/scripts/containers/editProject/progressBar.jsx":function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r("./node_modules/classnames/index.js"),s=a(o),i={basics:{displayName:"Basics",isEnabled:!1,isActive:!1,isCompleted:!0},budget:{displayName:"Budget",isEnabled:!1,isActive:!1,isCompleted:!0},details:{displayName:"Details",isEnabled:!1,isActive:!1,isCompleted:!0},questions:{displayName:"Proposal Questions",isEnabled:!1,isActive:!1,isCompleted:!0}},n=React.createClass({displayName:"ProgressBar",propTypes:{currentStep:React.PropTypes.string.isRequired,onSelection:React.PropTypes.func.isRequired,isEditing:React.PropTypes.bool},getDefaultProps:function(){return{isEditing:!1}},getInitialState:function(){return{steps:i}},configureState:function(){var e=this.props,t=e.currentStep,r=e.isEditing,a=this.state.steps,o=Object.keys(i),s=o.indexOf(t);o.forEach(function(e,t){var o=a[e];o.isEnabled=t<=s||r,o.isActive=t===s,o.isCompleted=t<s||r}),this.setState({steps:a})},componentWillMount:function(){this.configureState()},goToStep:function(e){var t=this.props.onSelection,r=this.state.steps,a=r[e],o=a.isActive,s=a.isEnabled;s&&!o&&t(e)},render:function(){var e=this,t=this.state.steps,r=Object.keys(i),a=r.map(function(r,a){var o=t[r],i=o.displayName,n=o.isEnabled,c=o.isActive,l=o.isCompleted,p=function(){e.goToStep(r)},d=(0,s["default"])("progressBar-item",{"progressBar-item--complete":l,"progressBar-item--active":c,"progressBar-item--disabled":!n}),u=a+1,m=!l||c?u:React.createElement("i",{className:"fa fa-check","aria-hidden":"true"});return React.createElement("a",{className:d,key:a,onClick:p},React.createElement("div",{className:"progressBar-item-dot"},m)," ",i)});return React.createElement("div",{className:"progressBar"},a)}});t["default"]=n}});
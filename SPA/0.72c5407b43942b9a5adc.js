webpackJsonp([0],{"./app/images/icon-edit.svg":function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjM5cHgiIGhlaWdodD0iMzlweCIgdmlld0JveD0iMCAwIDM5IDM5IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA0MC4zICgzMzgzOSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+RmlsbCA3MjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJFZGl0IiBmaWxsPSIjMUExOTE4Ij4KICAgICAgICAgICAgPHBhdGggZD0iTTMyLjc1MiwwLjY5MSBDMzQuMzMyLDAuNjkxIDM1LjgyLDEuMzA3IDM2LjkzOCwyLjQyNSBDMzkuMjQ3LDQuNzM0IDM5LjI0Nyw4LjQ5MSAzNi45MzgsMTAuOCBMOS4wNDcsMzguNjkxIEwwLjY3MiwzOC42OTEgTDAuNjcyLDMwLjMxNiBMMjguNTYzLDIuNDI1IEMyOS42ODIsMS4zMDcgMzEuMTY5LDAuNjkxIDMyLjc1LDAuNjkxIEwzMi43NTIsMC42OTEiIGlkPSJGaWxsLTcyIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="},"./app/images/icon-trashcan.svg":function(e,t,r){e.exports=r.p+"./images/b3b1638e06b6785fbe49f0f2e719035a.svg"},"./app/scripts/components/editSection/editSection.jsx":function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AddSection=t.EditSection=void 0,r("./app/scripts/components/editSection/editSection.scss");var o=r("./node_modules/classnames/index.js"),i=a(o),s=r("./app/scripts/components/icon/icon.jsx"),n=a(s);t.EditSection=React.createClass({displayName:"EditSection",propTypes:{children:React.PropTypes.node.isRequired,editItem:React.PropTypes.func.isRequired,removeItem:React.PropTypes.func,className:React.PropTypes.string},editItem:function l(e){var l=this.props.editItem,t=this.refs["delete"];e.target!==t&&l()},removeItem:function c(e){var c=this.props.removeItem,t=this.refs["delete"];e.target===t&&c()},render:function(){var e=this.props,t=e.removeItem,r=e.children,a=e.className,o=(0,i["default"])("editSection",a),s=React.createElement("button",{className:"editSection-edit-button",onClick:this.editItem},"edit"),n=t&&React.createElement("button",{className:"editSection-delete-button",ref:"delete",onClick:this.removeItem},"delete");return React.createElement("div",{className:o,onClick:this.editItem},r,s,n)}}),t.AddSection=React.createClass({displayName:"AddSection",propTypes:{children:React.PropTypes.node.isRequired,addItem:React.PropTypes.func.isRequired,block:React.PropTypes.bool,className:React.PropTypes.string},getDefaultProps:function(){return{block:!1}},render:function(){var e=this.props,t=e.addItem,r=e.children,a=e.block,o=e.className,s=(0,i["default"])("addSection",o,{"addSection--block":a}),l=a&&React.createElement(n["default"],{name:"plus--accent"});return React.createElement("div",{className:s,onClick:t},l,r)}})},"./app/scripts/components/editSection/editSection.scss":function(e,t,r){t=e.exports=r("./node_modules/css-loader/lib/css-base.js")(),t.push([e.i,".editSection{cursor:pointer;border-radius:3px;position:relative;padding:5px;background-color:#ececee;transition:background-color .25s;margin-right:30px}.editSection .editSection-delete-button,.editSection .editSection-edit-button{position:absolute;right:-30px;width:25px;height:25px;background-repeat:no-repeat;background-position:50%;background-color:#ececee;border-radius:3px;transition:background-color .25s;border:none;outline:none;overflow:hidden;text-indent:-999em;cursor:pointer}.editSection .editSection-edit-button{top:0;background-image:url("+r("./app/images/icon-edit.svg")+");background-size:13px}.editSection .editSection-delete-button{top:30px;background-image:url("+r("./app/images/icon-trashcan.svg")+");background-size:15px}.addSection{cursor:pointer;border-radius:3px;padding:5px;border:2px dashed #1eddb2;color:#1eddb2!important;font-weight:700;font-size:20px}.addSection.addSection--block{min-height:100px;display:flex;align-items:center;justify-content:center}.addSection.addSection--block .icon{margin-right:10px;min-width:23px;min-height:23px}",""])},"./app/scripts/components/skills/skillSelector.jsx":function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};r("./app/scripts/components/skills/skills.scss");var i=r("./node_modules/classnames/index.js"),s=a(i),n=r("./app/scripts/store/api.js"),l=r("./app/scripts/components/skills/skillTag.jsx"),c=a(l),p=r("./app/scripts/components/loader/loader.jsx"),d=a(p),u=r("./app/scripts/components/errors/errors.js"),f=React.createClass({displayName:"SkillSelector",propTypes:{toggleSkill:React.PropTypes.func.isRequired,inputDisabled:React.PropTypes.bool,selectedSkills:React.PropTypes.array.isRequired,label:React.PropTypes.string.isRequired,description:React.PropTypes.string,error:React.PropTypes.oneOfType([React.PropTypes.bool,React.PropTypes.string]),className:React.PropTypes.string,allSkills:React.PropTypes.array},getInitialState:function(){return{allSkills:null,apiError:!1}},getDefaultProps:function(){return{selectedSkills:[]}},componentWillMount:function(){var e=this,t=this.props.allSkills;t?this.setState({allSkills:t}):(0,n.get)(n.api.skills,function(t){e.setState({allSkills:t,apiError:!1})},function(t){e.setState({apiError:t})})},toggleSkill:function m(e){var t=this.props,m=t.toggleSkill,r=t.inputDisabled;r||m(e)},render:function(){var e=this,t=this.state,r=t.allSkills,a=t.apiError,i=this.props,n=i.selectedSkills,l=i.error,p=i.className,f=i.inputDisabled,m=i.label,h=i.description,v=(0,s["default"])("skillSelector","form-set",p,{"form-set--error":!!l}),R=f&&{disabled:!0},y=l&&React.createElement(u.InputError,null,l),b=a&&React.createElement(u.ApiError,null,l),E=!r&&React.createElement(d["default"],{noPadding:!0}),P=r&&r.map(function(t,r){var a=n&&n.indexOf(t.id)>=0,i=a&&{selected:!0},s=function(){f||e.toggleSkill(t.id)};return React.createElement(c["default"],o({key:r},i,{onClick:s}),t.name)}),g=h&&React.createElement("div",{className:"form-label-helper"},h);return React.createElement("div",{className:v},React.createElement("label",{className:"form-label"},m),g,React.createElement("div",o({className:"skillSelector-skills form-input form-input--noFocus"},R),E,P),y,b)}});t["default"]=f},"./app/scripts/components/skills/skillTag.jsx":function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r("./node_modules/classnames/index.js"),i=a(o),s=React.createClass({displayName:"SkillTag",propTypes:{onClick:React.PropTypes.func,selected:React.PropTypes.bool,children:React.PropTypes.any.isRequired},render:function(){var e=this.props,t=e.onClick,r=e.selected,a=e.children,o=(0,i["default"])("skillTag",{"skillTag--selected":r,"skillTag--clickable":!!t});return React.createElement("div",{className:o,onClick:t},a)}});t["default"]=s},"./app/scripts/components/skills/skills.scss":function(e,t,r){t=e.exports=r("./node_modules/css-loader/lib/css-base.js")(),t.push([e.i,'.skillSelector-skills{display:flex;flex-wrap:wrap}.skillSelector-skills .loader{margin:50px auto}.skillTag{height:42px;font-size:14px;font-weight:600;letter-spacing:.5px;outline:0!important;color:#423d51;border:1px solid #423d51;background:#1eddb2;border-radius:3px;justify-content:center;display:inline-flex;align-items:center;background:#fff;position:relative;overflow:hidden;padding:10px;margin:5px}.skillTag:before{content:"";position:absolute;top:0;left:0;right:0;height:0;border-top:4px solid #ff7b5c;transform:translateY(-100%);transition:transform .35s}.skillTag.skillTag--clickable{color:#1eddb2;border-color:#1eddb2;transition:background .1s,opacity .1s;cursor:pointer}.skillTag.skillTag--clickable:hover{opacity:.8}.skillTag.skillTag--selected{color:#423d51}.skillTag.skillTag--selected:before{transform:translateY(0)}',""])},"./app/scripts/containers/userProfile/userProfile.jsx":function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},s=r("./node_modules/react-redux/lib/index.js"),n=r("./app/scripts/store/actions.js"),l=o(n),c=r("./app/scripts/store/store.js"),p=a(c),d=r("./app/scripts/config.js"),u=r("./node_modules/react-router/es6/index.js"),f=r("./node_modules/classnames/index.js"),m=a(f),h=r("./app/scripts/utils/analytics.js"),v=r("./app/scripts/components/loader/loader.jsx"),R=a(v),y=r("./app/scripts/components/tile/tile.jsx"),b=r("./app/scripts/components/forms/formFields.js"),E=r("./app/scripts/containers/userProfile/userProfilePhoto.jsx"),P=a(E),g=r("./app/scripts/containers/userProfile/userProfileName.jsx"),S=a(g),k=r("./app/scripts/containers/userProfile/userProfileRoles.jsx"),F=a(k),j=r("./app/scripts/containers/userProfile/userProfileShortBio.jsx"),M=a(j),C=r("./app/scripts/containers/userProfile/userProfileCapacity.jsx"),x=a(C),T=r("./app/scripts/containers/userProfile/userProfileLocation.jsx"),I=a(T),N=r("./app/scripts/containers/userProfile/userProfileContactDetails.jsx"),_=a(N),w=r("./app/scripts/containers/userProfile/userProfileAboutMe.jsx"),U=a(w),D=r("./app/scripts/containers/userProfile/userProfileSkills.jsx"),O=a(D),q=r("./app/scripts/containers/userProfile/userProfileTests.jsx"),A=a(q),L=r("./app/scripts/containers/userProfile/userProfileWorkExamples.jsx"),W=a(L),H=r("./app/scripts/containers/userProfile/userProfileWorkHistory.jsx"),z=a(H),G=React.createClass({displayName:"UserProfile",propTypes:{user:React.PropTypes.object,params:React.PropTypes.object,location:React.PropTypes.object,profile:React.PropTypes.object},getInitialState:function(){return{isLoading:!0,apiError:!1,viewAs:"public",profileNotFound:!1}},componentWillMount:function(){this.setProfileParams(this.props)},componentWillReceiveProps:function(e){this.props.params.profileId!==e.params.profileId&&this.setProfileParams(e)},setProfileParams:function(e){var t=this,r=e.user.user_id,a=e.params.profileId,o=a||r,i=parseInt(o);!a&&i&&this.redirectToProfile(i),this.setState({profileId:o},function(){t.getProfile()})},componentDidMount:function(){var e=this.props,t=e.user.user_id,r=e.location.query,a=d.urls.profileUrl(t);r&&r.highlight&&(this.setState({highlight:r.highlight}),u.browserHistory.replace({pathname:""+a}))},componentWillUnmount:function(){document.body.classList.remove("hideZendesk"),p["default"].dispatch(l.profileLeave())},getProfile:function(){var e=this,t=this.state,r=t.profileId,a=t.highlight;this.setState({isLoading:!0},function(){p["default"].dispatch(l.fetchProfile(r,function(){var t=e.props,r=t.user.user_id,o=t.params.profileId,i=r==o,s=i===!0?"edit":"public";e.setState({isLoading:!1,isUpdating:!1,apiError:!1,isOwner:i,viewAs:s},function(){var t=e.refs.contactDetails;"contactDetails"===a&&t.scrollIntoView()})},function(t,r){console.error(t),e.setState({isLoading:!1,apiError:r&&r.text||t})}))})},redirectToProfile:function(e){e&&u.browserHistory.replace({pathname:d.urls.profileUrl(e)})},editProfile:function(){var e=this.state.isEditable;this.setState({isEditable:!e})},viewAs:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"public";return{name:"viewAs",value:t,error:!1,options:[{id:"edit",label:"Edit Profile"},{id:"public",label:"Public Profile"},{id:"connected",label:"Connected Profile"}],onChange:function(t){e.setState({viewAs:t}),(0,h.trackEvent)("Profile: Change View",{view:t})}}},render:function(){var e=this,t=this.props,r=t.profile,a=t.user,o=this.state,i=o.isLoading,s=o.isOwner,n=o.viewAs,l=o.highlight;if(!r||i)return React.createElement(R["default"],null);var c="edit"===n,p="connected"===n||r.is_connected,d=(0,m["default"])({"userProfile-highlight":"contactDetails"===l}),u=s&&function(){var t=e.state.viewAs,r=function(){switch(t){case"connected":return"Connected Profile";case"public":return"Public Profile";case"edit":default:return"Edit Profile"}}();return React.createElement("div",{className:"userProfile-section"},React.createElement(y.Tile,null,React.createElement("div",{className:"userProfile-editTile"},React.createElement("h2",null,r),React.createElement("span",{className:"userProfile-editTile-viewAs"},"View as:"),React.createElement(b.Select,{config:e.viewAs(t)}))))}(),f={user:a,profile:r,isEditable:c,isConnected:p};return React.createElement("div",{className:"userProfile"},u,React.createElement("div",{className:"userProfile-headcap"},React.createElement(P["default"],f),React.createElement("div",{className:"userProfile-meta"},React.createElement(S["default"],f),React.createElement(F["default"],f),React.createElement(M["default"],f),React.createElement("div",{className:"userProfile-tags"},React.createElement(x["default"],f),React.createElement(I["default"],f)))),React.createElement("div",{className:"userProfile-content"},React.createElement("div",{ref:"contactDetails",className:d},React.createElement(_["default"],f)),React.createElement(U["default"],f),React.createElement(O["default"],f),React.createElement(A["default"],f),React.createElement(W["default"],f),React.createElement(z["default"],f)))}}),Y=function(e){var t=e.auth,r=e.profile;return i({user:t},r)};t["default"]=(0,s.connect)(Y)(G)},"./app/scripts/containers/userProfile/userProfileAboutMe.jsx":function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0});var i=r("./app/scripts/store/actions.js"),s=o(i),n=r("./app/scripts/store/store.js"),l=a(n),c=r("./app/scripts/utils/formUtils.js"),p=r("./app/scripts/utils/piiUtils.js"),d=r("./app/scripts/utils/analytics.js"),u=r("./app/scripts/components/editSection/editSection.jsx"),f=r("./app/scripts/components/forms/formFields.js"),m=r("./app/scripts/components/button/button.jsx"),h=a(m),v=r("./app/scripts/components/modal/modal.jsx"),R=r("./app/scripts/components/errors/apiError.jsx"),y=a(R),b=React.createClass({displayName:"UserProfileAboutMeModal",propTypes:{onClose:React.PropTypes.func.isRequired,open:React.PropTypes.bool.isRequired,profile:React.PropTypes.object.isRequired,user:React.PropTypes.object.isRequired},getInitialState:function(){return{formFields:{},isUpdating:!1,apiError:!1,showConfirmation:!1}},formFields:function(e){var t=this,r=this.props.user;return{long_description:{name:"long_description",label:"About Me",value:e.long_description||"",error:!1,rows:7,validator:function(e){var a=t.state.formFields,o=(0,p.doesStringContainPII)(e,{user:r});return o&&(a.long_description.error=p.piiErrors.formField),t.setState({formFields:a}),!o},onChange:function(e){var r=t.state.formFields;r.long_description.value=e,r.long_description.error=!1,t.setState({formFields:r})}}}},componentWillMount:function(){this.setFormFields()},componentWillReceiveProps:function(e){var t=e.profile;this.setFormFields(t)},setFormFields:function(e){var t=this.props.profile,r=e||t;this.setState({formFields:this.formFields(r)})},saveProfile:function(){var e=this,t=this.props,r=t.onClose,a=t.profile.id,o=this.state.formFields;c.FormUtils.validateForm(o,function(t){if(t){var i={long_description:o.long_description.value};e.setState({isUpdating:!0,apiError:!1},function(){l["default"].dispatch(s.saveProfile(a,i,function(){(0,d.trackEvent)("Profile: Save ",{section:"About Me"}),r(),e.setState({isUpdating:!1})},function(t,r){console.error(t),e.setState({apiError:r.text,isUpdating:!1})}))})}})},render:function(){var e=this.props,t=e.onClose,r=e.open,a=this.state,o=a.formFields,i=a.isUpdating,s=a.apiError,n=s&&React.createElement(y["default"],{error:s}),l=React.createElement("span",{className:"userProfile-editModal-bottom"},React.createElement(h["default"],{buttonType:"secondary",disabled:i,onClick:t},"Cancel"),React.createElement(h["default"],{isLoading:i,disabled:i,onClick:this.saveProfile},"Save"));return React.createElement(v.Modal,{className:"userProfile-editModal",open:r,header:"About Me",footer:l,onClose:t},React.createElement(f.Textarea,{config:o.long_description,inputDisabled:i}),n)}}),E=React.createClass({displayName:"UserProfileAboutMe",propTypes:{isEditable:React.PropTypes.bool.isRequired,profile:React.PropTypes.object.isRequired,user:React.PropTypes.object.isRequired},getInitialState:function(){return{modalOpen:!1}},openModal:function(){this.setState({modalOpen:!0}),(0,d.trackEvent)("Profile: Edit",{section:"About Me"})},closeModal:function(){this.setState({modalOpen:!1})},render:function(){var e=this,t=this.props,r=t.isEditable,a=t.user,o=t.profile,i=t.profile.long_description,s=this.state.modalOpen,n=!i;if(!r&&n)return!1;var l=r&&React.createElement("p",null,"Share more details about yourself, your experience and what youâ€™re looking for on Loom"),c=React.createElement("p",null,i),p=function(){return r?n?React.createElement(u.AddSection,{addItem:e.openModal,block:!0},"Add About Me"):React.createElement(u.EditSection,{editItem:e.openModal},c):c}();return React.createElement("div",{className:"userProfile-section"},React.createElement("div",{className:"userProfile-about"},React.createElement("h2",null,"About Me"),l,p,React.createElement(b,{user:a,profile:o,open:s,onClose:this.closeModal})))}});t["default"]=E},"./app/scripts/containers/userProfile/userProfileCapacity.jsx":function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0});var i=r("./app/scripts/store/actions.js"),s=o(i),n=r("./app/scripts/store/store.js"),l=a(n),c=r("./app/scripts/utils/formUtils.js"),p=r("./app/scripts/utils/analytics.js"),d=r("./app/scripts/components/editSection/editSection.jsx"),u=r("./app/scripts/components/forms/formFields.js"),f=r("./app/scripts/components/tags/tags.jsx"),m=r("./app/scripts/components/button/button.jsx"),h=a(m),v=r("./app/scripts/components/modal/modal.jsx"),R=r("./app/scripts/components/errors/apiError.jsx"),y=a(R),b=React.createClass({displayName:"UserProfileCapacityModal",propTypes:{onClose:React.PropTypes.func.isRequired,open:React.PropTypes.bool.isRequired,profile:React.PropTypes.object.isRequired},getInitialState:function(){return{formFields:{},isUpdating:!1,apiError:!1}},formFields:function(e){var t=this;return{capacity:{name:"capacity",label:"Availability",value:e.capacity||"",error:!1,validator:function(e){var r=t.state.formFields,a=c.FormUtils.checks.isRequired(e)&&c.FormUtils.checks.isRequiredInt(e)&&e<=168;return a||(r.capacity.error="Please enter your availability (max 168 hours).",t.setState({formFields:r})),a},onChange:function(e){var r=t.state.formFields;r.capacity.value=e,r.capacity.error=!1,t.setState({formFields:r})}}}},componentWillMount:function(){this.setFormFields()},componentWillReceiveProps:function(e){var t=e.profile;this.setFormFields(t)},setFormFields:function(e){var t=this.props.profile,r=e||t;this.setState({formFields:this.formFields(r)})},saveProfile:function(){var e=this,t=this.props,r=t.onClose,a=t.profile.id,o=this.state.formFields;c.FormUtils.validateForm(o,function(t){if(t){var i={capacity:o.capacity.value};e.setState({isUpdating:!0,apiError:!1},function(){l["default"].dispatch(s.saveProfile(a,i,function(){(0,p.trackEvent)("Profile: Save ",{section:"Availability"}),r(),e.setState({isUpdating:!1})},function(t,r){console.error(t),e.setState({apiError:r.text,isUpdating:!1})}))})}})},render:function(){var e=this.state,t=e.formFields,r=e.isUpdating,a=e.apiError,o=this.props,i=o.onClose,s=o.open,n=a&&React.createElement(y["default"],{error:a}),l=React.createElement("span",{className:"userProfile-editModal-bottom"},React.createElement(h["default"],{buttonType:"secondary",disabled:r,onClick:i},"Cancel"),React.createElement(h["default"],{isLoading:r,disabled:r,onClick:this.saveProfile},"Save"));return React.createElement(v.Modal,{className:"userProfile-editModal",open:s,header:"Availability",footer:l,onClose:i},React.createElement(u.Input,{config:t.capacity,inputDisabled:r,suffix:"hours/week"}),n)}}),E=React.createClass({displayName:"UserProfileCapacity",propTypes:{isEditable:React.PropTypes.bool.isRequired,profile:React.PropTypes.object.isRequired},getInitialState:function(){return{modalOpen:!1}},openModal:function(){this.setState({modalOpen:!0}),(0,p.trackEvent)("Profile: Edit",{section:"Availability"})},closeModal:function(){this.setState({modalOpen:!1})},render:function(){var e=this,t=this.props,r=t.isEditable,a=t.profile,o=t.profile.capacity,i=this.state.modalOpen,s=!o,n=React.createElement(f.CapacityTag,{capacity:o}),l=function(){return r?s?React.createElement(d.AddSection,{addItem:e.openModal},"Add Availability"):React.createElement(d.EditSection,{editItem:e.openModal},n):n}();return React.createElement("span",{className:"userProfile-capacity"},l,React.createElement(b,{profile:a,open:i,onClose:this.closeModal}))}});t["default"]=E},"./app/scripts/containers/userProfile/userProfileContactDetails.jsx":function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0});var i=r("./app/scripts/store/actions.js"),s=o(i),n=r("./app/scripts/store/store.js"),l=a(n),c=r("./app/scripts/store/api.js"),p=r("./app/scripts/utils/formUtils.js"),d=r("./app/scripts/utils/analytics.js"),u=r("./app/scripts/components/legacyLink/legacyLink.jsx"),f=a(u),m=r("./app/scripts/components/editSection/editSection.jsx"),h=r("./app/scripts/components/forms/formFields.js"),v=r("./app/scripts/components/button/button.jsx"),R=a(v),y=r("./app/scripts/components/modal/modal.jsx"),b=r("./app/scripts/components/errors/apiError.jsx"),E=a(b),P=r("./app/scripts/components/contactCard/contactDetail.jsx"),g=a(P),S=r("./app/scripts/components/loader/loader.jsx"),k=a(S),F=React.createClass({displayName:"UserProfileContactDetailsModal",propTypes:{onClose:React.PropTypes.func.isRequired,open:React.PropTypes.bool.isRequired,profile:React.PropTypes.object.isRequired},getInitialState:function(){return{formFields:{},isUpdating:!1,isResending:!1,isResent:!1,apiError:!1,showConfirmation:!1}},formFields:function(e){var t=this,r=e.contact_details,a=r||{},o=a.email_confirmed;if(r)return{email:{name:"email",label:"Email Address *",value:r.email||"",error:!1,verify:o===!1,validator:function(e){var r=t.state.formFields,a=p.FormUtils.checks.isRequired(e)&&p.FormUtils.checks.isEmail(e);return a||(r.email.error="Please enter a valid email address.",t.setState({formFields:r})),a},onChange:function(e){var a=t.state.formFields;a.email.value=e,a.email.error=!1,a.email.verify=e!==r.email,t.setState({formFields:a})}},phone:{name:"phone",label:"Phone Number *",value:r.phone||"",error:!1,validator:function(e){var r=t.state.formFields,a=p.FormUtils.checks.isRequired(e)&&p.FormUtils.checks.isPhone(e);return a||(r.phone.error="Please enter a valid phone number.",t.setState({formFields:r})),a},onChange:function(e){var r=t.state.formFields;r.phone.value=e,r.phone.error=!1,t.setState({formFields:r})}},website:{name:"website",label:"Website",value:r.website||"",error:!1,onChange:function(e){var r=t.state.formFields;r.website.value=e,t.setState({formFields:r})}}}},componentWillMount:function(){this.setFormFields()},componentWillReceiveProps:function(e){var t=e.profile;this.setFormFields(t)},setFormFields:function(e){var t=this.props.profile,r=e||t;this.setState({formFields:this.formFields(r)})},saveProfile:function(){var e=this,t=this.props,r=t.onClose,a=t.profile,o=t.profile.contact_details,i=o||{},n=i.email,u=this.state.formFields;p.FormUtils.validateForm(u,function(t){if(t){var o=n!==u.email.value,i={email:u.email.value,phone:u.phone.value,website:u.website.value};e.setState({isUpdating:!0,apiError:!1},function(){(0,c.post)(c.api.contactDetails,(0,p.objectToFormData)(i),function(t){var i=Object.assign({},a,{contact_details:t});l["default"].dispatch(s.profileUpdate(i)),(0,d.trackEvent)("Profile: Save ",{section:"Contact Details"}),o?e.showConfirmation():r(),e.setState({isUpdating:!1})},function(t,r){console.error(t),e.setState({apiError:r.text,isUpdating:!1})})})}})},resendVerification:function(){var e=this,t=this.props.profile.id;this.setState({isResending:!0},function(){(0,c.get)(c.api.resendVerification(t),function(){(0,d.trackEvent)("Profile: Resend Contact Verification Email"),e.setState({isResending:!1,isResent:!0})},function(t,r){console.error(t),e.setState({apiError:r.text,isResending:!1})})})},showConfirmation:function(){this.setState({showConfirmation:!0})},closeModal:function(){var e=this.props.onClose;e(),this.setState({showConfirmation:!1,isResent:!1})},render:function(){var e=this,t=this.state,r=t.formFields,a=t.isUpdating,o=t.isResending,i=t.isResent,s=t.apiError,n=t.showConfirmation,l=this.props,c=l.open,p=l.profile.contact_details,d=p||{},u=d.email,f=d.email_confirmed,m=s&&React.createElement(E["default"],{error:s}),v=!n&&React.createElement(R["default"],{buttonType:"secondary",disabled:a,onClick:this.closeModal},"Cancel"),b=n?this.closeModal:this.saveProfile,P=n?"Okay, I got it":"Save",g=React.createElement("span",{className:"userProfile-editModal-bottom"},v,React.createElement(R["default"],{isLoading:a,disabled:a,onClick:b},P)),S=!f||r.email.verify,F=u!==r.email.value||!r.email.value,j=r.email.value.length>0,M=j&&function(){if(F)return React.createElement("div",{className:"userProfile-contactDetail-helper userProfile-contactDetail-helper--unverified"},"Not Yet Verified");if(S){var t=function(){return o?React.createElement("span",{className:"userProfile-contactDetails-resend userProfile-contactDetails-resend--resending"},"Sending... ",React.createElement(k["default"],{noPadding:!0})):i?React.createElement("span",{className:"userProfile-contactDetails-resend"},"Resent."):React.createElement("a",{onClick:e.resendVerification,className:"userProfile-contactDetails-resend"},"Resend?")}();return React.createElement("div",{className:"userProfile-contactDetail-helper"},"Verification Email Sent! ",t)}return React.createElement("div",{className:"userProfile-contactDetail-helper"},React.createElement("i",{className:"fa fa-check-circle","aria-hidden":"true"})," Verified")}(),C=n?React.createElement("span",{className:"userProfile-contactDetails-confirm"},React.createElement("h2",null,"Check your inbox!"),React.createElement("p",null,"We just sent a verification email to ",React.createElement("span",{className:"brand"},r.email.value),". Follow the link in the email to verify your email address. Check your junk folder if you don't see the email within a few minutes.")):React.createElement("span",null,React.createElement(h.Input,{config:r.email,inputDisabled:a,className:"userProfile-contactDetailInput--email"}),M,React.createElement(h.Input,{config:r.phone,inputDisabled:a}),React.createElement(h.Input,{config:r.website,inputDisabled:a}),React.createElement("p",null,"* fields labeled with asterisk are required"),m);return React.createElement(y.Modal,{className:"userProfile-editModal",open:c,header:"Contact Details",footer:g,onClose:this.closeModal},C)}}),j=React.createClass({displayName:"UserProfileContactDetails",propTypes:{isEditable:React.PropTypes.bool.isRequired,isConnected:React.PropTypes.bool.isRequired,profile:React.PropTypes.object.isRequired},getInitialState:function(){return{modalOpen:!1}},openModal:function(){this.setState({modalOpen:!0}),(0,d.trackEvent)("Profile: Edit",{section:"Contact Details"})},closeModal:function(){this.setState({modalOpen:!1})},render:function(){var e=this,t=this.props,r=t.isEditable,a=t.isConnected,o=t.profile,i=t.profile.contact_details,s=i||{},n=s.email,l=s.email_confirmed,c=s.phone,p=s.website,d=this.state.modalOpen,u=r&&(0===n.length||!l)&&0===c.length,h=a&&(0===n.length||!l)&&0===c.length;if(!r&&!a||h)return!1;var v=a?React.createElement("h2",null,"Contact Details"):React.createElement("h2",null,"Contact Details ",React.createElement("i",{className:"fa fa-lock","aria-hidden":"true"})),R=r&&React.createElement("p",null,"Your contact details are not public. They are shared only with your approved Loom connections. Minimum requirement is a verified email and phone number to share with connections."),y=l?React.createElement("div",{className:"userProfile-contactDetail-helper"},React.createElement("i",{className:"fa fa-check-circle","aria-hidden":"true"})," Verified"):React.createElement("div",{className:"userProfile-contactDetail-helper userProfile-contactDetail-helper--unverified"},"Not Yet Verified"),b=a?React.createElement(f["default"],{href:"mailto:"+n},n):n,E=n&&React.createElement(g["default"],{className:"userProfile-contactDetail userProfile-contactDetail--email",label:"Email",connected:!0},b,y),P=c&&React.createElement(g["default"],{className:"userProfile-contactDetail userProfile-contactDetail--phone",label:"Phone",connected:!0},c),S=a?React.createElement(f["default"],{href:p,target:"_blank",prefix:!0},p):p,k=p&&p.length>0&&React.createElement(g["default"],{className:"userProfile-contactDetail",label:"Website",connected:!0},S),j=React.createElement("div",{className:"userProfile-contactDetails-inner"},E,P,k),M=function(){return r?u?React.createElement(m.AddSection,{addItem:e.openModal,block:!0},"Add Contact Details"):React.createElement(m.EditSection,{editItem:e.openModal},j):j}();return React.createElement("div",{className:"userProfile-section"},React.createElement("div",{className:"userProfile-contactDetails"},v,R,M,React.createElement(F,{profile:o,open:d,onClose:this.closeModal})))}});t["default"]=j},"./app/scripts/containers/userProfile/userProfileLocation.jsx":function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var s=r("./app/scripts/store/actions.js"),n=o(s),l=r("./app/scripts/store/store.js"),c=a(l),p=r("./app/scripts/utils/formUtils.js"),d=r("./app/scripts/utils/locationUtils.js"),u=r("./app/scripts/utils/analytics.js"),f=r("./app/scripts/components/editSection/editSection.jsx"),m=r("./app/scripts/components/forms/formFields.js"),h=r("./app/scripts/components/tags/tags.jsx"),v=r("./app/scripts/components/button/button.jsx"),R=a(v),y=r("./app/scripts/components/modal/modal.jsx"),b=r("./app/scripts/components/errors/apiError.jsx"),E=a(b),P=React.createClass({displayName:"UserProfileLocationModal",propTypes:{onClose:React.PropTypes.func.isRequired,open:React.PropTypes.bool.isRequired,profile:React.PropTypes.object.isRequired},getInitialState:function(){return{formFields:{},isUpdating:!1,apiError:!1}},formFields:function(e){var t=this;return{city:{name:"city",label:"City",value:e.city||"",error:!1,validator:function(e){var r=t.state.formFields,a=p.FormUtils.checks.isRequired(e);return a||(r.city.error="Please enter your city.",t.setState({formFields:r})),a},onChange:function(e){var r=t.state.formFields;r.city.value=e,r.city.error=!1,t.setState({formFields:r})}},state:{name:"state",label:"State (if in USA)",value:function(){var r=t.state.formFields,a=r.country&&r.country.value||e.country,o="United States of America"===a,i=""===a;
return o||i?e.state||"":""}(),disabled:function(){var r=t.state.formFields,a=r.country&&r.country.value||e.country,o="United States of America"===a,i=""===a;return!o&&!i}(),error:!1,options:[{id:"",label:"Choose one..."}].concat(i(p.selectStatesOptions)),validator:function(e){var r=t.state.formFields,a="United States of America"===r.country.value,o=!a||p.FormUtils.checks.isRequired(e);return o||(r.state.error="Please select your state.",t.setState({formFields:r})),o},onChange:function(e){var r=t.state.formFields;r.state.value=e,r.state.error=!1,t.setState({formFields:r})}},country:{name:"country",label:"Country",value:e.country||"",error:!1,options:[{id:"",label:"Choose one..."}].concat(i(p.selectCountryOptions)),validator:function(e){var r=t.state.formFields,a=p.FormUtils.checks.isRequired(e);return a||(r.country.error="Please select your country.",t.setState({formFields:r})),a},onChange:function(e){var r=t.state.formFields,a="United States of America"===e;r.country.value=e,r.country.error=!1,a?r.state.disabled=!1:(r.state.value="",r.state.disabled=!0,r.state.error=!1),t.setState({formFields:r})}}}},componentWillMount:function(){this.setFormFields()},componentWillReceiveProps:function(e){var t=e.profile;this.setFormFields(t)},setFormFields:function(e){var t=this.props.profile,r=e||t;this.setState({formFields:this.formFields(r)})},saveProfile:function(){var e=this,t=this.props,r=t.onClose,a=t.profile.id,o=this.state.formFields;p.FormUtils.validateForm(o,function(t){if(t){var i={city:o.city.value,state:o.state.value,country:o.country.value};e.setState({isUpdating:!0,apiError:!1},function(){c["default"].dispatch(n.saveProfile(a,i,function(){(0,u.trackEvent)("Profile: Save ",{section:"Location"}),r(),e.setState({isUpdating:!1})},function(t,r){console.error(t),e.setState({apiError:r.text,isUpdating:!1})}))})}})},render:function(){var e=this.state,t=e.formFields,r=e.isUpdating,a=e.apiError,o=this.props,i=o.onClose,s=o.open,n=a&&React.createElement(E["default"],{error:a}),l=React.createElement("span",{className:"userProfile-editModal-bottom"},React.createElement(R["default"],{buttonType:"secondary",disabled:r,onClick:i},"Cancel"),React.createElement(R["default"],{isLoading:r,disabled:r,onClick:this.saveProfile},"Save"));return React.createElement(y.Modal,{className:"userProfile-editModal",open:s,header:"Location",footer:l,onClose:i},React.createElement(m.Select,{config:t.country,inputDisabled:r}),React.createElement(m.Input,{config:t.city,inputDisabled:r}),React.createElement(m.Select,{config:t.state,inputDisabled:r}),n)}}),g=React.createClass({displayName:"UserProfileLocation",propTypes:{isEditable:React.PropTypes.bool.isRequired,profile:React.PropTypes.object.isRequired},getInitialState:function(){return{modalOpen:!1}},openModal:function(){this.setState({modalOpen:!0}),(0,u.trackEvent)("Profile: Edit",{section:"Location"})},closeModal:function(){this.setState({modalOpen:!1})},checkCountryValidity:function(e){return p.selectCountryOptions.some(function(t){return e===t.id})},render:function(){var e=this,t=this.props,r=t.isEditable,a=t.profile,o=t.profile,i=o.city,s=o.state,n=o.country,l=this.state.modalOpen,c=(0,d.getLocationName)(i,s,n),p=this.checkCountryValidity(n),u=!c||!p,m=React.createElement(h.LocationTag,{city:i,state:s,country:n}),v=function(){return r?u?React.createElement(f.AddSection,{addItem:e.openModal},"Add Location"):React.createElement(f.EditSection,{editItem:e.openModal},m):m}();return React.createElement("span",{className:"userProfile-capacity"},v,React.createElement(P,{profile:a,open:l,onClose:this.closeModal}))}});t["default"]=g},"./app/scripts/containers/userProfile/userProfileName.jsx":function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0});var i=r("./app/scripts/store/actions.js"),s=o(i),n=r("./app/scripts/store/store.js"),l=a(n),c=r("./app/scripts/utils/formUtils.js"),p=r("./app/scripts/utils/analytics.js"),d=r("./app/scripts/components/editSection/editSection.jsx"),u=r("./app/scripts/components/forms/formFields.js"),f=r("./app/scripts/components/button/button.jsx"),m=a(f),h=r("./app/scripts/components/modal/modal.jsx"),v=r("./app/scripts/components/errors/apiError.jsx"),R=a(v),y=React.createClass({displayName:"UserProfileNameModal",propTypes:{onClose:React.PropTypes.func.isRequired,open:React.PropTypes.bool.isRequired,profile:React.PropTypes.object.isRequired},getInitialState:function(){return{formFields:{},isUpdating:!1,apiError:!1}},formFields:function(e){var t=this;return{first_name:{name:"first_name",label:"First Name",value:e.first_name||"",error:!1,validator:function(e){var r=t.state.formFields,a=c.FormUtils.checks.isRequired(e);return a||(r.first_name.error="Please enter your first name.",t.setState({formFields:r})),a},onChange:function(e){var r=t.state.formFields;r.first_name.value=e,r.first_name.error=!1,t.setState({formFields:r})}},last_name:{name:"last_name",label:"Last Name (not public)",value:e.last_name||"",error:!1,validator:function(e){var r=t.state.formFields,a=c.FormUtils.checks.isRequired(e);return a||(r.last_name.error="Please enter your last name.",t.setState({formFields:r})),a},onChange:function(e){var r=t.state.formFields;r.last_name.value=e,r.last_name.error=!1,t.setState({formFields:r})}}}},componentWillMount:function(){this.setFormFields()},componentWillReceiveProps:function(e){var t=e.profile;this.setFormFields(t)},setFormFields:function(e){var t=this.props.profile,r=e||t;this.setState({formFields:this.formFields(r)})},saveProfile:function(){var e=this,t=this.props,r=t.onClose,a=t.profile.id,o=this.state.formFields;c.FormUtils.validateForm(o,function(t){if(t){var i={first_name:o.first_name.value,last_name:o.last_name.value};e.setState({isUpdating:!0,apiError:!1},function(){l["default"].dispatch(s.saveProfile(a,i,function(){(0,p.trackEvent)("Profile: Save ",{section:"Name"}),r(),e.setState({isUpdating:!1})},function(t,r){console.error(t),e.setState({apiError:r.text,isUpdating:!1})}))})}})},render:function(){var e=this.state,t=e.formFields,r=e.isUpdating,a=e.apiError,o=this.props,i=o.onClose,s=o.open,n=a&&React.createElement(R["default"],{error:a}),l=React.createElement("span",{className:"userProfile-editModal-bottom"},React.createElement(m["default"],{buttonType:"secondary",disabled:r,onClick:i},"Cancel"),React.createElement(m["default"],{isLoading:r,disabled:r,onClick:this.saveProfile},"Save"));return React.createElement(h.Modal,{className:"userProfile-editModal",open:s,header:"Name",footer:l,onClose:i},React.createElement(u.Input,{config:t.first_name,inputDisabled:r}),React.createElement(u.Input,{config:t.last_name,inputDisabled:r}),n)}}),b=React.createClass({displayName:"UserProfileName",propTypes:{isEditable:React.PropTypes.bool.isRequired,isConnected:React.PropTypes.bool.isRequired,profile:React.PropTypes.object.isRequired},getInitialState:function(){return{modalOpen:!1}},openModal:function(){this.setState({modalOpen:!0}),(0,p.trackEvent)("Profile: Edit",{section:"Name"})},closeModal:function(){this.setState({modalOpen:!1})},render:function(){var e=this,t=this.props,r=t.isEditable,a=t.isConnected,o=t.profile,i=t.profile,s=i.first_name,n=i.last_name,l=this.state.modalOpen,c=!s&&!n,p=a||r?n:"",u=c?"User":s+" "+p,f=React.createElement("span",{className:"userProfile-name-inner"},u),m=function(){return r?c?React.createElement(d.AddSection,{addItem:e.openModal},"Add Your Name"):React.createElement(d.EditSection,{editItem:e.openModal},f):f}();return React.createElement("span",{className:"userProfile-name"},m,React.createElement(y,{profile:o,open:l,onClose:this.closeModal}))}});t["default"]=b},"./app/scripts/containers/userProfile/userProfilePhoto.jsx":function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0});var i=r("./app/scripts/store/actions.js"),s=o(i),n=r("./app/scripts/store/store.js"),l=a(n),c=r("./app/scripts/utils/analytics.js"),p=r("./app/scripts/components/editSection/editSection.jsx"),d=r("./app/scripts/components/button/button.jsx"),u=a(d),f=r("./app/scripts/components/profilePhoto/profilePhoto.jsx"),m=a(f),h=r("./app/scripts/components/modal/modal.jsx"),v=r("./app/scripts/components/errors/apiError.jsx"),R=a(v),y=React.createClass({displayName:"UserProfilePhotoModal",propTypes:{onClose:React.PropTypes.func.isRequired,open:React.PropTypes.bool.isRequired,profile:React.PropTypes.object.isRequired},getInitialState:function(){return{isUpdating:!1,apiError:!1,uploadedPhoto:null,uploadedFile:null}},uploadPhoto:function(e){var t=this,r=new FileReader,a=e.target.files[0];e.preventDefault(),a&&(/(\.jpg|\.jpeg|\.bmp|\.gif|\.png)$/i.exec(a.name)?(r.onloadend=function(){t.setState({uploadedPhoto:r.result,uploadedFile:a})},r.readAsDataURL(a)):alert("Invalid file type. Must be .jpg, .bmp, .gif or .png."))},onEditModalClose:function(){this.setState({uploadedPhoto:null,uploadedFile:null})},saveProfile:function(){var e=this,t=this.props,r=t.onClose,a=t.profile.id,o=this.state.uploadedFile;if(o){var i={photo:o};this.setState({isUpdating:!0,apiError:!1},function(){l["default"].dispatch(s.saveProfile(a,i,function(){(0,c.trackEvent)("Profile: Save",{section:"Photo"}),r(),e.setState({isUpdating:!1})},function(t,r){console.error(t),e.setState({apiError:r.text,isUpdating:!1})}))})}},render:function(){var e=this.state,t=e.uploadedPhoto,r=e.isUpdating,a=e.apiError,o=this.props,i=o.onClose,s=o.open,n=o.profile.photo_url,l=t||n,c=a&&React.createElement(R["default"],{error:a}),p=React.createElement("span",{className:"userProfile-editModal-bottom"},React.createElement(u["default"],{buttonType:"secondary",disabled:r,onClick:i},"Cancel"),React.createElement(u["default"],{isLoading:r,disabled:r,onClick:this.saveProfile},"Save"));return React.createElement(h.Modal,{className:"userProfile-editModal",open:s,header:"Profile Photo",footer:p,onClose:i},React.createElement("span",{className:"userProfile-photo-edit"},React.createElement("div",{className:"userProfile-photo-edit-preview"},React.createElement(m["default"],{url:l})),React.createElement("div",{className:"userProfile-photo-edit-upload"},React.createElement(u["default"],{disabled:r,onFileSelection:this.uploadPhoto,fileInput:!0,center:!0},"Upload Photo"),React.createElement("p",{className:"small"},"Acceptable file types are: .jpg, .bmp, .gif or .png.",React.createElement("br",null),"Limit 15MB.",React.createElement("br",null),"Image will be cropped to a square."))),c)}}),b=React.createClass({displayName:"UserProfilePhoto",propTypes:{isEditable:React.PropTypes.bool.isRequired,profile:React.PropTypes.object.isRequired},getInitialState:function(){return{modalOpen:!1}},openModal:function(){this.setState({modalOpen:!0}),(0,c.trackEvent)("Profile: Edit",{section:"Photo"})},closeModal:function(){this.setState({modalOpen:!1})},render:function(){var e=this,t=this.props,r=t.isEditable,a=t.profile,o=t.profile.photo_url,i=this.state.modalOpen,s=!o.length,n=React.createElement(m["default"],{url:o}),l=function(){return r?s?React.createElement(p.AddSection,{addItem:e.openModal,block:!0},"Add Photo"):React.createElement(p.EditSection,{editItem:e.openModal},n):n}();return React.createElement("span",{className:"userProfile-photo"},l,React.createElement(y,{profile:a,open:i,onClose:this.closeModal}))}});t["default"]=b},"./app/scripts/containers/userProfile/userProfileRoles.jsx":function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0});var i=r("./app/scripts/store/actions.js"),s=o(i),n=r("./app/scripts/store/store.js"),l=a(n),c=r("./app/scripts/utils/analytics.js"),p=r("./app/scripts/components/editSection/editSection.jsx"),d=r("./app/scripts/components/forms/formFields.js"),u=r("./app/scripts/components/bubbles/roleBubble.jsx"),f=a(u),m=r("./app/scripts/components/button/button.jsx"),h=a(m),v=r("./app/scripts/components/modal/modal.jsx"),R=r("./app/scripts/components/errors/apiError.jsx"),y=a(R),b=React.createClass({displayName:"UserProfileRolesModal",propTypes:{onClose:React.PropTypes.func.isRequired,open:React.PropTypes.bool.isRequired,profile:React.PropTypes.object.isRequired},getInitialState:function(){return{formFields:{},isUpdating:!1,apiError:!1}},formFields:function(e){var t=this;return{role:{name:"role",label:"Your Primary Role",value:e.role||"",error:!1,options:[{id:"",label:"Entrepreneur"},{id:"front-end",label:"Front-end Developer"},{id:"back-end",label:"Back-end Developer"},{id:"full-stack",label:"Full-stack Developer"},{id:"mobile",label:"Mobile Developer"}],validator:function(){},onChange:function(e){var r=t.state.formFields;r.role.value=e,r.role.error=!1,t.setState({formFields:r})}}}},componentWillMount:function(){this.setFormFields()},componentWillReceiveProps:function(e){var t=e.profile;this.setFormFields(t)},setFormFields:function(e){var t=this.props.profile,r=e||t;this.setState({formFields:this.formFields(r)})},saveProfile:function(){var e=this,t=this.props,r=t.onClose,a=t.profile.id,o=this.state.formFields,i={role:o.role.value};this.setState({isUpdating:!0,apiError:!1},function(){l["default"].dispatch(s.saveProfile(a,i,function(){(0,c.trackEvent)("Profile: Save ",{section:"Roles"}),r(),e.setState({isUpdating:!1})},function(t,r){console.error(t),e.setState({apiError:r.text,isUpdating:!1})}))})},render:function(){var e=this.state,t=e.formFields,r=e.isUpdating,a=e.apiError,o=this.props,i=o.onClose,s=o.open,n=a&&React.createElement(y["default"],{error:a}),l=React.createElement("span",{className:"userProfile-editModal-bottom"},React.createElement(h["default"],{buttonType:"secondary",disabled:r,onClick:i},"Cancel"),React.createElement(h["default"],{isLoading:r,disabled:r,onClick:this.saveProfile},"Save"));return React.createElement(v.Modal,{className:"userProfile-editModal",open:s,header:"Role",footer:l,onClose:i},React.createElement(d.Select,{config:t.role,inputDisabled:r}),n)}}),E=React.createClass({displayName:"UserProfileRoles",propTypes:{isEditable:React.PropTypes.bool.isRequired,profile:React.PropTypes.object.isRequired},getInitialState:function(){return{modalOpen:!1}},openModal:function(){this.setState({modalOpen:!0}),(0,c.trackEvent)("Profile: Edit",{section:"Roles"})},closeModal:function(){this.setState({modalOpen:!1})},render:function(){var e=this,t=this.props,r=t.isEditable,a=t.profile,o=t.profile.role,i=this.state.modalOpen,s=React.createElement(f["default"],{role:o}),n=function(){return r?React.createElement(p.EditSection,{editItem:e.openModal},s):s}();return React.createElement("span",{className:"userProfile-roles"},n,React.createElement(b,{profile:a,open:i,onClose:this.closeModal}))}});t["default"]=E},"./app/scripts/containers/userProfile/userProfileShortBio.jsx":function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0});var i=r("./app/scripts/store/actions.js"),s=o(i),n=r("./app/scripts/store/store.js"),l=a(n),c=r("./app/scripts/utils/formUtils.js"),p=r("./app/scripts/utils/analytics.js"),d=r("./app/scripts/utils/piiUtils.js"),u=r("./app/scripts/components/editSection/editSection.jsx"),f=r("./app/scripts/components/forms/formFields.js"),m=r("./app/scripts/components/button/button.jsx"),h=a(m),v=r("./app/scripts/components/modal/modal.jsx"),R=r("./app/scripts/components/errors/apiError.jsx"),y=a(R),b=React.createClass({displayName:"UserProfileBioModal",propTypes:{onClose:React.PropTypes.func.isRequired,open:React.PropTypes.bool.isRequired,profile:React.PropTypes.object.isRequired,user:React.PropTypes.object.isRequired},getInitialState:function(){return{formFields:{},isUpdating:!1,apiError:!1}},formFields:function(e){var t=this,r=this.props.user;return{biography:{name:"bio",label:"Short Bio (250 characters max)",value:e.biography||"",error:!1,maxLength:250,rows:7,validator:function(e){var a=t.state.formFields,o=(0,d.doesStringContainPII)(e,{user:r}),i=c.FormUtils.checks.isRequired(e)&&!o;return i||(o?a.biography.error=d.piiErrors.formField:a.biography.error="Please enter a short bio (max 250 characters).",t.setState({formFields:a})),i},onChange:function(e){var r=t.state.formFields;r.biography.value=e,r.biography.error=!1,t.setState({formFields:r})}}}},componentWillMount:function(){this.setFormFields()},componentWillReceiveProps:function(e){var t=e.profile;this.setFormFields(t)},setFormFields:function(e){var t=this.props.profile,r=e||t;this.setState({formFields:this.formFields(r)})},saveProfile:function(){var e=this,t=this.props,r=t.onClose,a=t.profile.id,o=this.state.formFields;c.FormUtils.validateForm(o,function(t){if(t){var i={biography:o.biography.value};e.setState({isUpdating:!0,apiError:!1},function(){l["default"].dispatch(s.saveProfile(a,i,function(){(0,p.trackEvent)("Profile: Save ",{section:"Short Bio"}),r(),e.setState({isUpdating:!1})},function(t,r){console.error(t),e.setState({apiError:r.text,isUpdating:!1})}))})}})},render:function(){var e=this.state,t=e.formFields,r=e.isUpdating,a=e.apiError,o=this.props,i=o.onClose,s=o.open,n=a&&React.createElement(y["default"],{error:a}),l=React.createElement("span",{className:"userProfile-editModal-bottom"},React.createElement(h["default"],{buttonType:"secondary",disabled:r,onClick:i},"Cancel"),React.createElement(h["default"],{isLoading:r,disabled:r,onClick:this.saveProfile},"Save"));return React.createElement(v.Modal,{className:"userProfile-editModal",open:s,header:"Short Bio",footer:l,onClose:i},React.createElement(f.Textarea,{config:t.biography,inputDisabled:r}),n)}}),E=React.createClass({displayName:"UserProfileBio",propTypes:{isEditable:React.PropTypes.bool.isRequired,profile:React.PropTypes.object.isRequired,user:React.PropTypes.object.isRequired},getInitialState:function(){return{modalOpen:!1}},openModal:function(){this.setState({modalOpen:!0}),(0,p.trackEvent)("Profile: Edit",{section:"Short Bio"})},closeModal:function(){this.setState({modalOpen:!1})},render:function(){var e=this,t=this.props,r=t.isEditable,a=t.user,o=t.profile,i=t.profile.biography,s=this.state.modalOpen,n=!i,l=React.createElement("p",{className:"large thin"},i),c=function(){return r?n?React.createElement(u.AddSection,{addItem:e.openModal,block:!0},"Add a Short Bio"):React.createElement(u.EditSection,{editItem:e.openModal},l):l}();return React.createElement("span",{className:"userProfile-bio"},c,React.createElement(b,{user:a,profile:o,open:s,onClose:this.closeModal}))}});t["default"]=E},"./app/scripts/containers/userProfile/userProfileSkills.jsx":function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0});var i=r("./app/scripts/store/actions.js"),s=o(i),n=r("./app/scripts/store/store.js"),l=a(n),c=r("./app/scripts/utils/formUtils.js"),p=r("./app/scripts/utils/analytics.js"),d=r("./app/scripts/components/editSection/editSection.jsx"),u=r("./app/scripts/components/skills/skillSelector.jsx"),f=a(u),m=r("./app/scripts/components/button/button.jsx"),h=a(m),v=r("./app/scripts/components/modal/modal.jsx"),R=r("./app/scripts/components/errors/apiError.jsx"),y=a(R),b=React.createClass({displayName:"UserProfileSkillsModal",propTypes:{onClose:React.PropTypes.func.isRequired,open:React.PropTypes.bool.isRequired,profile:React.PropTypes.object.isRequired},getInitialState:function(){return{formFields:{},isUpdating:!1,apiError:!1,showConfirmation:!1}},formFields:function(e){var t=this;return{skills:{value:Array.from(e.skills)||[],error:!1,validator:function(e){var r=t.state.formFields,a=e.length>0;return a||(r.skills.error="Please select at least 1 skill.",t.setState({formFields:r})),a},onChange:function(e){var r=t.state.formFields,a=r.skills.value.indexOf(e);a===-1?r.skills.value.push(e):r.skills.value.splice(a,1),r.skills.error=!1,t.setState({formFields:r})}}}},componentWillMount:function(){this.setFormFields()},componentWillReceiveProps:function(e){var t=e.profile;this.setFormFields(t)},setFormFields:function(e){var t=this.props.profile,r=e||t;this.setState({formFields:this.formFields(r)})},saveProfile:function(){var e=this,t=this.props,r=t.onClose,a=t.profile.id,o=this.state.formFields;c.FormUtils.validateForm(o,function(t){if(t){var i={skills:o.skills.value};e.setState({isUpdating:!0,apiError:!1},function(){l["default"].dispatch(s.saveProfile(a,i,function(){(0,p.trackEvent)("Profile: Save ",{section:"Skills"}),r(),e.setState({isUpdating:!1})},function(t,r){console.error(t),e.setState({apiError:r.text,isUpdating:!1})}))})}})},render:function(){var e=this.props,t=e.onClose,r=e.open,a=e.profile.all_skills,o=this.state,i=o.formFields,s=o.isUpdating,n=o.apiError,l=n&&React.createElement(y["default"],{error:n}),c=React.createElement("span",{className:"userProfile-editModal-bottom"},React.createElement(h["default"],{buttonType:"secondary",disabled:s,onClick:t},"Cancel"),React.createElement(h["default"],{isLoading:s,disabled:s,onClick:this.saveProfile},"Save"));return React.createElement(v.Modal,{className:"userProfile-editModal",open:r,header:"Skills",footer:c,onClose:t},React.createElement(f["default"],{allSkills:a,selectedSkills:i.skills.value,toggleSkill:i.skills.onChange,error:i.skills.error,inputDisabled:s,label:"Select skills to show on your profile."}),l)}}),E=React.createClass({displayName:"UserProfileSkills",propTypes:{isEditable:React.PropTypes.bool.isRequired,profile:React.PropTypes.object.isRequired},getInitialState:function(){return{modalOpen:!1}},openModal:function(){this.setState({modalOpen:!0}),(0,p.trackEvent)("Profile: Edit",{section:"Skills"})},closeModal:function(){this.setState({modalOpen:!1})},render:function(){var e=this,t=this.props,r=t.isEditable,a=t.profile,o=t.profile.my_skills,i=this.state.modalOpen,s=o&&o.length>0,n=!s,l=r&&React.createElement("p",null,"Showcase your top skills on your profile."),c=!r&&n&&React.createElement("p",null,"This user has not included any skills in their profile."),p=s&&o.map(function(e,t){return React.createElement("div",{className:"skillTag",key:t},e.name)}),u=function(){return r?n?React.createElement(d.AddSection,{addItem:e.openModal,block:!0},"Add Skills"):React.createElement(d.EditSection,{editItem:e.openModal},p):p}();return React.createElement("div",{className:"userProfile-section"},React.createElement("div",{className:"userProfile-skills"},React.createElement("h2",null,"Skills"),l,c,u,React.createElement(b,{profile:a,open:i,onClose:this.closeModal})))}});t["default"]=E},"./app/scripts/containers/userProfile/userProfileTests.jsx":function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r("./node_modules/react-router/es6/index.js"),i=r("./app/scripts/utils/analytics.js"),s=r("./app/scripts/components/button/button.jsx"),n=a(s),l=r("./app/scripts/components/tile/tile.jsx"),c=r("./app/scripts/components/badge/badge.jsx"),p=function(e){var t=e.length,r=e[t-1];return r},d=React.createClass({displayName:"TestsTable",propTypes:{tests:React.PropTypes.array.isRequired},getTestStatus:function(e){switch(e){case"PASS":return"Passed";case"FAIL":return"Failed";case"INPROGRESS":default:return"In Progress"}},render:function(){var e=this.props.tests,t=e.map(function(e,t){var r=e.skillName,a=e.tests,o=a&&a.map(function(e,t){var r=e.testName,a=e.results,o=e.stats.average_score;if(!a)return!1;var i=p(a),s=i.score,n=i.percentile;return React.createElement("tr",{key:t},React.createElement("td",{className:"userProfile-tests-test-name"},r),React.createElement("td",null,React.createElement(c.RankBadge,{score:s,percentile:n,average:o})))});return o.length&&React.createElement("tbody",{key:t},React.createElement("tr",{className:"table-subheader"},React.createElement("td",{colSpan:"3"},r)),o)});return React.createElement("table",null,React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"Name"),React.createElement("th",null,"Result"))),t)}}),u=React.createClass({displayName:"UserProfileTests",propTypes:{isEditable:React.PropTypes.bool.isRequired,profile:React.PropTypes.object.isRequired},takeTests:function(){(0,i.trackEvent)("Profile: Go To Skills Tests"),o.browserHistory.push({pathname:"/dashboard/skills/"})},render:function(){var e=this,t=this.props,r=t.isEditable,a=t.profile,o=a.skills_test.testsTaken.length>0,i=o&&React.createElement(d,{tests:a.skills_test.testsTaken}),s=function(){var t=r&&o&&"There are other tests available for you to take. Passing tests will improve your profile and help project owners evaluate your skills.",a=r&&!o&&"No tests have been taken yet. Taking and passing tests will help bolster your profile and show project owners your understanding of your listed skills.",i=r&&React.createElement(n["default"],{center:!0,onClick:e.takeTests},"Take Tests");return React.createElement("div",{className:"userProfile-tests-edit"},React.createElement("p",null,t,a),i)}();return!(!r&&!o)&&React.createElement("div",{className:"userProfile-section"},React.createElement("h2",null,"Skill Verification Tests"),React.createElement(l.Tile,{noPadding:!0},i),s)}});t["default"]=u},"./app/scripts/containers/userProfile/userProfileWorkExamples.jsx":function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},s=r("./node_modules/classnames/index.js"),n=o(s),l=r("./app/scripts/utils/formUtils.js"),c=r("./app/scripts/utils/piiUtils.js"),p=r("./app/scripts/store/api.js"),d=r("./app/scripts/store/actions.js"),u=a(d),f=r("./app/scripts/store/store.js"),m=o(f),h=r("./app/scripts/utils/analytics.js"),v=r("./app/scripts/components/editSection/editSection.jsx"),R=r("./app/scripts/components/forms/formFields.js"),y=r("./app/scripts/components/button/button.jsx"),b=o(y),E=r("./app/scripts/components/modal/modal.jsx"),P=r("./app/scripts/components/errors/errors.js"),g=r("./app/scripts/components/errors/apiError.jsx"),S=o(g),k=React.createClass({displayName:"UserProfileExamplesModal",propTypes:{onClose:React.PropTypes.func.isRequired,open:React.PropTypes.bool.isRequired,example:React.PropTypes.object.isRequired,profile:React.PropTypes.object.isRequired,user:React.PropTypes.object.isRequired},getInitialState:function(){return{formFields:{},isUpdating:!1,apiError:!1,uploadedPhoto:null,uploadedFile:null}},formFields:function(e){var t=this,r=this.props.user;return{image:{value:e.url||null,error:!1,validator:function(r){var a=t.state.formFields,o=r||e.url,i=o&&o.length;return i||(a.image.error="Please upload an image.",t.setState({formFields:a})),i},onChange:function(e){var r=t.state.formFields,a=new FileReader,o=e.target.files[0];e.preventDefault(),o&&(/(\.jpg|\.jpeg|\.bmp|\.gif|\.png)$/i.exec(o.name)?(a.onloadend=function(){r.image.value=a.result,r.image.error=!1,t.setState({uploadedPhoto:a.result,uploadedFile:o,formFields:r})},a.readAsDataURL(o)):(r.image.error="Invalid file type. Must be .jpg, .bmp, .gif or .png.",t.setState({uploadedPhoto:null,uploadedFile:null,formFields:r}))),e.preventDefault()}},caption:{name:"caption",label:"Project Name",value:e.tag||"",error:!1,validator:function(e){var a=t.state.formFields,o=(0,c.doesStringContainPII)(e,{user:r}),i=l.FormUtils.checks.isRequired(e)&&!o;return i||(o?a.caption.error=c.piiErrors.formField:a.caption.error="Please enter a name for this example.",t.setState({formFields:a})),i},onChange:function(e){var r=t.state.formFields;r.caption.value=e,r.caption.error=!1,t.setState({formFields:r})}},description:{name:"description",label:"Describe the project and your role",value:e.description||"",error:!1,rows:9,validator:function(e){var a=t.state.formFields,o=(0,c.doesStringContainPII)(e,{user:r}),i=l.FormUtils.checks.isRequired(e)&&!o;return i||(o?a.description.error=c.piiErrors.formField:a.description.error="Please enter a description for this example.",t.setState({formFields:a})),i},onChange:function(e){var r=t.state.formFields;r.description.value=e,r.description.error=!1,t.setState({formFields:r})}}}},componentWillMount:function(){var e=this.props.example;this.setFormFields(e)},componentWillReceiveProps:function(e){var t=e.example;this.setFormFields(t)},setFormFields:function(e){var t=this.props.example,r=e||t;this.setState({formFields:this.formFields(r)})},saveExample:function(){var e=this,t=this.props,r=t.example,a=t.onClose,o=t.profile.id,i=this.state,s=i.formFields,n=i.uploadedFile,c=r.url,d={tag:s.caption.value,description:s.description.value},f=!!n||!!c;n&&(d.file=n),r.id&&(d.id=r.id),l.FormUtils.validateForm(s,function(t){if(t&&f){var i=Object.assign({},d,{profile:o}),s=[(0,l.objectToFormData)(i),function(){m["default"].dispatch(u.fetchProfile(o)),(0,h.trackEvent)("Profile: Save",{section:"Work Example"}),a(),e.setState({isUpdating:!1,uploadedPhoto:null,uploadedFile:null})},function(t,r){console.error(t),e.setState({apiError:r.text,isUpdating:!1})}];e.setState({isUpdating:!0,apiError:!1},function(){r.id?p.patch.apply(void 0,[p.api.attachment(r.id)].concat(s)):p.post.apply(void 0,[p.api.attachment()].concat(s))})}})},closeModal:function(){var e=this.props.onClose;e()},render:function(){var e=this.state,t=e.formFields,r=e.isUpdating,a=e.uploadedPhoto,o=e.apiError,i=this.props,s=i.open,l=i.example.url,c=o&&React.createElement(S["default"],{error:o}),p=React.createElement("span",{className:"userProfile-editModal-bottom"},React.createElement(b["default"],{buttonType:"secondary",disabled:r,onClick:this.closeModal},"Cancel"),React.createElement(b["default"],{isLoading:r,disabled:r,onClick:this.saveExample},"Save")),d=a||l,u=t.image.error&&React.createElement(P.InputError,null,t.image.error),f={backgroundImage:"url("+d+")"},m=!!d,h=(0,n["default"])("userProfile-workExample-edit-image",{"userProfile-workExample-edit-image--noImage":!m}),v=React.createElement("div",{className:h,style:f}),y=m?"Replace Image":"Upload Image";return React.createElement(E.Modal,{className:"userProfile-editModal userProfile-editModal--workExample",open:s,header:"Work Example",footer:p,onClose:this.closeModal},React.createElement("span",{className:"userProfile-workExample-edit"},React.createElement("div",{className:"userProfile-workExample-edit-preview"},v,u,React.createElement(b["default"],{className:"userProfile-workExample-edit-button",disabled:r,onFileSelection:t.image.onChange,fileInput:!0,center:!0},y),React.createElement("p",{className:"small"},"Acceptable file types are:",React.createElement("br",null),".jpg, .bmp, .gif or .png. Limit 15MB.")),React.createElement("div",{className:"userProfile-workExample-edit-caption"},React.createElement(R.Input,{config:t.caption}),React.createElement(R.Textarea,{config:t.description}),c)))}}),F=React.createClass({displayName:"UserProfileExample",propTypes:{isEditable:React.PropTypes.bool.isRequired,example:React.PropTypes.object.isRequired,profile:React.PropTypes.object.isRequired,user:React.PropTypes.object.isRequired,isOnly:React.PropTypes.bool.isRequired,openPreviewModal:React.PropTypes.func.isRequired
},getInitialState:function(){return{modalOpen:!1,deleteModalOpen:!1,isUpdating:!1,apiError:!1}},openModal:function(){var e=this.props.example;this.setState({modalOpen:!0}),e.id?(0,h.trackEvent)("Profile: Edit",{section:"Work Example"}):(0,h.trackEvent)("Profile: Add",{section:"Work Example"})},closeModal:function(){this.setState({modalOpen:!1})},openDeleteModal:function(){this.setState({deleteModalOpen:!0})},closeDeleteModal:function(){this.setState({deleteModalOpen:!1})},deleteExample:function(){var e=this,t=this.props,r=t.example,a=t.profile.id;r&&this.setState({isUpdating:!0,apiError:!1},function(){(0,p.remove)(p.api.attachment(r.id),(0,l.objectToFormData)({profile:a}),function(){(0,h.trackEvent)("Profile: Delete",{section:"Work Example"}),e.closeDeleteModal(),m["default"].dispatch(u.fetchProfile(a))},function(t,r){console.error(t),e.setState({apiError:r.text,isUpdating:!1})})})},render:function(){var e=this,t=this.props,r=t.isEditable,a=t.example,o=t.user,i=t.profile,s=t.isOnly,l=t.openPreviewModal,c=a||{},p=c.tag,d=c.url,u=this.state,f=u.modalOpen,m=u.isUpdating,h=u.deleteModalOpen,R=0===Object.keys(a).length,y=(0,n["default"])("userProfile-workExample",{"userProfile-workExample--only":s}),P={backgroundImage:"url("+d+")"},g=React.createElement("div",{className:"userProfile-workExample-inner"},React.createElement("div",{className:"userProfile-workExample-caption"},p),React.createElement("div",{className:"userProfile-workExample-image",style:P})),S=function(){return r?R?React.createElement(v.AddSection,{addItem:e.openModal,block:!0},"Add an Example"):React.createElement(v.EditSection,{editItem:e.openModal,removeItem:e.openDeleteModal},g):React.createElement("span",{onClick:l},g)}(),F=r&&React.createElement(k,{example:a,user:o,profile:i,open:f,onClose:this.closeModal}),j=React.createElement("span",{className:"userProfile-editModal-bottom"},React.createElement(b["default"],{buttonType:"secondary",disabled:m,onClick:this.closeDeleteModal},"Cancel"),React.createElement(b["default"],{isLoading:m,disabled:m,onClick:this.deleteExample},"Delete")),M=r&&React.createElement(E.Modal,{open:h,header:"Delete Item",footer:j,onClose:this.closeDeleteModal},React.createElement("p",null,"Are you sure you want to delete this?"));return React.createElement("span",{className:y},S,F,M)}}),j=React.createClass({displayName:"UserProfileExamples",propTypes:{isEditable:React.PropTypes.bool.isRequired,profile:React.PropTypes.object.isRequired,user:React.PropTypes.object.isRequired},getInitialState:function(){return{modalOpen:!1,previewModalOpen:!1,previewModalIndex:0}},closePreviewModal:function(){this.setState({previewModalOpen:!1})},getWorkExamples:function(){var e=this,t=this.props,r=t.isEditable,a=t.user,o=t.profile,s=t.profile.work_examples,n={isEditable:r,user:a,profile:o},l=s.map(function(t,r){var a=function(){e.setState({previewModalOpen:!0,previewModalIndex:r})};return React.createElement(F,i({example:t,openPreviewModal:a,key:r,isOnly:!1},n))});if(s.length<6&&r){var c=0===s.length;l.push(React.createElement(F,i({example:{},openPreviewModal:function(){},key:6,isOnly:c},n)))}return l},render:function(){var e=this.props,t=e.isEditable,r=e.profile.work_examples,a=this.state,o=a.previewModalOpen,i=a.previewModalIndex,s=r&&r.length>0;if(!s&&!t)return!1;var n=t&&React.createElement("p",null,"Add up to 6 examples of the work that best represent your skills and expertise."),l=this.getWorkExamples(),c=!t&&s&&React.createElement(E.ImageModal,{images:r,currentIndex:i,open:o,onClose:this.closePreviewModal,header:"Work Example",showCounts:!0});return React.createElement("div",{className:"userProfile-section"},React.createElement("div",{className:"userProfile-workExamples"},React.createElement("h2",null,"Work Examples"),n,React.createElement("div",{className:"userProfile-workExamples-inner"},l),c))}});t["default"]=j},"./app/scripts/containers/userProfile/userProfileWorkHistory.jsx":function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n=r("./app/scripts/utils/dateUtils.js"),l=r("./app/scripts/utils/locationUtils.js"),c=r("./app/scripts/utils/formUtils.js"),p=r("./app/scripts/utils/piiUtils.js"),d=r("./app/scripts/store/api.js"),u=r("./app/scripts/store/actions.js"),f=o(u),m=r("./app/scripts/store/store.js"),h=a(m),v=r("./app/scripts/utils/analytics.js"),R=r("./app/scripts/components/editSection/editSection.jsx"),y=r("./app/scripts/components/forms/formFields.js"),b=r("./app/scripts/components/button/button.jsx"),E=a(b),P=r("./app/scripts/components/modal/modal.jsx"),g=r("./app/scripts/components/errors/apiError.jsx"),S=a(g),k=React.createClass({displayName:"UserProfileWorkHistoryModal",propTypes:{onClose:React.PropTypes.func.isRequired,open:React.PropTypes.bool.isRequired,historyItem:React.PropTypes.object.isRequired,profile:React.PropTypes.object.isRequired,user:React.PropTypes.object.isRequired},getInitialState:function(){return{formFields:{},isUpdating:!1,apiError:!1}},formFields:function(e){var t=this,r=this.props.user;return{company:{name:"company",label:"Company Name (50 Character max)",value:e&&e.company&&e.company.name||"",error:!1,maxLength:50,validator:function(e){var r=t.state.formFields,a=c.FormUtils.checks.isRequired(e);return a||(r.company.error="Please enter a company.",t.setState({formFields:r})),a},onChange:function(e){var r=t.state.formFields;r.company.value=e,r.company.error=!1,t.setState({formFields:r})}},city:{name:"city",label:"City",value:e&&e.city||"",error:!1,validator:function(e){var r=t.state.formFields,a=c.FormUtils.checks.isRequired(e);return a||(r.city.error="Please enter your city.",t.setState({formFields:r})),a},onChange:function(e){var r=t.state.formFields;r.city.value=e,r.city.error=!1,t.setState({formFields:r})}},state:{name:"state",label:"State (if in USA)",value:function(){var r=t.state.formFields,a=r.country&&r.country.value||e&&e.country||"",o="United States of America"===a,i=""===a;return o||i?e&&e.state||"":""}(),disabled:function(){var r=t.state.formFields,a=r.country&&r.country.value||e&&e.country||"",o="United States of America"===a,i=""===a;return!o&&!i}(),error:!1,options:[{id:"",label:"Choose one..."}].concat(i(c.selectStatesOptions)),validator:function(e){var r=t.state.formFields,a="United States of America"===r.country.value,o=!a||c.FormUtils.checks.isRequired(e);return o||(r.state.error="Please select your state.",t.setState({formFields:r})),o},onChange:function(e){var r=t.state.formFields;r.state.value=e,r.state.error=!1,t.setState({formFields:r})}},country:{name:"country",label:"Country",value:e&&e.country||"",error:!1,options:[{id:"",label:"Choose one..."}].concat(i(c.selectCountryOptions)),validator:function(e){var r=t.state.formFields,a=c.FormUtils.checks.isRequired(e);return a||(r.country.error="Please select your country.",t.setState({formFields:r})),a},onChange:function(e){var r=t.state.formFields,a="United States of America"===e;r.country.value=e,r.country.error=!1,a?r.state.disabled=!1:(r.state.value="",r.state.disabled=!0,r.state.error=!1),t.setState({formFields:r})}},title:{name:"title",label:"Title",value:e&&e.title||"",error:!1,validator:function(e){var r=t.state.formFields,a=c.FormUtils.checks.isRequired(e);return a||(r.title.error="Please enter a job title.",t.setState({formFields:r})),a},onChange:function(e){var r=t.state.formFields;r.title.value=e,r.title.error=!1,t.setState({formFields:r})}},description:{name:"description",label:"Description of Role",value:e&&e.description||"",error:!1,rows:8,validator:function(e){var a=t.state.formFields,o=a.company.value.length>0&&a.company.value,i=(0,p.doesStringContainPII)(e,{user:r,company:o}),s=c.FormUtils.checks.isRequired(e)&&!i;return s||(i?o&&e.indexOf(o)>-1?a.description.error="For your privacy, please remove the company name from the description.":a.description.error=p.piiErrors.formField:a.description.error="Please enter a job description.",t.setState({formFields:a})),s},onChange:function(e){var r=t.state.formFields;r.description.value=e,r.description.error=!1,t.setState({formFields:r})}},start_date:{name:"start_date",label:"Start Date",value:e&&e.start_date||"",error:!1,showYearDropdown:!0,maxDate:(0,n.rightNow)(),validator:function(e){var r=t.state.formFields,a=(0,n.convertDateForDisplay)(e),o=c.FormUtils.checks.isMomentFormat(a,n.dateFormatForDisplay);return o||(r.start_date.error="Please enter a valid start date (MM/DD/YYYY).",t.setState({formFields:r})),o},onChange:function(r){var a=t.state.formFields,o=(0,n.convertDateForDisplay)(r),i=e&&e.current||!1;a.start_date.value=o,a.start_date.error=!1,i?(a.end_date.value="",a.end_date.disabled=!0,a.end_date.error=!1):(a.end_date.minDate=(0,n.addDays)(r,1),a.end_date.disabled=!1),t.setState({formFields:a})}},end_date:{name:"end_date",label:"End Date",value:function(){var t=e&&e.current||!1;return t?"":e&&e.end_date||""}(),error:!1,disabled:function(){var t=e&&e.current||!1;return!!t||e&&e.start_date&&!e.start_date.length&&!0}(),minDate:e&&e.start_date?(0,n.createDateObject)(e.start_date):"",showYearDropdown:!0,maxDate:(0,n.rightNow)(),validator:function(e){var r=t.state.formFields,a=(0,n.convertDateForDisplay)(e),o=r.current.options[0].checked,i=o||c.FormUtils.checks.isMomentFormat(a,n.dateFormatForDisplay);return i||(r.end_date.error="Please enter a valid end date (MM/DD/YYYY).",t.setState({formFields:r})),i},onChange:function(e){var r=t.state.formFields,a=(0,n.convertDateForDisplay)(e);r.end_date.value=a,r.end_date.error=!1,t.setState({formFields:r})}},current:{name:"current",error:!1,options:function(){return[{label:"I currently work here",id:"current",checked:e&&e.current||!1}]}(),onChange:function(e){var r=t.state.formFields,a=e[0].checked;r.current.options=e,a?(r.end_date.value="",r.end_date.disabled=!0,r.end_date.error=!1):r.end_date.disabled=!1,t.setState({formFields:r})}}}},componentWillMount:function(){var e=this.props.historyItem;this.setFormFields(e)},componentWillReceiveProps:function(e){var t=e.historyItem;this.setFormFields(t)},setFormFields:function(e){var t=this.props.historyItem,r=e||t;this.setState({formFields:this.formFields(r)})},saveWorkHistory:function(){var e=this,t=this.props,r=t.profile,a=t.historyItem,o=t.onClose,i=t.profile.id,s=this.state.formFields;c.FormUtils.validateForm(s,function(t){if(t){var l=s.current.options[0].checked,p=(0,n.convertDateForSave)(s.start_date.value),u=l?"":(0,n.convertDateForSave)(s.end_date.value),m={profile:r.id,company_name:s.company.value,city:s.city.value,state:s.state.value,country:s.country.value,title:s.title.value,description:s.description.value,start_date:p,end_date:u,current:l};a&&a.id&&(m.id=a.id);var R=[(0,c.objectToFormData)(m),function(){h["default"].dispatch(f.fetchProfile(i)),(0,v.trackEvent)("Profile: Save",{section:"Work History"}),o(),e.setState({isUpdating:!1})},function(t,r){console.error(t),e.setState({apiError:r.text,isUpdating:!1})}];e.setState({isUpdating:!0,apiError:!1},function(){m.id?d.patch.apply(void 0,[d.api.workHistory(m.id)].concat(R)):d.post.apply(void 0,[d.api.workHistory()].concat(R))})}})},closeModal:function(){var e=this.props.onClose;e()},render:function(){var e=this.state,t=e.formFields,r=e.isUpdating,a=e.apiError,o=this.props.open,i=a&&React.createElement(S["default"],{error:a}),s=React.createElement("span",{className:"userProfile-editModal-bottom"},React.createElement(E["default"],{buttonType:"secondary",disabled:r,onClick:this.closeModal},"Cancel"),React.createElement(E["default"],{isLoading:r,disabled:r,onClick:this.saveWorkHistory},"Save"));return React.createElement(P.Modal,{className:"userProfile-editModal",open:o,header:"Work History",footer:s,onClose:this.closeModal},React.createElement(y.Input,{config:t.company,inputDisabled:r}),React.createElement(y.Input,{config:t.city,inputDisabled:r}),React.createElement(y.Select,{config:t.state,inputDisabled:r}),React.createElement(y.Select,{config:t.country,inputDisabled:r}),React.createElement(y.Input,{config:t.title,inputDisabled:r}),React.createElement(y.Textarea,{config:t.description,inputDisabled:r}),React.createElement("div",{className:"userProfile-workHistory-edit-dates"},React.createElement(y.DateInput,{config:t.start_date,inputDisabled:r}),React.createElement(y.DateInput,{config:t.end_date,inputDisabled:r})),React.createElement(y.CheckboxGroup,{config:t.current,inputDisabled:r}),i)}}),F=React.createClass({displayName:"UserProfileWorkHistoryItem",propTypes:{isEditable:React.PropTypes.bool.isRequired,isConnected:React.PropTypes.bool.isRequired,historyItem:React.PropTypes.object.isRequired,profile:React.PropTypes.object.isRequired,user:React.PropTypes.object.isRequired},getInitialState:function(){return{modalOpen:!1,deleteModalOpen:!1,isUpdating:!1,apiError:!1}},openModal:function(){var e=this.props.historyItem;this.setState({modalOpen:!0}),e.id?(0,v.trackEvent)("Profile: Edit",{section:"Work History"}):(0,v.trackEvent)("Profile: Add",{section:"Work History"})},closeModal:function(){this.setState({modalOpen:!1})},openDeleteModal:function(){this.setState({deleteModalOpen:!0})},closeDeleteModal:function(){this.setState({deleteModalOpen:!1})},deleteHistory:function(){var e=this,t=this.props,r=t.historyItem,a=t.profile.id;this.setState({isUpdating:!0,apiError:!1},function(){(0,d.remove)(d.api.workHistory(r.id),(0,c.objectToFormData)({profile:a}),function(){(0,v.trackEvent)("Profile: Delete",{section:"Work History"}),e.closeDeleteModal(),h["default"].dispatch(f.fetchProfile(a))},function(t,r){console.error(t),e.setState({apiError:r.text,isUpdating:!1})})})},render:function(){var e=this,t=this.props,r=t.isEditable,a=t.isConnected,o=t.historyItem,i=t.user,s=t.profile,c=this.state,p=c.modalOpen,d=c.isUpdating,u=c.deleteModalOpen,f=0===Object.keys(o).length,m=o&&(0,l.getLocationName)(o.city,o.state,o.country),h=!f&&function(){var e=o.current,t=o.start_date,r=o.end_date;if(t&&e||r){var a=(0,n.convertDateForDisplayShort)(t),i=o.end_date&&(0,n.convertDateForDisplayShort)(r),s=e?"Present":i;return a+" - "+s}}(),v=!f&&h&&React.createElement("div",{className:"userProfile-workHistory-job-dates"},h),y=!f&&(r||a)&&o?o.company.name:"(Company hidden)",b=!f&&o.title&&React.createElement("div",{className:"userProfile-workHistory-job-title"},o.title),g=!f&&React.createElement("div",null,React.createElement("div",{className:"userProfile-workHistory-job-header"},b,React.createElement("div",{className:"userProfile-workHistory-job-company"},y)),React.createElement("div",{className:"userProfile-workHistory-job-meta"},v,React.createElement("div",{className:"userProfile-workHistory-job-location"},m)),React.createElement("div",{className:"userProfile-workHistory-job-description"},o.description)),S=function(){return r?f?React.createElement(R.AddSection,{addItem:e.openModal,block:!0},"Add Work History"):React.createElement(R.EditSection,{editItem:e.openModal,removeItem:e.openDeleteModal},g):g}(),F=r&&React.createElement(k,{historyItem:o,user:i,profile:s,open:p,onClose:this.closeModal}),j=React.createElement("span",{className:"userProfile-editModal-bottom"},React.createElement(E["default"],{buttonType:"secondary",disabled:d,onClick:this.closeDeleteModal},"Cancel"),React.createElement(E["default"],{isLoading:d,disabled:d,onClick:this.deleteHistory},"Delete")),M=r&&React.createElement(P.Modal,{open:u,header:"Delete Item",footer:j,onClose:this.closeDeleteModal},React.createElement("p",null,"Are you sure you want to delete this?"));return React.createElement("div",{className:"userProfile-workHistory"},S,F,M)}}),j=React.createClass({displayName:"UserProfileWorkHistory",propTypes:{isEditable:React.PropTypes.bool.isRequired,isConnected:React.PropTypes.bool.isRequired,profile:React.PropTypes.object.isRequired,user:React.PropTypes.object.isRequired},getInitialState:function(){return{modalOpen:!1,previewModalOpen:!1,previewModalIndex:0}},closePreviewModal:function(){this.setState({previewModalOpen:!1})},getWorkHistory:function(){var e=this.props,t=e.isEditable,r=e.isConnected,a=e.user,o=e.profile,i=e.profile.work_history,n={isEditable:t,isConnected:r,user:a,profile:o},l=i.map(function(e,r){return!!(e.title&&e.description||t)&&React.createElement(F,s({historyItem:e,key:r},n))});return t&&l.push(React.createElement(F,s({historyItem:{},key:1e4},n))),l},render:function(){var e=this.props.isEditable,t=e&&React.createElement("p",null,"Show your experience by adding employment history to your profile."),r=this.getWorkHistory(),a=r.length>0;return!(!e&&!a)&&React.createElement("div",{className:"userProfile-section"},React.createElement("div",{className:"userProfile-workHistory"},React.createElement("h2",null,"Employment History"),t,r))}});t["default"]=j}});
webpackJsonp([5],{"./app/scripts/containers/notifications/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/react-redux/es/index.js"),i=n("./node_modules/react-helmet/lib/Helmet.js"),o=(n.n(i),n("./node_modules/moment/moment.js")),s=(n.n(o),n("./node_modules/react-router-dom/es/index.js"),n("./node_modules/query-string/index.js")),c=n.n(s),r=n("./node_modules/react-paginate/dist/index.js"),l=n.n(r),p=n("./app/scripts/components/loader/loader.jsx"),u=n("./app/scripts/components/tile/tile.jsx"),f=n("./app/scripts/containers/notifications/components/notifications/index.js"),m=n("./app/scripts/containers/notifications/actions/api.js"),d=n("./app/scripts/config.js"),h=n("./app/scripts/containers/notifications/styles.scss"),g=(n.n(h),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()),_=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,React.Component),g(t,[{key:"componentWillMount",value:function(){var e=c.a.parse(this.props.location.search).page,t=void 0===e?1:e;this.fetchNotifications({page:t})}},{key:"componentWillReceiveProps",value:function(e){this.props.location.search!==e.location.search&&this.fetchNotifications(c.a.parse(e.location.search))}},{key:"fetchNotifications",value:function(e){this.props.dispatch(Object(m.b)(e))}},{key:"handlePagination",value:function(e){var t=e.selected+1;this.props.history.push("/notifications?page="+t)}},{key:"navigateToTarget",value:function(e){"proposalReceived"===e.type?this.props.history.push("/dashboard/proposal/"+e.action_object.id):this.props.history.push("/dashboard/messages/"+e.action_object.id)}},{key:"render",value:function(){var e=this.props.notifications;return React.createElement("div",{className:"notifications-container"},React.createElement(i.Helmet,null,React.createElement("title",null,"Notifications â€” Loom"),React.createElement("meta",{charSet:"utf-8"}),React.createElement("link",{rel:"canonical",href:""+d.d.base+location.pathname})),React.createElement("h2",null,"Your notifications"),React.createElement(u.a,{noPadding:!0,header:"Notifications"},e.isFetching&&React.createElement(p.a,null),!e.isFetching&&Boolean(e.messages.length)&&React.createElement(f.a,{messages:e.messages,onClick:this.navigateToTarget.bind(this)}),!e.isFetching&&!Boolean(e.messages.length)&&React.createElement(u.b,{className:"message-inbox-empty"},React.createElement("p",null,React.createElement("i",{class:"material-icons"},"notifications")," No new notifications."))),React.createElement("div",{className:"pagination"},!e.isFetching&&e.meta.pageCount>1&&React.createElement(l.a,{forcePage:e.meta.currentPage>0?e.meta.currentPage-1:0,pageCount:e.meta.pageCount,pageRangeDisplayed:3,marginPagesDisplayed:1,previousLabel:React.createElement("i",{className:"fa fa-caret-left","aria-hidden":"true"}),nextLabel:React.createElement("i",{className:"fa fa-caret-right","aria-hidden":"true"}),onPageChange:this.handlePagination.bind(this)})))}}]),t}(),b=Object(a.b)(function(e){return{notifications:e.notifications}})(_);t.default=b,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(_,"Notifications","/Users/will/development/loom/market-ui/app/scripts/containers/notifications/index.js"),__REACT_HOT_LOADER__.register(b,"default","/Users/will/development/loom/market-ui/app/scripts/containers/notifications/index.js"))},"./app/scripts/containers/notifications/styles.scss":function(e,t){}});
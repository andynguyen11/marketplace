webpackJsonp([1],{"./app/images/icon-connect--white.svg":function(e,t,a){e.exports=a.p+"./images/62761087b2ee414ee00e128efd48e6e2.svg"},"./app/images/icon-connect.svg":function(e,t,a){e.exports=a.p+"./images/bbe249b5dee9149845dc849986ccd433.svg"},"./app/images/icon-connected--white.svg":function(e,t,a){e.exports=a.p+"./images/1c75b08d3cea96582941461e5e4bb185.svg"},"./app/images/icon-connected.svg":function(e,t,a){e.exports=a.p+"./images/44cc1ccd48fe1df6feaef727eab5db8e.svg"},"./app/images/powered_by_stripe.svg":function(e,t,a){e.exports=a.p+"./images/552f98147694c3f2ea1f5043c3cbce1a.svg"},"./app/scripts/appliances/connectionModal/connectionModal.jsx":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};a("./app/scripts/appliances/connectionModal/connectionModal.scss");var r=a("./app/scripts/utils/analytics.js"),i=a("./app/scripts/store/actions.js"),c=s(i),l=a("./app/scripts/store/store.js"),d=n(l),p=a("./node_modules/react-redux/lib/index.js"),m=a("./app/scripts/store/events.js"),u=a("./app/scripts/store/api.js"),h=a("./app/scripts/components/modal/modal.jsx"),f=a("./app/scripts/appliances/connectionModal/connectionModalContact.jsx"),g=n(f),b=a("./app/scripts/appliances/connectionModal/connectionModalPayment.jsx"),v=n(b),y=a("./app/scripts/appliances/connectionModal/connectionModalConfirm.jsx"),R=n(y),E={threadId:0,isOwner:!1,modalOpen:!1,formFields:{},isSending:!1,sendError:!1,currentStep:"contact",thisUser:{},thatUser:{},stripeToken:!1,promoCode:!1},N=React.createClass({displayName:"ConnectionModal",propTypes:{messages:React.PropTypes.object.isRequired},getInitialState:function(){return E},componentWillMount:function(){var e=this;(0,m.eventSubscribe)(m.events.OPEN_CONNECTION_MODAL,function(t,a){var n=a.threadId,s=a.isOwner,o=a.thisUser,r=a.thatUser;o&&r||console.warn("requires thisUser and thatUser"),e.setState({threadId:n,isOwner:s,thisUser:o,thatUser:r,modalOpen:!0})})},componentWillUnmount:function(){(0,m.eventUnsubscribe)(m.events.OPEN_CONNECTION_MODAL)},goToStep2:function(){this.setState({currentStep:2})},closeModal:function(){var e=this.props.messages;this.setState(E),(0,r.trackEvent)("Close Connection Modal",{messages:e})},cancelConnectionProcess:function(){var e=this.props.messages;(0,r.trackEvent)("Cancel Connection Process",{messages:e}),this.setState(E)},confirmContactDetails:function(){var e=this.state.isOwner,t=this.props.messages;e?(this.setState({currentStep:"payment"}),(0,r.trackEvent)("View Connection Payment Screen",{messages:t})):this.connect()},savePaymentInfo:function(e,t){var a=this;this.setState({stripeToken:e,promoCode:t},function(){a.connect()})},connect:function(){var e=this,t=this.state,a=t.threadId,n=t.stripeToken,s=t.promoCode,o=this.props.messages,i=o.requested?"Accepted":"Requested",l={};n&&(l.stripe_token=n),s&&(l.promoCode=s),this.setState({isSending:!0},function(){(0,u.post)(u.api.connect(a),l,function(t){d["default"].dispatch(c.messageThreadUpdate(t)),e.setState({currentStep:"confirm"},function(){(0,r.trackEvent)("Connection "+i,{messages:o}),e.setState({isSending:!1}),e.hideConnectionAlert()})},function(t,a){console.error(t,a),e.setState({sendError:a&&a.text||t,isSending:!1})})})},hideConnectionAlert:function(){var e=this.props.messages.alerts,t=e.find(function(e){return"connectionRequest"===e.type});t&&d["default"].dispatch(c.dismissAlert(t))},render:function(){var e=this,t=this.state,a=t.isOwner,n=t.thisUser,s=t.thatUser,r=t.modalOpen,i=t.currentStep,c=t.isSending,l=t.sendError,d=this.props,p=d.messages,m=d.messages,u=m.connected,f=m.requested;if(!n||!s)return!1;var b="Request Connection",y={cancelConnectionProcess:this.cancelConnectionProcess,thatUser:s,isOwner:a,sendError:l,connected:u,requested:f},E=function(){switch(i){case"payment":return b="Payment",React.createElement(v["default"],o({savePayment:e.savePaymentInfo,isSending:c},y));case"confirm":return b="Done!",React.createElement(R["default"],o({thisUser:n,confirm:e.closeModal,messages:p},y));case"contact":default:return b="Contact Details",React.createElement(g["default"],o({thisUser:n,confirmContactDetails:e.confirmContactDetails},y))}}();return React.createElement(h.Modal,{className:"connectionModal",open:r,onClose:this.closeModal,header:b,noPadding:!0},E)}}),x=function(e){var t=e.messageThread;return{messages:t.messages}};t["default"]=(0,p.connect)(x)(N)},"./app/scripts/appliances/connectionModal/connectionModal.scss":function(e,t,a){t=e.exports=a("./node_modules/css-loader/lib/css-base.js")(),t.push([e.i,".connectionModal{max-width:100%;width:700px}.connectionModal .modal-message{padding:0}.connectionModal .messages-attachModal-bottom{display:flex;padding:10px 0}.connectionModal .messages-attachModal-bottom button+button{margin-left:10px}.connectionModal-contact-form{padding:10px 20px}.connectionModal-contact-form h3,.connectionModal-contact-form p{text-align:center}.connectionModal-contact-confirm{border:1px solid #7b7786;border-radius:3px;padding:0 10px 10px;margin-top:20px;display:flex;flex-wrap:wrap;justify-content:space-between}.connectionModal-contact-confirm .contactCard-contactDetail{flex-basis:45%}.connectionModal-contact-confirm .contactDetail--email{order:0}.connectionModal-contact-confirm .contactDetail--phone{order:2}.connectionModal-emailUnverified{margin-bottom:5px}.connectionModal-emailVerify{margin-top:0}.connectionModal-payment{display:flex}@media (max-width:767px){.connectionModal-payment{flex-direction:column}}.connectionModal-payment-invoice{flex-basis:50%;flex-shrink:1;padding:20px 40px;display:flex;flex-direction:column}.connectionModal-payment-invoice-row{display:flex;justify-content:space-between}.connectionModal-payment-invoice-row span:first-child{flex-basis:65%;flex-shrink:0}.connectionModal-payment-invoice-row span:last-child{flex-grow:1;text-align:right}.connectionModal-payment-invoice-header{border-bottom:1px solid #000;padding:0 0 10px;margin-bottom:20px;font-size:11px;font-weight:700;color:#a19ea8}.connectionModal-payment-invoice-item{padding-bottom:20px;align-items:flex-end}.connectionModal-payment-invoice-item .connectionModal-payment-invoice-price{font-size:16px}.connectionModal-payment-invoice-item .connectionModal-payment-invoice-price-discount{color:red}.connectionModal-payment-invoice-footer{border-top:2px solid #000;padding:10px 0 0;font-size:16px;font-weight:700}.connectionModal-payment-invoice-promo{display:flex;align-items:center;flex-wrap:wrap;justify-content:space-between;padding-top:20px;padding-bottom:20px}.connectionModal-payment-invoice-promo label{flex-basis:100%;flex-shrink:0}.connectionModal-payment-invoice-promo .form-set{margin:0;flex-basis:55%}.connectionModal-payment-invoice-promo .button{margin-left:10px;flex-basis:40%}.connectionModal-payment-invoice-promo .form-submission-error{flex-grow:1;margin-top:10px;margin-bottom:0}.connectionModal-education{margin-top:20px;margin-bottom:0}@media (max-width:767px){.connectionModal-education{margin-top:20px}}.connectionModal-stripeLogo{width:120px;height:40px;margin-top:20px;background:url("+a("./app/images/powered_by_stripe.svg")+") no-repeat 0 100%;background-size:contain;flex-grow:1;flex-shrink:0}.connectionModal-payment-form{flex-basis:50%;background:#f5f5f5;padding:20px 40px}.connectionModal-payment-form h3{margin-top:0}.connectionModal-payment-expiration{display:flex;justify-content:space-between}.connectionModal-payment-expiration .form-set{flex-basis:48%;margin-top:0}.connectionModal-payment-cvv{margin-top:0}.connectionModal-payment-cvv input{width:30%;max-width:100px}.connectionModal-footer{display:flex;align-items:center;flex-wrap:wrap;width:100%;justify-content:flex-end;padding:10px}.connectionModal-footer .button{flex-shrink:0}.connectionModal-footer .button+.button{margin-left:10px}",""])},"./app/scripts/appliances/connectionModal/connectionModalConfirm.jsx":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),a("./app/scripts/appliances/connectionModal/connectionModal.scss");var s=a("./app/scripts/components/errors/formError.jsx"),o=n(s),r=a("./app/scripts/components/button/button.jsx"),i=n(r),c=a("./app/scripts/components/connectionAvatars/connectionAvatars.jsx"),l=n(c),d=React.createClass({displayName:"ConnectionModalConfirm",propTypes:{messages:React.PropTypes.object.isRequired,thisUser:React.PropTypes.object.isRequired,thatUser:React.PropTypes.object.isRequired,confirm:React.PropTypes.func.isRequired},render:function(){var e=this.props,t=e.thisUser,a=e.thisUser.contact_details.email_confirmed,n=e.thatUser,s=e.confirm,r=e.messages,c=function(){var e=!a&&React.createElement("h3",null,"Connection request pending! Verify your email."),s=e&&React.createElement(o["default"],null,"Check your inbox to verify your email address to complete your request."),i=!e&&r.requested&&React.createElement("h3",null,"Connection request sent to ",React.createElement("span",{className:"brand"},n.first_name)),c=!e&&r.requested&&React.createElement("p",null,"We'll notify you if and when they accept the connection."),d=!e&&r.connected&&React.createElement("h3",null,"Congrats! You're now connected with ",React.createElement("span",{className:"brand"},n.first_name," ",n.last_name)),p=d&&r.connected&&React.createElement("p",null,"We've unlocked their contact details, and you now have unlimited Loom messages with file attachments. Jump back into the conversation!");return React.createElement("div",{className:"connectionModal-contact-form"},React.createElement(l["default"],{thatUser:n,thisUser:t,connected:r.connected,color:"dark"}),e,i,d,s,c,p)}();return React.createElement("div",{className:"connectionModal-content"},c,React.createElement("div",{className:"connectionModal-footer modal-bottom"},React.createElement(i["default"],{onClick:s,shrink:!0},"Ok, got it")))}});t["default"]=d},"./app/scripts/appliances/connectionModal/connectionModalContact.jsx":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),a("./app/scripts/appliances/connectionModal/connectionModal.scss");var s=a("./node_modules/react-router/es6/index.js"),o=a("./app/scripts/config.js"),r=a("./app/scripts/components/button/button.jsx"),i=n(r),c=a("./app/scripts/components/connectionAvatars/connectionAvatars.jsx"),l=n(c),d=a("./app/scripts/components/contactCard/contactDetail.jsx"),p=n(d),m=React.createClass({displayName:"ConnectionModalContact",propTypes:{thisUser:React.PropTypes.object.isRequired,thatUser:React.PropTypes.object.isRequired,confirmContactDetails:React.PropTypes.func.isRequired,cancelConnectionProcess:React.PropTypes.func.isRequired,isOwner:React.PropTypes.bool.isRequired},goToContactDetails:function(){var e=this.props.thisUser.id,t=o.urls.profileUrl(e);s.browserHistory.push({pathname:""+t,query:{highlight:"contactDetails"}})},render:function(){var e=this.props,t=e.cancelConnectionProcess,a=e.confirmContactDetails,n=e.thisUser,s=e.thatUser,o=e.isOwner,r=n.contact_details,c=r||{},d=c.email,m=c.email_confirmed,u=c.phone,h=c.website;if(d&&!m)return React.createElement("div",{className:"connectionModal-content"},React.createElement("div",{className:"connectionModal-contact-form"},React.createElement("h3",null,"Your contact email has not been verified. A verified email address is required to request and accept connections.")),React.createElement("div",{className:"connectionModal-footer modal-bottom"},React.createElement(i["default"],{onClick:t,buttonType:"secondary",shrink:!0},"Cancel"),React.createElement(i["default"],{onClick:this.goToContactDetails,shrink:!0},"Verify Email")));if(!d||!u&&!o)return React.createElement("div",{className:"connectionModal-content"},React.createElement("div",{className:"connectionModal-contact-form"},React.createElement("h3",null,"Contact details are required to request and accept connections."),React.createElement("p",null,"Please update the contact details section of your profile.")),React.createElement("div",{className:"connectionModal-footer modal-bottom"},React.createElement(i["default"],{onClick:t,buttonType:"secondary",shrink:!0},"Cancel"),React.createElement(i["default"],{onClick:this.goToContactDetails,shrink:!0},"Go to Profile")));var f=React.createElement(p["default"],{className:"contactDetail--email",label:"Email",connected:!0},d),g=u&&React.createElement(p["default"],{className:"contactDetail--phone",label:"Phone",connected:!0},u),b=h&&h.length>0&&React.createElement(p["default"],{label:"Website",connected:!0},h);return React.createElement("div",{className:"connectionModal-content"},React.createElement("div",{className:"connectionModal-contact-form"},React.createElement("h3",null,"Review your contact details to be shared with ",React.createElement("span",{className:"brand"},s.first_name)),React.createElement(l["default"],{thatUser:s,thisUser:n,connected:!1,color:"dark"}),React.createElement("div",{className:"connectionModal-contact-confirm"},f,g,b),React.createElement("p",{className:"small"},"You can change and update your contact details in ",React.createElement("a",{onClick:this.goToContactDetails},"your profile."))),React.createElement("div",{className:"connectionModal-footer modal-bottom"},React.createElement(i["default"],{onClick:t,buttonType:"secondary",shrink:!0},"Cancel"),React.createElement(i["default"],{onClick:a,shrink:!0},"Confirm and Continue")))}});t["default"]=m},"./app/scripts/appliances/connectionModal/connectionModalPayment.jsx":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),a("./app/scripts/appliances/connectionModal/connectionModal.scss");var s=a("./app/scripts/config.js"),o=a("./app/scripts/store/api.js"),r=a("./app/scripts/utils/formUtils.js"),i=a("./app/scripts/components/errors/apiError.jsx"),c=n(i),l=a("./app/scripts/components/forms/formFields.js"),d=a("./app/scripts/components/button/button.jsx"),p=n(d),m=a("./app/scripts/components/errors/formError.jsx"),u=n(m),h=React.createClass({displayName:"ConnectionModalPayment",propTypes:{thatUser:React.PropTypes.object.isRequired,savePayment:React.PropTypes.func.isRequired,cancelConnectionProcess:React.PropTypes.func.isRequired,isOwner:React.PropTypes.bool.isRequired,sendError:React.PropTypes.any,isSending:React.PropTypes.bool,requested:React.PropTypes.bool.isRequired},getInitialState:function(){return{formFields:{},basePrice:s.settings.connectionBasePrice,currentPrice:s.settings.connectionBasePrice,stripeToken:!1,stripeError:!1,promoCode:!1,promoValue:!1,promoError:!1,promoLoading:!1,isLoading:!1}},formFields:function(){var e=this;return{name:{name:"name",label:"Name on Card",value:"",error:!1,validator:function(t){var a=e.state.formFields,n=r.FormUtils.checks.isRequired(t);return n||(a.name.error="Please enter a the name on your card.",e.setState({formFields:a})),n},onChange:function(t){var a=e.state.formFields;a.name.value=t,a.name.error=!1,e.setState({formFields:a})}},cardNumber:{name:"cardNumber",label:"Card Number",value:"",error:!1,validator:function(t){var a=e.state.formFields,n=r.FormUtils.checks.isRequired(t)&&r.FormUtils.checks.isRequiredInt(t);return n||(a.cardNumber.error="Please enter a valid card number.",e.setState({formFields:a})),n},onChange:function(t){var a=e.state.formFields;a.cardNumber.value=t,a.cardNumber.error=!1,e.setState({formFields:a})}},expirationMonth:{name:"expirationMonth",label:"Exp. Month",placeholder:"MM",value:"",error:!1,validator:function(t){var a=e.state.formFields,n=r.FormUtils.checks.isRequired(t)&&r.FormUtils.checks.isRequiredInt(t);return n||(a.expirationMonth.error="Please enter a valid expiration month.",e.setState({formFields:a})),n},onChange:function(t){var a=e.state.formFields;a.expirationMonth.value=t,a.expirationMonth.error=!1,e.setState({formFields:a})}},expirationYear:{name:"expirationYear",label:"Exp. Year",placeholder:"YY",value:"",error:!1,validator:function(t){var a=e.state.formFields,n=r.FormUtils.checks.isRequired(t)&&r.FormUtils.checks.isRequiredInt(t);return n||(a.expirationYear.error="Please enter a valid expiration year.",e.setState({formFields:a})),n},onChange:function(t){var a=e.state.formFields;a.expirationYear.value=t,a.expirationYear.error=!1,e.setState({formFields:a})}},cvv:{name:"cvv",label:"CVV",value:"",error:!1,validator:function(t){var a=e.state.formFields,n=r.FormUtils.checks.isRequired(t)&&r.FormUtils.checks.isRequiredInt(t);return n||(a.cvv.error="Please enter a valid security code.",e.setState({formFields:a})),n},onChange:function(t){var a=e.state.formFields;a.cvv.value=t,a.cvv.error=!1,e.setState({formFields:a})}},promoCode:{name:"promoCode",value:"",error:!1,onChange:function(t){var a=e.state.formFields;a.promoCode.value=t,e.setState({formFields:a,promoError:!1})}}}},componentWillMount:function(){this.setState({formFields:this.formFields()})},submitForm:function(){var e=this,t=this.state.formFields;r.FormUtils.validateForm(t,function(t){e.setState({formError:!t}),t&&e.createToken()})},submitPromoCode:function(){var e=this,t=this.state.formFields,a=t.promoCode.value;a.length&&this.setState({promoLoading:!0,promoError:!1},function(){(0,o.post)(o.api.promo,{promo:a},function(t){e.setState({promoLoading:!1}),t.is_valid?e.applyPromoCode(a,t.value):e.setState({promoError:"This promo code is invalid."})},function(t,a){console.error(t,a),e.setState({promoError:a&&a.text||t,promoLoading:!1})})})},applyPromoCode:function(e,t){var a=this.state,n=a.formFields,s=a.basePrice;n.promoCode.value="";var o=!1,r=!1,i=s;t.endsWith("%")&&(r=parseFloat(t.slice(0,t.length-1)),i=s-s*r/100),t.startsWith("$")&&(o=parseFloat(t.slice(1,t.length-1)),i=s-o),this.setState({promoCode:e,promoValue:t,currentPrice:i,formFields:n})},createToken:function(){var e=this,t=this.state.formFields,a=t.cardNumber,n=t.cvv,s=t.expirationMonth,o=t.expirationYear;this.setState({isLoading:!0},function(){window.Stripe.card.createToken({number:a.value,cvc:n.value,exp_month:s.value,exp_year:o.value},function(t,a){e.handleStripeResponse(a)})})},handleStripeResponse:function(e){var t=this;e&&e.error?this.handleStripeError(e.error):this.setState({isLoading:!1,stripeToken:e.id},function(){t.savePayment()})},handleStripeError:function(e){var t=this.state.formFields;"number"===e.param&&(t.cardNumber.error=e.message),"exp_year"===e.param&&(t.expirationYear.error=e.message),"exp_month"===e.param&&(t.expirationMonth.error=e.message),"cvc"===e.param&&(t.cvv.error=e.message),this.setState({isLoading:!1,formFields:t})},savePayment:function f(){var e=this.state,t=e.stripeToken,a=e.promoCode,f=this.props.savePayment;f(t,a)},render:function(){var e=this.state,t=e.formFields,a=e.basePrice,n=e.currentPrice,s=e.promoCode,o=e.promoValue,r=e.promoLoading,i=e.promoError,d=e.isLoading,m=this.props,h=m.thatUser,f=m.cancelConnectionProcess,g=m.isOwner,b=m.sendError,v=m.isSending,y=m.requested,R=h.first_name,E=r||d||v,N=d||v,x=s&&React.createElement("div",{className:"connectionModal-payment-invoice-row connectionModal-payment-invoice-item"},React.createElement("span",null,"Promo Code: ",s),React.createElement("span",{className:"connectionModal-payment-invoice-price connectionModal-payment-invoice-price-discount"},"(",o,")")),A=i&&React.createElement(u["default"],null,i),M=g&&!y&&React.createElement("p",{className:"small connectionModal-education"},"*By confirming this payment, you authorize Loom to charge your credit card. A pending transaction may show up in your account, however, the charge will only go through if the freelancer accepts your connection request within the next 7 days."),w=b&&React.createElement(c["default"],{error:b}),C=y?"Pay $"+n+" and Connect":"Confirm Payment and Send";return React.createElement("div",{className:"connectionModal-content"},React.createElement("div",{className:"connectionModal-payment"},React.createElement("div",{className:"connectionModal-payment-invoice"},React.createElement("div",{className:"connectionModal-payment-invoice-row connectionModal-payment-invoice-header"},React.createElement("span",null,"Product"),React.createElement("span",null,"Price")),React.createElement("div",{className:"connectionModal-payment-invoice-row connectionModal-payment-invoice-item"},React.createElement("span",null,"Loom connection fee to connect with ",R),React.createElement("span",{className:"connectionModal-payment-invoice-price"},"$",a)),x,React.createElement("div",{className:"connectionModal-payment-invoice-promo"},React.createElement("label",{className:"form-label",htmlFor:t.promoCode.name},"Discount Code"),React.createElement(l.Input,{config:t.promoCode}),React.createElement(p["default"],{size:"small",disabled:E,isLoading:r,onClick:this.submitPromoCode},"Apply"),A),React.createElement("div",{className:"connectionModal-payment-invoice-row connectionModal-payment-invoice-footer"},React.createElement("span",null,"Total"),React.createElement("span",{className:"connectionModal-payment-invoice-price"},"$",n)),React.createElement("div",{className:"connectionModal-stripeLogo"})),React.createElement("div",{className:"connectionModal-payment-form"},React.createElement("h3",null,"Credit Card"),React.createElement(l.Input,{config:t.name,disabled:d}),React.createElement(l.Input,{config:t.cardNumber,disabled:d}),React.createElement("div",{className:"connectionModal-payment-expiration"},React.createElement(l.Input,{config:t.expirationMonth,disabled:d}),React.createElement(l.Input,{config:t.expirationYear,disabled:d})),React.createElement(l.Input,{config:t.cvv,className:"connectionModal-payment-cvv",disabled:d}),M)),React.createElement("div",{className:"connectionModal-footer modal-bottom"},w,React.createElement(p["default"],{onClick:f,buttonType:"secondary",disabled:E,shrink:!0},"Cancel"),React.createElement(p["default"],{onClick:this.submitForm,disabled:E,isLoading:N,shrink:!0},C)))}});t["default"]=h},"./app/scripts/appliances/signNDAmodal/signNDAmodal.jsx":function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};a("./app/scripts/appliances/signNDAmodal/signNDAmodal.scss");var r=a("./app/scripts/utils/analytics.js"),i=a("./node_modules/classnames/index.js"),c=s(i),l=a("./node_modules/react-redux/lib/index.js"),d=a("./app/scripts/store/actions.js"),p=n(d),m=a("./app/scripts/store/store.js"),u=s(m),h=a("./app/scripts/store/events.js"),f=a("./app/scripts/store/api.js"),g=a("./app/scripts/components/modal/modal.jsx"),b=a("./app/scripts/components/forms/formFields.js"),v=a("./app/scripts/components/button/button.jsx"),y=s(v),R=a("./app/scripts/components/errors/apiError.jsx"),E=s(R),N=a("./app/scripts/components/legacyLink/legacyLink.jsx"),x=s(N),A={modalOpen:!1,formFields:{},agreeToTerms:!1,isSending:!1,sendError:!1,confirm:!1},M=React.createClass({displayName:"ReqestNDA",propTypes:{messages:React.PropTypes.object.isRequired},getInitialState:function(){return A},formFields:function(){var e=this;return{agreeToTerms:{name:"agreeToTerms",error:!1,options:[{label:"I agree to the terms of the agreement.",id:"agreeToTerms",checked:!1}],onChange:function(t){var a=e.state.formFields,n=t[0].checked;a.agreeToTerms.options=t,e.setState({agreeToTerms:n,formFields:a})}}}},componentWillMount:function(){this.setState({formFields:this.formFields()})},componentDidMount:function(){var e=this;(0,h.eventSubscribe)(h.events.OPEN_NDA_MODAL,function(){e.setState({modalOpen:!0})})},componentWillUnmount:function(){(0,h.eventUnsubscribe)(h.events.OPEN_NDA_MODAL)},closeModal:function(){this.setState(A)},signNDA:function(){var e=this,t=this.props,a=t.messages,n=t.messages,s=n.job,o=n.nda,i=n.is_legacy,c=i?f.api.sendNDA(s.project.id,s.id,o.id):f.api.NDA(o.id);this.setState({isSending:!0,sendError:!1},function(){var t=Object.assign({},o,{status:"signed"});(0,f.patch)(c,t,function(){e.setState({isSending:!1},function(){(0,r.trackEvent)("NDA Signed",{messages:a}),e.showConfirmation(),e.hideNDAAlert()})},function(t,a){a&&404===a.statusCode&&(window.location="/404/"),console.error(t),e.setState({sendError:a&&a.text||t,isSending:!1})})})},hideNDAAlert:function(){var e=this.props.messages.alerts,t=e.find(function(e){return"ndaRequest"===e.type});u["default"].dispatch(p.dismissAlert(t))},showConfirmation:function(){this.setState({confirm:!0})},render:function(){var e=this,t=this.props.messages,a=this.state,n=a.modalOpen,s=a.formFields,r=a.agreeToTerms,i=a.isSending,l=a.sendError,d=a.confirm,p="Non-Disclosure Agreement",m=!d&&React.createElement("span",null,React.createElement("p",null,React.createElement("strong",null,'IMPORTANT! THIS MUTUAL NON-DISCLOSURE AGREEMENT FOR DEVELOPMENT SERVICES ("AGREEMENT") GOVERNS THE DISCLOSURE OF CONFIDENTIAL INFORMATION RELATING TO THE DEVELOPMENT SERVICES. BY CLICKING “I AGREE”, BY PROVIDING OR RECEIVING CONFIDENTIAL INFORMATION IN CONNECTION WITH THE DEVELOPMENT SERVICES OR OTHERWISE SIGNIFYING YOUR ACCEPTANCE OF THE TERMS OF THIS AGREEMENT, YOU REPRESENT AND WARRANT THAT (A) YOU ARE AUTHORIZED TO ENTER THIS AGREEMENT FOR AND ON BEHALF OF YOUR COMPANY AND/OR YOU, AND ARE DOING SO, (B) YOU COMPANY AND/OR YOU CAN LEGALLY ENTER INTO THIS AGREEMENT AND (C) YOU HAVE READ AND UNDERSTAND AND AGREE THAT YOUR COMPANY AND/OR YOU SHALL BE BOUND BY THE TERMS OF THIS AGREEMENT AND ALL MODIFICATIONS AND ADDITIONS PROVIDED FOR. IF YOU DO NOT AGREE TO THE TERMS OF THIS AGREEMENT, YOU SHALL NOT DISCLOSE ANY CONFIDENTIAL INFORMATION IN CONNECTION WITH THE DEVELOPMENT SERVICES.')),React.createElement("p",null,"This Mutual Non-Disclosure Agreement (the ",React.createElement("strong",null,"“Agreement”"),") is made and entered into as of the date agreed to by both parties (the ",React.createElement("strong",null,"“Effective Date”"),") by and between the company wishing to engage contractor to provide certain development services (",React.createElement("strong",null,"“Company”"),"), and the contractor wishing to provide these development services (",React.createElement("strong",null,"“Contractor”"),"). Company and Contractor shall be referred to throughout this Agreement individually as a “Party” and collectively as the “Parties.”"),React.createElement("p",null,"1. ",React.createElement("strong",null,"Purpose.")," Company and Contractor wish to explore and/or engage in the provision of certain development services (the ",React.createElement("strong",null,"“Development Services”"),") and in connection with the Development Services, each Party may disclose to the other Party certain confidential technical and business information which the disclosing Party desires to treat as confidential."),React.createElement("p",null,"2. ",React.createElement("strong",null,"“Confidential Information”")," means any proprietary or confidential information disclosed by either Party to the other Party, either directly or indirectly in writing, orally, or by inspection of tangible objects (including, without limitation, business plans, customer data, designs, documents, drawings, engineering information, financial analysis, hardware configuration information, inventions, market information, marketing plans, processes, products, product plans, research, services, specifications, software, source code or trade secrets), which, in all cases is designated or labeled as “Confidential,” “Proprietary,” or some other similar designation. Confidential Information may also include information disclosed to a disclosing Party by a third party. Confidential Information shall not, however, include any information which (i) was publicly known and made generally available in the public domain prior to the time of disclosure by the disclosing Party; (ii) becomes publicly known and made generally available after disclosure by the disclosing Party to the receiving Party through no action or inaction of the receiving Party; (iii) is already in the possession of the receiving Party at the time of disclosure by the disclosing Party as shown by the receiving Party's files, documents, records and other competent evidence immediately prior to the time of disclosure; (iv) is obtained by the receiving Party from a third party without a breach of such third party's obligations of confidentiality; or (v) is independently developed by the receiving Party without use of or reference to the disclosing Party's Confidential Information, as shown by the receiving Party’s files, documents, records and other competent evidence. Further, the receiving Party may disclose Confidential Information pursuant to a valid order issued by a court or government agency or as otherwise required by law, provided that (a) the receiving Party provides the disclosing Party with prior written notice of such obligation and the opportunity to oppose such disclosure or obtain a protective order; (b) the receiving Party only discloses such Confidential Information as is required to comply with such order or law and (c) no such disclosure shall otherwise exempt such Confidential Information from being treated as confidential under this Agreement."),React.createElement("p",null,"3. ",React.createElement("strong",null,"Non-Disclosure and Non-Use.")," Each Party agrees not to disclose any Confidential Information to third parties or to employees of such Party, except to those employees of the receiving Party who are required to have the information in order to evaluate or engage in discussions concerning the Development Services. Each Party agrees not to use any Confidential Information for any purpose except to evaluate and engage in discussions concerning the Development Services. Neither Party shall reverse engineer, disassemble or decompile any prototypes, software or other tangible objects which embody the other Party’s Confidential Information and which are provided to the Party hereunder unless consent for such actions is received by the Party that owns the object. Neither Party shall make any copies of the other Party’s Confidential Information unless the same are previously approved in writing by the disclosing Party. Each Party shall reproduce the other Party’s proprietary rights notices on any such approved copies, in the same manner in which such notices were set forth in or on the original."),React.createElement("p",null,"4. ",React.createElement("strong",null,"Maintenance of Confidentiality.")," Each Party agrees that it shall take all reasonable measures to protect the secrecy of and avoid disclosure and unauthorized use of the Confidential Information. Without limiting the foregoing, each Party shall take at least those measures that such Party takes to protect its own most highly confidential information, but in no event shall such measures be less than a reasonable standard of care, and shall have its employees, if any, who have access to the other Party’s Confidential Information sign a non-use and non-disclosure agreement with terms no less restrictive than the provisions hereof, prior to any disclosure of the other Party’s Confidential Information to such employees."),React.createElement("p",null,"5. ",React.createElement("strong",null,"No Obligation.")," Nothing herein shall obligate either Party to proceed with any transaction between the Parties, and each Party reserves the right, in its sole discretion, to terminate the discussions contemplated by this Agreement concerning the Development Services."),React.createElement("p",null,"6. ",React.createElement("strong",null,"Ownership and No License.")," All Confidential Information shall remain the sole property of the disclosing Party. Nothing in this Agreement is intended to grant any rights to either Party under any patent, copyright, trademark or other intellectual property right of the other Party, nor shall this Agreement grant either Party any rights in or to the other Party’s Confidential Information except as expressly set forth herein."),React.createElement("p",null,"7. ",React.createElement("strong",null,"No Warranty.")," ALL CONFIDENTIAL INFORMATION IS PROVIDED “AS IS.” NEITHER PARTY MAKES ANY WARRANTIES, EXPRESS, IMPLIED OR OTHERWISE, REGARDING THE ACCURACY, COMPLETENESS OR PERFORMANCE OF ITS CONFIDENTIAL INFORMATION, AND EACH PARTY EXPRESSLY DISCLAIMS ANY WARRANTIES OF ANY KIND, WHETHER EXPRESS, IMPLIED, STATUTORY OR OTHERWISE, INCLUDING ANY IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, OR NONINFRINGEMENT."),React.createElement("p",null,"8. ",React.createElement("strong",null,"Return of Materials.")," All documents and other tangible objects containing or representing the disclosing Party’s Confidential Information and all copies thereof which are in the possession of the receiving Party shall be promptly returned to the disclosing Party upon the disclosing Party’s request."),React.createElement("p",null,"9. ",React.createElement("strong",null,"Remedies.")," Each Party agrees that its obligations hereunder are necessary and reasonable in order to protect the other Party and the other Party’s business, and expressly agrees that monetary damages would be inadequate to compensate the other Party for any breach by either Party of any covenants and agreements set forth herein. Accordingly, each Party agrees and acknowledges that any such violation or threatened violation will cause irreparable injury to the other Party and that, in addition to any other remedies that may be available, in law, in equity or otherwise, the other Party shall be entitled to obtain injunctive relief against the threatened breach of this Agreement or the continuation of any such breach, without the necessity of proving actual damages or posting bond. If any claim or dispute arising out of or relating to this Agreement, including the breach or interpretation of this Agreement (a ",React.createElement("strong",null,"“Dispute”"),") arises between the parties that leads to a proceeding to resolve such Dispute, then the prevailing party in such proceeding shall be entitled to receive its attorneys' fees and costs incurred in connection with such proceeding in addition to any other relief it may be awarded."),React.createElement("p",null,"10. ",React.createElement("strong",null,"Export.")," The Parties acknowledge that the Confidential Information disclosed by each of them under this Agreement may be subject to export controls under the laws of the United States. Each Party shall comply with such laws and agrees not to knowingly export, re-export or transfer Confidential Information of the other party without first obtaining all required United States authorizations or licenses."),React.createElement("p",null,"11. ",React.createElement("strong",null,"Term.")," This Agreement shall be effective as of the Effective Date and shall remain in effect until either (i) no Confidential Information has been exchanged between the Parties for a period of three (3) years, or (ii) the Parties agree in writing to terminate it. Upon expiration or termination of this Agreement, all rights and obligations hereunder shall cease."),React.createElement("p",null,"12. Miscellaneous. This Agreement shall bind and inure to the benefit of the Parties and their successors and assigns. This Agreement shall be governed by the laws of the State in which Company has its main office, without reference to its conflict of laws principles. Any suit to enforce this Agreement shall be brought exclusively in the Federal or state courts located in the county in which Company has its main office and the Parties hereby submit to the personal jurisdiction of such courts and waive any venue objection. This document contains the entire agreement between the Parties with respect to the subject matter hereof. Any failure to enforce any provision of this Agreement shall not constitute a waiver thereof or of any other provision hereof. This Agreement may not be amended, nor any obligation waived, except by a writing signed by both Parties. In the event any term of this Agreement is found by any court to be void or otherwise unenforceable, the remainder of this Agreement shall remain valid and enforceable as though such term were absent upon the date of its execution."),React.createElement("p",null,"IN WITNESS WHEREOF, the parties have entered into this Agreement as of the Effective Date.")),u=d&&React.createElement("span",{
className:"NDAmodal-confirm"},React.createElement("h3",null,"You signed the NDA for ",React.createElement("span",{className:"brand"},t.job.project.title)),React.createElement("p",null,"Feel free to discuss project details. Remenber to request a connection when you're ready to exchange contact details."),React.createElement("p",null,"You can reference the Loom NDA here: ",React.createElement(x["default"],{href:"https://www.loom.co/nda/",target:"_blank"},"loom.co/nda/"))),h=function(){var t=!d&&React.createElement(b.CheckboxGroup,{config:s.agreeToTerms}),a=l&&React.createElement(E["default"],{error:l}),n=(i||!r)&&{disabled:!0},p=d?React.createElement(y["default"],{onClick:e.closeModal},"Okay, I got it"):React.createElement(y["default"],o({onClick:e.signNDA},n,{isLoading:i}),"Sign NDA"),m=(0,c["default"])("NDAmodal-footer",{"NDAmodal-footer--confirm":d});return React.createElement("div",{className:m},a,t,p)}();return React.createElement(g.Modal,{className:"NDAmodal",open:n,onClose:this.closeModal,header:p,footer:h},m,u)}}),w=function(e){var t=e.messageThread;return{messages:t.messages}};t["default"]=(0,l.connect)(w)(M)},"./app/scripts/appliances/signNDAmodal/signNDAmodal.scss":function(e,t,a){t=e.exports=a("./node_modules/css-loader/lib/css-base.js")(),t.push([e.i,".NDAmodal{max-width:100%;width:500px}.NDAmodal .messages-attachModal-bottom{display:flex;padding:10px 0}.NDAmodal .messages-attachModal-bottom button+button{margin-left:10px}.NDAmodal-footer{display:flex;align-items:center;flex-wrap:wrap;width:100%;justify-content:space-between}.NDAmodal-footer.NDAmodal-footer--confirm{justify-content:flex-end;padding-top:10px;padding-bottom:10px}.NDAmodal-footer .form-submission-error{flex-basis:100%;margin-top:10px;margin-bottom:0}.NDAmodal-footer .button{flex-shrink:0}.NDAmodal-confirm{text-align:center}",""])},"./app/scripts/components/connectionAvatars/connectionAvatars.jsx":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),a("./app/scripts/components/connectionAvatars/connectionAvatars.scss");var s=a("./node_modules/classnames/index.js"),o=n(s),r=a("./app/scripts/components/profilePhoto/profilePhoto.jsx"),i=n(r),c=React.createClass({displayName:"ConnectionAvatars",propTypes:{thisUser:React.PropTypes.object.isRequired,thatUser:React.PropTypes.object.isRequired,connected:React.PropTypes.bool.isRequired,color:React.PropTypes.string.isRequired},render:function(){var e=this.props,t=e.thisUser,a=e.thatUser,n=e.connected,s=e.color,r=(0,o["default"])("connectionAvatars-connectIcon",{"connectionAvatars-connectIcon--connected--light":n&&"light"===s,"connectionAvatars-connectIcon--connected--dark":n&&"dark"===s,"connectionAvatars-connectIcon--light":!n&&"light"===s,"connectionAvatars-connectIcon--dark":!n&&"dark"===s});return React.createElement("div",{className:"connectionAvatars"},React.createElement("div",{className:"connectionAvatars-userIcon"},React.createElement(i["default"],{url:t.photo_url,circle:!0})),React.createElement("div",{className:r}),React.createElement("div",{className:"connectionAvatars-userIcon"},React.createElement(i["default"],{url:a.photo_url,circle:!0})))}});t["default"]=c},"./app/scripts/components/connectionAvatars/connectionAvatars.scss":function(e,t,a){t=e.exports=a("./node_modules/css-loader/lib/css-base.js")(),t.push([e.i,".connectionAvatars{display:flex;width:200px;margin:auto;max-width:80%;justify-content:center;align-items:center}.connectionAvatars-userIcon{width:60px;height:60px;flex-shrink:0}.connectionAvatars-userIcon .generic-profile-photo{width:100%;padding-bottom:100%}.connectionAvatars-connectIcon{width:40px;height:30px;background-repeat:no-repeat;background-size:contain;background-position:50%;margin-right:20px;margin-left:20px;flex-shrink:0}.connectionAvatars-connectIcon.connectionAvatars-connectIcon--dark{background-image:url("+a("./app/images/icon-connect.svg")+")}.connectionAvatars-connectIcon.connectionAvatars-connectIcon--light{background-image:url("+a("./app/images/icon-connect--white.svg")+")}.connectionAvatars-connectIcon.connectionAvatars-connectIcon--connected--dark{background-image:url("+a("./app/images/icon-connected.svg")+");width:80px}.connectionAvatars-connectIcon.connectionAvatars-connectIcon--connected--light{background-image:url("+a("./app/images/icon-connected--white.svg")+");width:80px}",""])},"./app/scripts/containers/dashboard/messages/messageAlerts.jsx":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0});var o=a("./app/scripts/utils/analytics.js"),r=a("./app/scripts/store/actions.js"),i=s(r),c=a("./app/scripts/store/store.js"),l=n(c),d=a("./app/scripts/store/events.js"),p=a("./app/scripts/config.js"),m=a("./app/scripts/components/button/button.jsx"),u=n(m),h=a("./app/scripts/components/forms/formFields.js"),f=a("./app/scripts/components/legacyLink/legacyLink.jsx"),g=n(f),b=a("./app/scripts/components/connectionAvatars/connectionAvatars.jsx"),v=n(b),y={entrepreneurEducation:"loom_hideMessageAlertsEntrepreneur",freelancerEducation:"loom_hideMessageAlertsFreelancer"},R=function(e){var t=e?y.entrepreneurEducation:y.freelancerEducation,a=!window.localStorage.getItem(t,!0);return a&&t},E=React.createClass({displayName:"MessageAlertEducational",propTypes:{storageKey:React.PropTypes.string.isRequired,messages:React.PropTypes.object.isRequired,dismissEducationalAlert:React.PropTypes.func.isRequired},getInitialState:function(){return{hideForever:!1,isLoading:!1,formFields:{}}},formFields:function(){var e=this;return{hideForever:{name:"hideForever",error:!1,options:[{label:"Don't show again on this computer.",id:"hideForever",checked:!1}],onChange:function(t){var a=e.state.formFields,n=e.props.storageKey,s=t[0].checked;s?window.localStorage.setItem(n,s):window.localStorage.removeItem(n),a.hideForever.options=t,e.setState({hideForever:s,formFields:a})}}}},componentWillMount:function(){this.setState({formFields:this.formFields()})},hideAlert:function(){var e=this.props,t=e.messages,a=e.storageKey,n=e.dismissEducationalAlert,s=a===y.entrepreneurEducation?"Entrepreneur":"Freelancer";(0,o.trackEvent)("Hide Educational Alert: "+s,{messages:t}),n(),l["default"].dispatch(i.fetchMessageThread(t.id)),this.setState({isLoading:!0})},render:function(){var e=this.state,t=e.formFields,a=e.isLoading,n=this.props.storageKey,s=React.createElement("div",null,React.createElement("p",null,React.createElement("span",{className:"brand"},"Here’s how this works:")," You’ve got 5 free messages, so make them count!"),React.createElement("p",null,"If after 5 messages you want unlimited messaging and to exchange contact info, then you can request a connection."),React.createElement("p",null,"The fee for each connection is $",p.settings.connectionBasePrice,", which is only collected when the freelancer accepts your request. Each connection provides you the information you need to interview and hire that freelancer.")),o=React.createElement("div",null,React.createElement("p",null,React.createElement("span",{className:"brand"},"Here’s how this works:")," You’ve got 5 free messages, so make them count!"),React.createElement("p",null,"If after 5 messages you want unlimited messaging and to exchange contact info, then you can request a connection with this entrepreneur. They may also request to connect with you.")),r=n===y.entrepreneurEducation?s:o;return React.createElement("div",{className:"messageAlert messageAlert--educational"},r,React.createElement(u["default"],{onClick:this.hideAlert,disabled:a,isLoading:a},"Okay, I understand"),React.createElement(h.CheckboxGroup,{config:t.hideForever,inputDisabled:a}))}}),N=React.createClass({displayName:"MessageAlertNDARequest",propTypes:{messages:React.PropTypes.object.isRequired},openNDAModal:function(){var e=this.props.messages,t=e.job,a=e.nda;(0,d.eventPublish)(d.events.OPEN_NDA_MODAL,{job:t,nda:a})},render:function(){var e=this.props.messages,t=e.thatUser,a=e.job.project;return React.createElement("div",{className:"messageAlert"},React.createElement("div",{className:"messageAlert-alertHeader"},React.createElement("span",{className:"brand"},t.first_name)," sent you a request to sign a non-disclosure",React.createElement("br",null),"agreement for ",React.createElement("span",{className:"brand"},a.title)),React.createElement("div",{className:"messageAlert-actions"},React.createElement(u["default"],{onClick:this.openNDAModal},"Review and Sign NDA")))}}),x=React.createClass({displayName:"MessageAlertNDASigned",propTypes:{messages:React.PropTypes.object.isRequired,alert:React.PropTypes.object.isRequired},getInitialState:function(){return{isDismissing:!1}},dismissAlert:function(){var e=this.props,t=e.messages,a=e.alert;(0,o.trackEvent)("Dismiss Alert: NDA Signed",{messages:t}),this.setState({isDismissing:!0}),l["default"].dispatch(i.dismissAlert(a))},render:function(){var e=this.props.messages,t=e.thatUser,a=e.job.project,n=this.state.isDismissing;return React.createElement("div",{className:"messageAlert"},React.createElement("div",{className:"messageAlert-alertHeader"},React.createElement("span",{className:"brand"},t.first_name)," signed the NDA for ",React.createElement("span",{className:"brand"},a.title)),React.createElement("div",{className:"messageAlert-alertContent"},React.createElement("p",null,"Feel free to discuss project details. Remember to request a connection when you're ready to exchange contact details."),React.createElement("p",null,"You can reference the Loom NDA here: ",React.createElement(g["default"],{href:"https://www.loom.co/nda/",target:"_blank"},"loom.co/nda/"))),React.createElement("div",{className:"messageAlert-actions"},React.createElement(u["default"],{onClick:this.dismissAlert,isLoading:n,disabled:n},"Okay, I got it")))}}),A=React.createClass({displayName:"MessageAlertConnectionRequest",propTypes:{messages:React.PropTypes.object.isRequired},openAcceptConnectionModal:function(){var e=this.props.messages,t=e.thisUser,a=e.thatUser,n=e.id,s=e.is_owner;(0,d.eventPublish)(d.events.OPEN_CONNECTION_MODAL,{thisUser:t,thatUser:a,threadId:n,isOwner:s})},render:function(){var e=this.props.messages,t=e.is_owner,a=e.thisUser,n=e.thatUser,s=e.connected,o=t?React.createElement("p",null,"You will need to pay the ",React.createElement("span",{className:"brand"},"$",p.settings.connectionBasePrice," Loom connection fee")," to accept this request and exchange contact details."):React.createElement("p",null,"Accept this connection to share your contact details with ",n.first_name," and enable unimited messaging with file attachments.");return React.createElement("div",{className:"messageAlert"},React.createElement(v["default"],{thatUser:n,thisUser:a,connected:s,color:"light"}),React.createElement("div",{className:"messageAlert-alertHeader"},React.createElement("span",{className:"brand"},n.first_name)," requested to connect and exchange contact details!"),React.createElement("div",{className:"messageAlert-alertContent"},o),React.createElement("div",{className:"messageAlert-actions"},React.createElement(u["default"],{onClick:this.openAcceptConnectionModal},"Accept Connection")))}}),M=React.createClass({displayName:"MessageAlertConnectionAccepted",propTypes:{messages:React.PropTypes.object.isRequired,alert:React.PropTypes.object.isRequired},getInitialState:function(){return{isDismissing:!1}},dismissAlert:function(){var e=this.props,t=e.messages,a=e.alert;(0,o.trackEvent)("Dismiss Alert: Connected Accepted",{messages:t}),this.setState({isDismissing:!0}),l["default"].dispatch(i.dismissAlert(a))},render:function(){var e=this.props.messages,t=e.thatUser,a=e.thisUser,n=e.connected,s=this.state.isDismissing;return React.createElement("div",{className:"messageAlert"},React.createElement(v["default"],{thatUser:t,thisUser:a,connected:n,color:"light"}),React.createElement("div",{className:"messageAlert-alertHeader"},React.createElement("span",{className:"brand"},t.first_name," ",t.last_name)," accepted your request to connect!"),React.createElement("div",{className:"messageAlert-alertContent"},React.createElement("p",null,"We’ve unlocked their contact details, and you now have unlimited Loom messages with file attachments. Jump back into the conversation!")),React.createElement("div",{className:"messageAlert-actions"},React.createElement(u["default"],{onClick:this.dismissAlert,isLoading:s,disabled:s},"Okay, I got it")))}}),w=React.createClass({displayName:"MessageAlertConnectionExpired",propTypes:{messages:React.PropTypes.object.isRequired,alert:React.PropTypes.object.isRequired},getInitialState:function(){return{isDismissing:!1}},dismissAlert:function(){var e=this.props,t=e.messages,a=e.alert;(0,o.trackEvent)("Dismiss Alert: Connected Expired",{messages:t}),this.setState({isDismissing:!0}),l["default"].dispatch(i.dismissAlert(a))},openRequestConnectionModal:function(){var e=this.props.messages,t=e.thisUser,a=e.thatUser,n=e.id,s=e.is_owner;(0,d.eventPublish)(d.events.OPEN_CONNECTION_MODAL,{thisUser:t,thatUser:a,threadId:n,isOwner:s})},render:function(){var e=this.state.isDismissing;return React.createElement("div",{className:"messageAlert"},React.createElement("div",{className:"messageAlert-alertHeader"},React.createElement("span",{className:"brand"},"Your connection request has expired.")),React.createElement("div",{className:"messageAlert-alertContent"},React.createElement("p",null,"You can request this connection again if you'd like.")),React.createElement("div",{className:"messageAlert-actions"},React.createElement(u["default"],{onClick:this.dismissAlert,buttonType:"secondary",isLoading:e,disabled:e},"Dismiss"),React.createElement(u["default"],{onClick:this.openRequestConnectionModal,disabled:e},"Request Connection")))}}),C=React.createClass({displayName:"MessageAlertLimitReached",propTypes:{messages:React.PropTypes.object.isRequired,alert:React.PropTypes.object.isRequired},requestConnection:function(){var e=this.props,t=e.messages,a=e.messages,n=a.thisUser,s=a.thatUser,r=a.id,i=a.is_owner;(0,d.eventPublish)(d.events.OPEN_CONNECTION_MODAL,{thisUser:n,thatUser:s,threadId:r,isOwner:i}),(0,o.trackEvent)("Message Limit Connection Request",{messages:t})},render:function(){var e=this.props.messages.thatUser;return React.createElement("div",{className:"messageAlert"},React.createElement("div",{className:"messageAlert-alertHeader"},"You've used all of your free messages for this conversation."),React.createElement("div",{className:"messageAlert-alertContent"},React.createElement("p",null,"Request to connect with ",React.createElement("span",{className:"brand"},e.first_name)," for unlimited messaging and to exchange contact information.")),React.createElement("div",{className:"messageAlert-actions"},React.createElement(u["default"],{onClick:this.requestConnection},"Request to Connect")))}}),P=React.createClass({displayName:"MessageAlerts",propTypes:{messages:React.PropTypes.object.isRequired,alerts:React.PropTypes.arrayOf(React.PropTypes.shape({id:React.PropTypes.number,type:React.PropTypes.string.isRequired,timestamp:React.PropTypes.string})).isRequired,isProjectOwner:React.PropTypes.bool.isRequired},getInitialState:function(){return{alerts:[],alertsHidden:!1,alertShownIndex:0,educationalAlertDismissed:!1}},componentWillMount:function(){this.processAlerts(this.props)},componentWillReceiveProps:function(e){this.processAlerts(e)},processAlerts:function(e){var t=this,a=e.messages,n=e.messages.connected,s=e.alerts,o=e.isProjectOwner,r=this.state.educationalAlertDismissed,i=R(o),c=Array.from(s);!i||r||n||c.unshift({type:"educational",unread:!0});var l=c.filter(function(e,n){if(!e.unread)return!1;switch(e.type){case"educational":e.component=React.createElement(E,{messages:a,storageKey:i,dismissEducationalAlert:t.dismissEducationalAlert,key:n});break;case"ndaRequest":e.component=React.createElement(N,{messages:a,alert:e,key:n});break;case"ndaSigned":e.component=React.createElement(x,{messages:a,alert:e,key:n});break;case"connectionRequest":e.component=React.createElement(A,{messages:a,alert:e,key:n});break;case"connectionAccepted":e.component=React.createElement(M,{messages:a,alert:e,key:n});break;case"messageLimitReached":e.component=React.createElement(C,{messages:a,alert:e,key:n});break;case"connectionRequestExpired":e.component=React.createElement(w,{messages:a,alert:e,key:n});break;default:return!1}return e});this.setState({alerts:l})},nextAlert:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.props.messages,a=this.state,n=a.alerts,s=a.alertShownIndex,r=s===n.length-1,i=r?0:s+1,c=i===s;(0,o.trackEvent)("Message Alert Navigation: Next",{messages:t}),e?this.setState({alertShownIndex:i,alertsHidden:c}):this.forceUpdate()},prevAlert:function(){var e=this.props,t=e.messages,a=e.alerts,n=this.state.alertShownIndex,s=0===n?a.length-1:n-1;(0,o.trackEvent)("Message Alert Navigation: Previous",{messages:t}),this.setState({alertShownIndex:s})},hideAlerts:function(){var e=this.props.messages;(0,o.trackEvent)("Message Alerts Hidden",{messages:e}),this.setState({alertsHidden:!0})},showAlerts:function(){var e=this.props.messages;(0,o.trackEvent)("Message Alerts Expanded",{messages:e}),this.setState({alertsHidden:!1,alertShownIndex:0})},dismissEducationalAlert:function(){this.setState({educationalAlertDismissed:!0})},render:function(){var e=this.state,t=e.alertsHidden,a=e.alertShownIndex,n=e.alerts,s=n.length,o=s>0;if(!o)return!1;if(t){var r=1===s?"Pending Alert":"Pending Alerts";return React.createElement("div",{className:"messageAlerts messageAlerts--hidden",onClick:this.showAlerts},React.createElement("div",{className:"messageAlerts-hiddenText"},React.createElement("span",{className:"messageAlerts-hiddenCount"},s)," ",r),React.createElement("div",{className:"messageAlerts-open",onClick:this.hideAlerts}))}var i=s>1,c=o&&n[a].component,l=i&&"Alert "+(a+1)+" of "+s,d=React.createElement("div",{className:"messageAlerts-header"},React.createElement("div",{className:"messageAlerts-pageNumber"},l),React.createElement("div",{className:"messageAlerts-close",onClick:this.hideAlerts})),p=i&&0!==a&&React.createElement("div",{className:"messageAlerts-nav messageAlerts-nav--prev",onClick:this.prevAlert},"prev"),m=i&&a!==s-1&&React.createElement("div",{className:"messageAlerts-nav messageAlerts-nav--next",onClick:this.nextAlert},"next");return React.createElement("div",{className:"messageAlerts"},d,p,c,m)}});t["default"]=P},"./app/scripts/containers/dashboard/messages/messageAttach.jsx":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=a("./node_modules/react-redux/lib/index.js"),i=a("./app/scripts/store/actions.js"),c=s(i),l=a("./app/scripts/store/store.js"),d=n(l),p=a("./node_modules/classnames/index.js"),m=n(p),u=a("./app/scripts/store/api.js"),h=a("./app/scripts/utils/formUtils.js"),f=a("./app/scripts/components/modal/modal.jsx"),g=a("./app/scripts/components/forms/formFields.js"),b=a("./app/scripts/components/button/button.jsx"),v=n(b),y={uploadModalOpen:!1,fileToUpload:null,fileToUploadTitle:"",uploadError:!1,isSending:!1},R=React.createClass({displayName:"MessageAttach",propTypes:{scrollToInput:React.PropTypes.func.isRequired,scrollToLast:React.PropTypes.func.isRequired,messages:React.PropTypes.object.isRequired},getInitialState:function(){return o({formFields:[]},y)},componentWillMount:function(){this.setState({formFields:this.formFields()})},formFields:function(){var e=this;return{uploadTitle:{name:"uploadTitle",label:"Include title for this file? (optional)",error:!1,value:"",onChange:function(t){var a=e.state,n=a.formFields,s=a.fileToUploadTitle;n.uploadTitle.value=t,s=t,e.setState({formFields:n,fileToUploadTitle:s})}}}},onFileSelection:function(e){var t=this,a=e.target,n=a.files[0];e.preventDefault(),this.setState({fileToUpload:n,fileToUploadTitle:""},function(){t.openAttachmentModal()})},uploadFile:function(){var e=this,t=this.state,a=t.fileToUpload,n=t.fileToUploadTitle,s=this.props,o=s.messages.id,r=s.scrollToLast,i=s.scrollToInput,l={thread:o,attachment:a,tag:n};this.setState({uploadError:!1,isSending:!0},function(){(0,u.patch)(u.api.message,(0,h.objectToFormData)(l),function(t){d["default"].dispatch(c.messageThreadUpdate(t)),e.closeAttachmentModal(),i(),r()},function(t,a){console.error(t),e.setState({isSending:!1,uploadError:a&&a.text||t})})})},openAttachmentModal:function(){this.setState({uploadModalOpen:!0})},closeAttachmentModal:function(){this.setState(o({formFields:this.formFields()},y))},render:function(){var e=this,t=this.state,a=t.uploadError,n=t.uploadModalOpen,s=t.fileToUpload,o=t.isSending,r=t.formFields,i=a&&React.createElement("div",{className:"alert alert-danger",role:"alert"},a),c=(0,m["default"])("messages-composer-action","messages-composer-action--attach",{"messages-composer-action--sending":o}),l=function(){var t=s&&s.name,a=React.createElement("span",{className:"messages-attachModal-bottom"},React.createElement(v["default"],{onClick:e.closeAttachmentModal,buttonType:"secondary",disabled:o},"Cancel"),React.createElement(v["default"],{onClick:e.uploadFile,disabled:o,isLoading:o},"Upload"));return React.createElement(f.Modal,{open:n,onClose:e.closeAttachmentModal,header:"Upload a File",footer:a},React.createElement("div",null,React.createElement("div",{className:"form-set"},React.createElement("label",{className:"form-label"},"file name:"),React.createElement("div",{className:"messages-upload-modal-attachmentName"}," ",t)),React.createElement(g.Input,{config:r.uploadTitle,inputDisabled:o,ref:"attachmentTitle"}),i))}();return React.createElement("div",{className:"messages-attach"},React.createElement(v["default"],{size:"small",buttonType:"tertiary",className:c,fileInput:!0,disabled:o,onFileSelection:this.onFileSelection},"attach"),l)}}),E=function(e){var t=e.messageThread;return{messages:t.messages}};t["default"]=(0,r.connect)(E)(R)},"./app/scripts/containers/dashboard/messages/messageComposer.jsx":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=a("./node_modules/react-redux/lib/index.js"),i=a("./app/scripts/store/actions.js"),c=s(i),l=a("./app/scripts/store/store.js"),d=n(l),p=a("./node_modules/classnames/index.js"),m=n(p),u=a("./node_modules/react-textarea-autosize/lib/TextareaAutosize.js"),h=n(u),f=a("./node_modules/platform/platform.js"),g=n(f),b=a("./app/scripts/utils/piiUtils.js"),v=a("./app/scripts/store/api.js"),y=a("./app/scripts/utils/formUtils.js"),R=a("./app/scripts/utils/analytics.js"),E=a("./app/scripts/store/events.js"),N=a("./app/scripts/components/button/button.jsx"),x=n(N),A=a("./app/scripts/components/errors/errors.js"),M=a("./app/scripts/components/legacyLink/legacyLink.jsx"),w=n(M),C=a("./app/scripts/containers/dashboard/messages/messageAttach.jsx"),P=n(C),S=React.createClass({displayName:"MessageComposer",propTypes:{user:React.PropTypes.object.isRequired,apiError:React.PropTypes.any,scrollToLast:React.PropTypes.func.isRequired,scrollTo:React.PropTypes.func.isRequired,messages:React.PropTypes.object.isRequired},getInitialState:function(){return{messageEntered:"",isSending:!1,sendError:!1,hasPii:!1}},componentWillMount:function(){var e="Android"===g["default"].os.family||"iOS"===g["default"].os.family;this.setState({isMobile:e})},componentDidMount:function(){window.addEventListener("keydown",this.sendListener)},componentWillUnmount:function(){window.removeEventListener("keydown",this.sendListener)},scrollToInput:function(){var e=this.props,t=e.scrollTo,a=e.scrollToLast;window.onresize=function(){t(document.activeElement),a(),window.onresize=!1}},onChange:function(){var e=this.state.isSending,t=this.props.messages,a=ReactDOM.findDOMNode(this.refs.messageInput),n=a.value;e||t.messagingDisabled||this.setState({messageEntered:n})},sendListener:function(e){var t=this.state.isMobile,a=ReactDOM.findDOMNode(this.refs.messageInput);13!==e.which||e.shiftKey||document.activeElement!==a||t||this.sendHandler(e)},sendHandler:function(e){var t=this,a=this.state.isSending,n=this.props,s=n.user,o=n.messages,r=n.messages,i=r.job,c=r.connected,l=r.id,d=ReactDOM.findDOMNode(this.refs.messageInput),p=d.value.trim(),m=!!p.length,u=!c&&(0,b.doesStringContainPII)(p,{user:s,company:i.company});if(e.preventDefault(),d.focus(),!a&&!o.messagingDisabled){if(!c){if(u)return(0,R.trackEvent)("Message Not Sent: PII",{messages:o,message:p}),this.setState({hasPii:!0});(0,R.trackEvent)("Message Sent: Not Connected",{messages:o,message:p})}if(!u&&m){var h={thread:l,body:p};this.setState({isSending:!0,sendError:!1,hasPii:!1},function(){t.sendMessage(h)})}}},sendMessage:function(e){var t=this,a=this.props.scrollToLast;(0,v.patch)(v.api.message,(0,y.objectToFormData)(e),function(e){d["default"].dispatch(c.messageThreadUpdate(e)),t.setState({isSending:!1,messageEntered:""},function(){t.scrollToInput(),a()})},function(e,a){a&&404===a.statusCode&&(window.location="/404/"),console.error(e),t.setState({sendError:a&&a.text||e,isSending:!1})})},dismissPiiError:function(){this.setState({hasPii:!1})},requestConnection:function(){var e=this.props.messages,t=e.thisUser,a=e.thatUser,n=e.id,s=e.is_owner;(0,E.eventPublish)(E.events.OPEN_CONNECTION_MODAL,{thisUser:t,thatUser:a,threadId:n,isOwner:s})},render:function(){var e=this.state,t=e.messageEntered,a=e.isSending,n=e.isMobile,s=e.hasPii,r=e.sendError,i=this.props,c=i.messages,l=i.scrollToLast,d=i.apiError,p=(c.messagingDisabled||a)&&{disabled:!0},u=c.requested?"Connection Requested":"Request Connection",f=c.is_owner?"paid":"",g=!c.requested&&React.createElement(x["default"],{center:!0,onClick:this.requestConnection,size:"small",disabled:c.requested},u),b=s&&React.createElement(A.FormError,{className:"messages-composer-pii-error"},React.createElement("div",{className:"messages-composer-pii-dismiss",onClick:this.dismissPiiError}),React.createElement("p",null,React.createElement("b",null,"Message was not sent because it appears you're trying to send personal contact information."),React.createElement("br",null),React.createElement("br",null),"We take privacy and personal information seriously. Sharing last names, email addresses, URLs, phone numbers and social handles prior to establishing a ",f," connection will subject you to additional fees and permanent removal from Loom for violating ",React.createElement(w["default"],{href:"/terms-of-service/"},"Loom's Terms of Service"),".",React.createElement("br",null),React.createElement("br",null),"If you believe you're receiving this message in error, please send a note to ",React.createElement(w["default"],{href:"mailto:support@loom.co"},"support@loom.co")," and we'll be happy to assist you."),g),v=d||r||!1,y=v&&React.createElement(A.ApiError,{error:v}),R=!c.connected&&React.createElement("div",{className:"messages-composer-count"},c.messagesLeft," free messages left"),E=c.connected&&React.createElement(P["default"],{scrollToInput:this.scrollToInput,scrollToLast:l}),N=(0,m["default"])("messages-composer-input",{"messages-composer-input--sending":a||c.messagingDisabled}),M={value:t,ref:"messageInput",name:"messageInput",className:N,placeholder:"Send a message to "+c.thatUser.first_name,onFocus:this.scrollToInput,onChange:this.onChange,autoComplete:"off"},C=n?React.createElement("input",M):React.createElement(h["default"],o({minRows:1,maxRows:5},M)),S=(0,m["default"])("messages-composer-action","messages-composer-action--send",{"messages-composer-action--sending":a||c.messagingDisabled});return React.createElement("div",{className:"messages-composer"},b,y,R,React.createElement("div",{className:"messages-composer-fields"},E,React.createElement("form",{action:"",onSubmit:this.sendHandler},C,React.createElement(x["default"],o({size:"small",className:S,onClick:this.sendHandler},p),"send"))))}}),T=function(e){var t=e.auth,a=e.messageThread;return{user:t,messages:a.messages}};t["default"]=(0,r.connect)(T)(S)},"./app/scripts/containers/dashboard/messages/messageInteractions.jsx":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionAttachment=t.InteractionMessage=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=a("./node_modules/react-router/es6/index.js"),r=a("./node_modules/classnames/index.js"),i=n(r),c=a("./node_modules/downloadjs/download.js"),l=n(c),d=a("./app/scripts/components/profilePhoto/profilePhoto.jsx"),p=n(d),m={isCurrentUser:React.PropTypes.bool.isRequired,senderName:React.PropTypes.string.isRequired,senderAvatar:React.PropTypes.string.isRequired,formattedTime:React.PropTypes.string.isRequired,profileUrl:React.PropTypes.string.isRequired};t.InteractionMessage=React.createClass({displayName:"InteractionMessage",propTypes:s({text:React.PropTypes.string.isRequired},m),render:function(){var e=this.props,t=e.isCurrentUser,a=e.text,n=e.senderName,s=e.senderAvatar,r=e.formattedTime,c=e.profileUrl,l=(0,i["default"])("interaction",{"interaction-currentUser":t}),d=React.createElement(o.Link,{to:c},n);return React.createElement("div",{className:l},React.createElement(o.Link,{to:c,className:"interaction-avatar"},React.createElement(p["default"],{url:s,circle:!0})),React.createElement("div",{className:"interaction-content"},React.createElement("pre",{className:"interaction-message"},a),React.createElement("div",{className:"interaction-meta"},d," - ",r)))}}),t.InteractionAttachment=React.createClass({displayName:"InteractionAttachment",propTypes:s({attachment:React.PropTypes.object.isRequired},m),triggerDownload:function(e){var t=this.props.attachment;e.preventDefault(),(0,l["default"])(t.url)},render:function(){var e=this.props,t=e.isCurrentUser,a=e.attachment,n=e.senderName,s=e.senderAvatar,r=e.formattedTime,c=e.profileUrl,l=(0,i["default"])("interaction",{"interaction-currentUser":t}),d=React.createElement(o.Link,{to:c},n);return React.createElement("div",{className:l},React.createElement(o.Link,{to:c,className:"interaction-avatar"},React.createElement(p["default"],{url:s,circle:!0})),React.createElement("div",{className:"interaction-content"},React.createElement("div",{className:"interaction-attachment"},React.createElement("a",{className:"interaction-attachment-icon",onClick:this.triggerDownload},"Download ",a.original_name),React.createElement("div",{className:"interaction-attachment-title"},a.tag),React.createElement("a",{onClick:this.triggerDownload,className:"interaction-attachment-filename",alt:a.original_name},a.original_name),React.createElement("div",{className:"interaction-attachment-actions"},React.createElement("a",{onClick:this.triggerDownload,className:"interaction-attachment-download",alt:a.original_name},"download ",a.original_name))),React.createElement("div",{className:"interaction-meta"},"Uploaded by ",d," - ",r)))}})},"./app/scripts/containers/dashboard/messages/messageSidebar.jsx":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0
});var s=a("./node_modules/react-redux/lib/index.js"),o=a("./app/scripts/components/tabs/tabs.jsx"),r=n(o),i=a("./app/scripts/containers/dashboard/messages/messageTabContactCard.jsx"),c=n(i),l=a("./app/scripts/containers/dashboard/messages/messageTabNDA.jsx"),d=n(l),p=React.createClass({displayName:"MessagesSidebar",propTypes:{messages:React.PropTypes.object.isRequired},tabConfig:function(){var e=this.props.messages.is_owner,t=[{name:React.createElement("span",null,"Contact Details"),component:React.createElement(c["default"],null)}];return e&&t.push({name:React.createElement("span",null,"Send NDA"),component:React.createElement(d["default"],null)}),t},render:function(){var e=this.tabConfig();return React.createElement("div",{className:"messages-sidebar"},React.createElement(r["default"],{tabHeaderClass:"messages-header messages-sidebar-header",tabContentClass:"messages-sidebar-content",tabConfig:e}))}}),m=function(e){var t=e.messageThread;return{messages:t.messages}};t["default"]=(0,s.connect)(m)(p)},"./app/scripts/containers/dashboard/messages/messageTabContactCard.jsx":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a("./node_modules/react-redux/lib/index.js"),o=a("./app/scripts/store/events.js"),r=a("./app/scripts/config.js"),i=a("./node_modules/react-router/es6/index.js"),c=a("./app/scripts/components/legacyLink/legacyLink.jsx"),l=n(c),d=a("./app/scripts/components/profilePhoto/profilePhoto.jsx"),p=n(d),m=a("./app/scripts/components/bubbles/roleBubble.jsx"),u=n(m),h=a("./app/scripts/components/tags/tags.jsx"),f=a("./app/scripts/components/button/button.jsx"),g=n(f),b=a("./app/scripts/components/contactCard/contactDetail.jsx"),v=n(b),y=React.createClass({displayName:"MessagesTabContactCard",propTypes:{messages:React.PropTypes.object.isRequired},requestConnection:function(){var e=this.props.messages,t=e.thisUser,a=e.thatUser,n=e.id,s=e.is_owner;(0,o.eventPublish)(o.events.OPEN_CONNECTION_MODAL,{thisUser:t,thatUser:a,threadId:n,isOwner:s})},render:function(){var e=this.props.messages,t=e.thatUser,a=e.connected,n=e.requested,s=e.thatUserRequested,o=t.photo_url,c=t.first_name,d=t.last_name,m=t.role,f=t.city,b=t.state,y=t.country,R=t.capacity,E=t.contact_details,N=E||{},x=N.email,A=N.email_confirmed,M=N.phone,w=N.website,C="messages-contactDetails",P=!a&&React.createElement("div",{className:C},React.createElement(v["default"],{label:"Email",connected:a}),React.createElement(v["default"],{label:"Phone",connected:a})),S=A?React.createElement("div",{className:"userProfile-contactDetail-helper"},React.createElement("i",{className:"fa fa-check-circle","aria-hidden":"true"})," Verified"):React.createElement("div",{className:"userProfile-contactDetail-helper userProfile-contactDetail-helper--unverified"},"Not Yet Verified"),T=x&&React.createElement(v["default"],{label:"Email",connected:a},React.createElement(l["default"],{href:"mailto:"+x},x),S),O=M&&React.createElement(v["default"],{label:"Phone",connected:a},M),j=w&&React.createElement(v["default"],{label:"Website",connected:a},React.createElement(l["default"],{href:w,target:"_blank",prefix:!0},w)),I=a&&React.createElement("div",{className:C},T,O,j),_=n?"Connection Requested":"Request Connection";n&&s&&(_="Accept Connection Request");var k=n&&!s,D=!a&&React.createElement("div",{className:"messages-contactCard-button"},React.createElement(g["default"],{fullWidth:!0,onClick:this.requestConnection,disabled:k},_)),F=r.urls.profileUrl(t.id),U=a&&d;return React.createElement("div",{className:"messages-contactCard"},React.createElement("div",{className:"messages-contactCard-inner"},React.createElement("div",{className:"messages-contactCard-meta"},React.createElement(i.Link,{id:"analytics-messages-link-to-profile--avatar",to:F,className:"messages-contactCard-photo"},React.createElement(p["default"],{url:o})),React.createElement(i.Link,{id:"analytics-messages-link-to-profile--name",to:F},React.createElement("div",{className:"messages-contactCard-name"},c," ",U)),React.createElement(u["default"],{role:m,size:"small"}),React.createElement(h.LocationTag,{size:"small",city:f,state:b,country:y}),React.createElement(h.CapacityTag,{size:"small",capacity:R}),P,I)),D)}}),R=function(e){var t=e.messageThread;return{messages:t.messages}};t["default"]=(0,s.connect)(R)(y)},"./app/scripts/containers/dashboard/messages/messageTabNDA.jsx":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=a("./node_modules/react-redux/lib/index.js"),i=a("./app/scripts/store/actions.js"),c=s(i),l=a("./app/scripts/store/store.js"),d=n(l),p=a("./app/scripts/store/api.js"),m=a("./app/scripts/components/button/button.jsx"),u=n(m),h=a("./app/scripts/components/errors/apiError.jsx"),f=n(h),g=React.createClass({displayName:"MessagesTabNDA",propTypes:{messages:React.PropTypes.object.isRequired},getInitialState:function(){return{isSending:!1,sendError:!1}},sendNDA:function(){var e=this,t=this.props,a=t.messages,n=t.messages,s=n.job,o=n.nda,r=n.is_legacy,i=r?p.api.sendNDA(s.project.id,s.id,o.id):p.api.NDA(o.id);this.setState({isSending:!0,sendError:!1},function(){var t=Object.assign({},o,{status:"sent"});(0,p.patch)(i,t,function(t){var n=Object.assign({},a,{nda:t});d["default"].dispatch(c.messageThreadUpdate(n)),e.setState({isSending:!1})},function(t,a){a&&404===a.statusCode&&(window.location="/404/"),console.error(t),e.setState({sendError:a&&a.text||t,isSending:!1})})})},buttonIsDisabled:function(){var e=this.props.messages.nda,t=this.state.isSending;if(t)return!0;switch(e.status){case"signed":case"sent":return!0;default:return!1}},getButtonText:function(){var e=this.props.messages.nda,t=this.state.isSending;if(t)return"Sending NDA...";switch(e.status){case"signed":return"NDA Signed";case"sent":return"NDA Sent";default:return"Send NDA"}},render:function(){var e=this.props.messages.nda,t=this.state,a=t.isSending,n=t.sendError,s=this.getButtonText(),r=this.buttonIsDisabled()&&{disabled:!0},i="new"===e.status&&{onClick:this.sendNDA},c=n&&React.createElement(f["default"],{error:n});return React.createElement("div",{className:"messages-NDA"},React.createElement("h4",null,"Non-disclosure Agreement"),React.createElement("p",null,"Loom provides a simple non-disclosure agreement to protect both parties when discussing confidential priject details before engaging in a work contract."),React.createElement("p",null,"Note: sending the NDA will provide this freelancer access to any information you've included in your project's private tab."),c,React.createElement(u["default"],o({fullWidth:!0},i,r,{isLoading:a}),s))}}),b=function(e){var t=e.messageThread;return{messages:t.messages}};t["default"]=(0,r.connect)(b)(g)},"./app/scripts/containers/dashboard/messages/messageThread.jsx":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=a("./app/scripts/utils/analytics.js"),r=a("./node_modules/react-redux/lib/index.js"),i=a("./app/scripts/config.js"),c=a("./node_modules/moment/moment.js"),l=n(c),d=a("./app/scripts/containers/dashboard/messages/messageInteractions.jsx"),p=a("./app/scripts/containers/dashboard/messages/messageAlerts.jsx"),m=n(p),u=a("./app/scripts/containers/dashboard/messages/messageComposer.jsx"),h=n(u),f=React.createClass({displayName:"MessagesThread",propTypes:{messages:React.PropTypes.object.isRequired,apiError:React.PropTypes.any},getInitialState:function(){var e=this.props.messages.alerts;return{alerts:e}},componentWillReceiveProps:function(){var e=this.props.messages.alerts;this.setState({alerts:e})},componentDidMount:function(){this.scrollToLast()},scrollTo:function(e){e.scrollIntoViewIfNeeded()},scrollToLast:function(){var e=ReactDOM.findDOMNode(this.refs.lastInteraction);e&&this.scrollTo(e)},goToMessages:function(){var e=this.props.messages;(0,o.trackEvent)("Messages Header Back Button Clicked",{messages:e}),window.location="/dashboard/messages/inbox/"},render:function(){var e=this.props,t=e.messages,a=e.messages.current_user,n=e.apiError,o=this.state.alerts,r=t.interactions.map(function(e,n){var o=e.content,r=e.sender,c=e.timestamp,p=e.attachment,m=e.interactionType,u=a===r.id,h=i.urls.profileUrl(u?a:r.id),f=n===t.interactions.length-1&&{ref:"lastInteraction"},g=(0,l["default"])(c).format("MMM D, h:mm a"),b=s({senderAvatar:r.photo_url,isCurrentUser:u,senderName:r.first_name,profileUrl:h,formattedTime:g},f);return"message"===m?React.createElement(d.InteractionMessage,s({key:n,text:o},b)):"attachment"===m?React.createElement(d.InteractionAttachment,s({key:n,attachment:p},b)):void 0});return React.createElement("div",{className:"messages-thread"},React.createElement("div",{className:"messages-header messages-thread-header"},React.createElement("button",{className:"messages-thread-back",onClick:this.goToMessages},React.createElement("i",{className:"fa fa-angle-left","aria-hidden":"true"})," back"),React.createElement("div",{className:"messages-thread-header-text"},"Message with ",React.createElement("span",{className:"messages-thread-header-name"},t.thatUser.first_name))),React.createElement("div",{className:"messages-thread-inner"},React.createElement(m["default"],{messages:t,isProjectOwner:t.is_owner,alerts:o}),React.createElement("div",{className:"messages-interactions"},r)),React.createElement(h["default"],{scrollTo:this.scrollTo,scrollToLast:this.scrollToLast,apiError:n}))}}),g=function(e){var t=e.messageThread;return{messages:t.messages}};t["default"]=(0,r.connect)(g)(f)},"./app/scripts/containers/dashboard/messages/messages.jsx":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0});var o=a("./node_modules/react-redux/lib/index.js"),r=a("./app/scripts/store/actions.js"),i=s(r),c=a("./app/scripts/store/store.js"),l=n(c),d=a("./app/scripts/appliances/wrapper/wrapper.jsx"),p=n(d),m=a("./app/scripts/appliances/signNDAmodal/signNDAmodal.jsx"),u=n(m),h=a("./app/scripts/appliances/connectionModal/connectionModal.jsx"),f=n(h),g=a("./app/scripts/appliances/dashboardNav/dashboardNav.jsx"),b=n(g),v=a("./app/scripts/components/loader/loader.jsx"),y=n(v),R=a("./app/scripts/containers/dashboard/messages/messageThread.jsx"),E=n(R),N=a("./app/scripts/containers/dashboard/messages/messageSidebar.jsx"),x=n(N),A=React.createClass({displayName:"Messages",propTypes:{messages:React.PropTypes.object,user:React.PropTypes.object,params:React.PropTypes.object},getInitialState:function(){return{isLoading:!0,isFetching:!0,apiError:!1,threadNotFound:!1}},componentWillMount:function(){var e=this,t=this.props.params.threadId,a=parseInt(t);this.setState({threadId:a},function(){e.getMessages()}),document.body.classList.add("hideZendesk")},componentDidMount:function(){this.pollerId=setInterval(this.poller,1e4),this.shouldPoll=!0},componentWillUnmount:function(){document.body.classList.remove("hideZendesk"),clearInterval(this.pollerId),this.shouldPoll=!1,l["default"].dispatch(i.messageThreadLeave())},poller:function(){var e=this.state.isFetching;!e&&this.shouldPoll&&this.getMessages()},getMessages:function(){var e=this,t=this.state.threadId;this.setState({isFetching:!0},function(){l["default"].dispatch(i.fetchMessageThread(t,function(){e.setState({isLoading:!1,isFetching:!1,apiError:!1})},function(t,a){a&&404===a.statusCode&&(window.location="/404/"),console.error(t),e.setState({isLoading:!1,isFetching:!1,apiError:a&&a.text||t})}))})},render:function(){var e=this.props.messages,t=this.state,a=t.isLoading,n=t.apiError;return!e||a?React.createElement(y["default"],null):React.createElement(p["default"],{fullHeight:!0,showFooter:!1,fullScreenMobile:!0},React.createElement("div",{className:"messages-wrapper"},React.createElement(b["default"],{current:"messages"}),React.createElement("div",{className:"messages"},React.createElement(E["default"],{apiError:n}),React.createElement(x["default"],null))),React.createElement(u["default"],null),React.createElement(f["default"],null))}}),M=function(e){var t=e.auth,a=e.messageThread;return{user:t,messages:a.messages}};t["default"]=(0,o.connect)(M)(A)},"./app/scripts/store/events.js":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.eventPublish=t.eventUnsubscribe=t.eventSubscribe=t.events=void 0;var s=a("./node_modules/pubsub-js/src/pubsub.js"),o=n(s);t.events={OPEN_NDA_MODAL:"OPEN_NDA_MODAL",OPEN_CONNECTION_MODAL:"OPEN_CONNECTION_MODAL",OPEN_BID_MODAL:"OPEN_BID_MODAL"},t.eventSubscribe=function(e,t){return e&&t?o["default"].subscribe(e,t):(console.error("eventSubscribe expects two arguments, an event name and a callback"),!1)},t.eventUnsubscribe=function(e){return e?o["default"].unsubscribe(e):(console.error("eventUnsubscribe expects an event name argument"),!1)},t.eventPublish=function(e,t){return e?o["default"].publish(e,t):(console.error("eventPublish expects two arguments, an event name (required) and an event data object (optional)"),!1)}},"./node_modules/downloadjs/download.js":function(e,t,a){var n,s,o;!function(a,r){s=[],n=r,o="function"==typeof n?n.apply(t,s):n,!(void 0!==o&&(e.exports=o))}(this,function(){return function e(t,a,n){function s(e){var t=e.split(/[:;,]/),a=t[1],n="base64"==t[2]?atob:decodeURIComponent,s=n(t.pop()),o=s.length,r=0,i=new Uint8Array(o);for(r;r<o;++r)i[r]=s.charCodeAt(r);return new f([i],{type:a})}function o(e,t){if("download"in u)return u.href=e,u.setAttribute("download",g),u.className="download-js-link",u.innerHTML="downloading...",u.style.display="none",document.body.appendChild(u),setTimeout(function(){u.click(),document.body.removeChild(u),t===!0&&setTimeout(function(){c.URL.revokeObjectURL(u.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,l)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var a=document.createElement("iframe");document.body.appendChild(a),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,l)),a.src=e,setTimeout(function(){document.body.removeChild(a)},333)}var r,i,c=window,l="application/octet-stream",d=n||l,p=t,m=!a&&!n&&p,u=document.createElement("a"),h=function(e){return String(e)},f=c.Blob||c.MozBlob||c.WebKitBlob||h,g=a||"download";if(f=f.call?f.bind(c):Blob,"true"===String(this)&&(p=[p,d],d=p[0],p=p[1]),m&&m.length<2048&&(g=m.split("/").pop().split("?")[0],u.href=m,u.href.indexOf(m)!==-1)){var b=new XMLHttpRequest;return b.open("GET",m,!0),b.responseType="blob",b.onload=function(t){e(t.target.response,g,l)},setTimeout(function(){b.send()},0),b}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(p)){if(!(p.length>2096103.424&&f!==h))return navigator.msSaveBlob?navigator.msSaveBlob(s(p),g):o(p);p=s(p),d=p.type||l}else if(/([\x80-\xff])/.test(p)){var v=0,y=new Uint8Array(p.length),R=y.length;for(v;v<R;++v)y[v]=p.charCodeAt(v);p=new f([y],{type:d})}if(r=p instanceof f?p:new f([p],{type:d}),navigator.msSaveBlob)return navigator.msSaveBlob(r,g);if(c.URL)o(c.URL.createObjectURL(r),!0);else{if("string"==typeof r||r.constructor===h)try{return o("data:"+d+";base64,"+c.btoa(r))}catch(E){return o("data:"+d+","+encodeURIComponent(r))}i=new FileReader,i.onload=function(e){o(this.result)},i.readAsDataURL(r)}return!0}})},"./node_modules/platform/platform.js":function(e,t,a){(function(e,n){var s;(function(){"use strict";function o(e){return e=String(e),e.charAt(0).toUpperCase()+e.slice(1)}function r(e,t,a){var n={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&a&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(n=n[/[\d.]+$/.exec(e)])&&(e="Windows "+n),e=String(e),t&&a&&(e=e.replace(RegExp(t,"i"),a)),e=c(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}function i(e,t){var a=-1,n=e?e.length:0;if("number"==typeof n&&n>-1&&n<=N)for(;++a<n;)t(e[a],a,e);else l(e,t)}function c(e){return e=h(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:o(e)}function l(e,t){for(var a in e)w.call(e,a)&&t(e[a],a,e)}function d(e){return null==e?o(e):C.call(e).slice(8,-1)}function p(e,t){var a=null!=e?typeof e[t]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(a)||"object"==a&&!e[t])}function m(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function u(e,t){var a=null;return i(e,function(n,s){a=t(a,n,s,e)}),a}function h(e){return String(e).replace(/^ +| +$/g,"")}function f(e){function t(t){return u(t,function(t,a){return t||RegExp("\\b"+(a.pattern||m(a))+"\\b","i").exec(e)&&(a.label||a)})}function a(t){return u(t,function(t,a,n){return t||(a[K]||a[/^[a-z]+(?: +[a-z]+\b)*/i.exec(K)]||RegExp("\\b"+m(n)+"(?:\\b|\\w*\\d)","i").exec(e))&&n})}function n(t){return u(t,function(t,a){return t||RegExp("\\b"+(a.pattern||m(a))+"\\b","i").exec(e)&&(a.label||a)})}function s(t){return u(t,function(t,a){var n=a.pattern||m(a);return!t&&(t=RegExp("\\b"+n+"(?:/[\\d.]+|[ \\w.]*)","i").exec(e))&&(t=r(t,n,a.label||a)),t})}function o(t){return u(t,function(t,a){var n=a.pattern||m(a);return!t&&(t=RegExp("\\b"+n+" *\\d+[.\\w_]*","i").exec(e)||RegExp("\\b"+n+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(e))&&((t=String(a.label&&!RegExp(n,"i").test(a.label)?a.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),a=a.label||a,t=c(t[0].replace(RegExp(n,"i"),a).replace(RegExp("; *(?:"+a+"[_-])?","i")," ").replace(RegExp("("+a+")[-_.]?(\\w)","i"),"$1 $2"))),t})}function i(t){return u(t,function(t,a){return t||(RegExp(a+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(e)||0)[1]||null})}function g(){return this.description||""}var y=b,R=e&&"object"==typeof e&&"String"!=d(e);R&&(y=e,e=null);var E=y.navigator||{},N=E.userAgent||"";e||(e=N);var M,w,P=R||A==v,S=R?!!E.likeChrome:/\bChrome\b/.test(e)&&!/internal|\n/i.test(C.toString()),T="Object",O=R?T:"ScriptBridgingProxyObject",j=R?T:"Environment",I=R&&y.java?"JavaPackage":d(y.java),_=R?T:"RuntimeObject",k=/\bJava/.test(I)&&y.java,D=k&&d(y.environment)==j,F=k?"a":"α",U=k?"b":"β",L=y.document||{},q=y.operamini||y.opera,H=x.test(H=R&&q?q["[[Class]]"]:d(q))?H:q=null,W=e,B=[],z=null,Y=e==N,G=Y&&q&&"function"==typeof q.version&&q.version(),V=t([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),$=n(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt","SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),K=o([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation 3","PlayStation 4","PlayStation Vita","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),X=a({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{"PlayStation 4":1,"PlayStation 3":1,"PlayStation Vita":1}}),J=s(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);if(V&&(V=[V]),X&&!K&&(K=o([X])),(M=/\bGoogle TV\b/.exec(K))&&(K=M[0]),/\bSimulator\b/i.test(e)&&(K=(K?K+" ":"")+"Simulator"),"Opera Mini"==$&&/\bOPiOS\b/.test(e)&&B.push("running in Turbo/Uncompressed mode"),"IE"==$&&/\blike iPhone OS\b/.test(e)?(M=f(e.replace(/like iPhone OS/,"")),X=M.manufacturer,K=M.product):/^iP/.test(K)?($||($="Safari"),J="iOS"+((M=/ OS ([\d_]+)/i.exec(e))?" "+M[1].replace(/_/g,"."):"")):"Konqueror"!=$||/buntu/i.test(J)?X&&"Google"!=X&&(/Chrome/.test($)&&!/\bMobile Safari\b/i.test(e)||/\bVita\b/.test(K))||/\bAndroid\b/.test(J)&&/^Chrome/.test($)&&/\bVersion\//i.test(e)?($="Android Browser",J=/\bAndroid\b/.test(J)?J:"Android"):"Silk"==$?(/\bMobi/i.test(e)||(J="Android",B.unshift("desktop mode")),/Accelerated *= *true/i.test(e)&&B.unshift("accelerated")):"PaleMoon"==$&&(M=/\bFirefox\/([\d.]+)\b/.exec(e))?B.push("identifying as Firefox "+M[1]):"Firefox"==$&&(M=/\b(Mobile|Tablet|TV)\b/i.exec(e))?(J||(J="Firefox OS"),K||(K=M[1])):$&&!(M=!/\bMinefield\b/i.test(e)&&/\b(?:Firefox|Safari)\b/.exec($))||($&&!K&&/[\/,]|^[^(]+?\)/.test(e.slice(e.indexOf(M+"/")+8))&&($=null),(M=K||X||J)&&(K||X||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(J))&&($=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(J)?J:M)+" Browser")):J="Kubuntu",G||(G=i(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|Silk(?!/[\\d.]+$))","Version",m($),"(?:Firefox|Minefield|NetFront)"])),(M="iCab"==V&&parseFloat(G)>3&&"WebKit"||/\bOpera\b/.test($)&&(/\bOPR\b/.test(e)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&!/^(?:Trident|EdgeHTML)$/.test(V)&&"WebKit"||!V&&/\bMSIE\b/i.test(e)&&("Mac OS"==J?"Tasman":"Trident")||"WebKit"==V&&/\bPlayStation\b(?! Vita\b)/i.test($)&&"NetFront")&&(V=[M]),"IE"==$&&(M=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?($+=" Mobile",J="Windows Phone "+(/\+$/.test(M)?M:M+".x"),B.unshift("desktop mode")):/\bWPDesktop\b/i.test(e)?($="IE Mobile",J="Windows Phone 8.x",B.unshift("desktop mode"),G||(G=(/\brv:([\d.]+)/.exec(e)||0)[1])):"IE"!=$&&"Trident"==V&&(M=/\brv:([\d.]+)/.exec(e))&&($&&B.push("identifying as "+$+(G?" "+G:"")),$="IE",G=M[1]),Y){if(p(y,"global"))if(k&&(M=k.lang.System,W=M.getProperty("os.arch"),J=J||M.getProperty("os.name")+" "+M.getProperty("os.version")),P&&p(y,"system")&&(M=[y.system])[0]){J||(J=M[0].os||null);try{M[1]=y.require("ringo/engine").version,G=M[1].join("."),$="RingoJS"}catch(Z){M[0].global.system==y.system&&($="Narwhal")}}else"object"==typeof y.process&&!y.process.browser&&(M=y.process)?($="Node.js",W=M.arch,J=M.platform,G=/[\d.]+/.exec(M.version)[0]):D&&($="Rhino");else d(M=y.runtime)==O?($="Adobe AIR",J=M.flash.system.Capabilities.os):d(M=y.phantom)==_?($="PhantomJS",G=(M=M.version||null)&&M.major+"."+M.minor+"."+M.patch):"number"==typeof L.documentMode&&(M=/\bTrident\/(\d+)/i.exec(e))&&(G=[G,L.documentMode],(M=+M[1]+4)!=G[1]&&(B.push("IE "+G[1]+" mode"),V&&(V[1]=""),G[1]=M),G="IE"==$?String(G[1].toFixed(1)):G[0]);J=J&&c(J)}G&&(M=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(G)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+";"+(Y&&E.appMinorVersion))||/\bMinefield\b/i.test(e)&&"a")&&(z=/b/i.test(M)?"beta":"alpha",G=G.replace(RegExp(M+"\\+?$"),"")+("beta"==z?U:F)+(/\d+\+?/.exec(M)||"")),"Fennec"==$||"Firefox"==$&&/\b(?:Android|Firefox OS)\b/.test(J)?$="Firefox Mobile":"Maxthon"==$&&G?G=G.replace(/\.[\d.]+/,".x"):/\bXbox\b/i.test(K)?(J=null,"Xbox 360"==K&&/\bIEMobile\b/.test(e)&&B.unshift("mobile mode")):!/^(?:Chrome|IE|Opera)$/.test($)&&(!$||K||/Browser|Mobi/.test($))||"Windows CE"!=J&&!/Mobi/i.test(e)?"IE"==$&&Y&&null===y.external?B.unshift("platform preview"):(/\bBlackBerry\b/.test(K)||/\bBB10\b/.test(e))&&(M=(RegExp(K.replace(/ +/g," *")+"/([.\\d]+)","i").exec(e)||0)[1]||G)?(M=[M,/BB10/.test(e)],J=(M[1]?(K=null,X="BlackBerry"):"Device Software")+" "+M[0],G=null):this!=l&&"Wii"!=K&&(Y&&q||/Opera/.test($)&&/\b(?:MSIE|Firefox)\b/i.test(e)||"Firefox"==$&&/\bOS X (?:\d+\.){2,}/.test(J)||"IE"==$&&(J&&!/^Win/.test(J)&&G>5.5||/\bWindows XP\b/.test(J)&&G>8||8==G&&!/\bTrident\b/.test(e)))&&!x.test(M=f.call(l,e.replace(x,"")+";"))&&M.name&&(M="ing as "+M.name+((M=M.version)?" "+M:""),x.test($)?(/\bIE\b/.test(M)&&"Mac OS"==J&&(J=null),M="identify"+M):(M="mask"+M,$=H?c(H.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(M)&&(J=null),Y||(G=null)),V=["Presto"],B.push(M)):$+=" Mobile",(M=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1])&&(M=[parseFloat(M.replace(/\.(\d)$/,".0$1")),M],"Safari"==$&&"+"==M[1].slice(-1)?($="WebKit Nightly",z="alpha",G=M[1].slice(0,-1)):G!=M[1]&&G!=(M[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1])||(G=null),M[1]=(/\bChrome\/([\d.]+)/i.exec(e)||0)[1],537.36==M[0]&&537.36==M[2]&&parseFloat(M[1])>=28&&"WebKit"==V&&(V=["Blink"]),Y&&(S||M[1])?(V&&(V[1]="like Chrome"),M=M[1]||(M=M[0],M<530?1:M<532?2:M<532.05?3:M<533?4:M<534.03?5:M<534.07?6:M<534.1?7:M<534.13?8:M<534.16?9:M<534.24?10:M<534.3?11:M<535.01?12:M<535.02?"13+":M<535.07?15:M<535.11?16:M<535.19?17:M<536.05?18:M<536.1?19:M<537.01?20:M<537.11?"21+":M<537.13?23:M<537.18?24:M<537.24?25:M<537.36?26:"Blink"!=V?"27":"28")):(V&&(V[1]="like Safari"),M=M[0],M=M<400?1:M<500?2:M<526?3:M<533?4:M<534?"4+":M<535?5:M<537?6:M<538?7:M<601?8:"8"),V&&(V[1]+=" "+(M+="number"==typeof M?".x":/[.+]/.test(M)?"":"+")),"Safari"==$&&(!G||parseInt(G)>45)&&(G=M)),"Opera"==$&&(M=/\bzbov|zvav$/.exec(J))?($+=" ",B.unshift("desktop mode"),"zvav"==M?($+="Mini",G=null):$+="Mobile",J=J.replace(RegExp(" *"+M+"$"),"")):"Safari"==$&&/\bChrome\b/.exec(V&&V[1])&&(B.unshift("desktop mode"),$="Chrome Mobile",G=null,/\bOS X\b/.test(J)?(X="Apple",J="iOS 4.3+"):J=null),G&&0==G.indexOf(M=/[\d.]+$/.exec(J))&&e.indexOf("/"+M+"-")>-1&&(J=h(J.replace(M,""))),V&&!/\b(?:Avant|Nook)\b/.test($)&&(/Browser|Lunascape|Maxthon/.test($)||"Safari"!=$&&/^iOS/.test(J)&&/\bSafari\b/.test(V[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Sleipnir|Web)/.test($)&&V[1])&&(M=V[V.length-1])&&B.push(M),B.length&&(B=["("+B.join("; ")+")"]),X&&K&&K.indexOf(X)<0&&B.push("on "+X),K&&B.push((/^on /.test(B[B.length-1])?"":"on ")+K),J&&(M=/ ([\d.+]+)$/.exec(J),w=M&&"/"==J.charAt(J.length-M[0].length-1),J={architecture:32,family:M&&!w?J.replace(M[0],""):J,version:M?M[1]:null,toString:function(){var e=this.version;return this.family+(e&&!w?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(M=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(W))&&!/\bi686\b/i.test(W)?(J&&(J.architecture=64,J.family=J.family.replace(RegExp(" *"+M),"")),$&&(/\bWOW64\b/i.test(e)||Y&&/\w(?:86|32)$/.test(E.cpuClass||E.platform)&&!/\bWin64; x64\b/i.test(e))&&B.unshift("32-bit")):J&&/^OS X/.test(J.family)&&"Chrome"==$&&parseFloat(G)>=39&&(J.architecture=64),e||(e=null);var Q={};return Q.description=e,Q.layout=V&&V[0],Q.manufacturer=X,Q.name=$,Q.prerelease=z,Q.product=K,Q.ua=e,Q.version=$&&G,Q.os=J||{architecture:null,family:null,version:null,toString:function(){return"null"}},Q.parse=f,Q.toString=g,Q.version&&B.unshift(G),Q.name&&B.unshift($),J&&$&&(J!=String(J).split(" ")[0]||J!=$.split(" ")[0]&&!K)&&B.push(K?"("+J+")":"on "+J),B.length&&(Q.description=B.join(" ")),Q}var g={"function":!0,object:!0},b=g[typeof window]&&window||this,v=b,y=g[typeof t]&&t,R=g[typeof e]&&e&&!e.nodeType&&e,E=y&&R&&"object"==typeof n&&n;!E||E.global!==E&&E.window!==E&&E.self!==E||(b=E);var N=Math.pow(2,53)-1,x=/\bOpera/,A=this,M=Object.prototype,w=M.hasOwnProperty,C=M.toString,P=f();b.platform=P,s=function(){return P}.call(t,a,t,e),!(void 0!==s&&(e.exports=s))}).call(this)}).call(t,a("./node_modules/webpack/buildin/module.js")(e),a("./node_modules/webpack/buildin/global.js"))},"./node_modules/react-textarea-autosize/lib/TextareaAutosize.js":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e){return window.requestAnimationFrame?window.requestAnimationFrame(e):window.setTimeout(e,1)}function l(e){window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.clearTimeout(e)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var d,p,m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=a("./node_modules/react/react.js"),g=n(f),b=a("./node_modules/react-textarea-autosize/lib/calculateNodeHeight.js"),v=n(b),y=function(){},R=(p=d=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={height:null,minHeight:-(1/0),maxHeight:1/0},a._onNextFrameActionId=null,a._rootDOMNode=null,a._onChange=a._onChange.bind(a),a._resizeComponent=a._resizeComponent.bind(a),a._onRootDOMNode=a._onRootDOMNode.bind(a),a}return i(t,e),h(t,[{key:"render",value:function(){var e=this.props,t=e.valueLink,a=(e.minRows,e.maxRows,e.onHeightChange,e.useCacheForDOMMeasurements,s(e,["valueLink","minRows","maxRows","onHeightChange","useCacheForDOMMeasurements"]));"object"===("undefined"==typeof t?"undefined":u(t))&&(a.value=t.value),a.style=m({},a.style,{height:this.state.height||0});var n=Math.max(a.style.maxHeight?a.style.maxHeight:1/0,this.state.maxHeight);return n<this.state.height&&(a.style.overflow="hidden"),g["default"].createElement("textarea",m({},a,{onChange:this._onChange,ref:this._onRootDOMNode}))}},{key:"componentDidMount",value:function(){this._resizeComponent(),window.addEventListener("resize",this._resizeComponent);
}},{key:"componentWillReceiveProps",value:function(){this._clearNextFrame(),this._onNextFrameActionId=c(this._resizeComponent)}},{key:"componentDidUpdate",value:function(e,t){this.state.height!==t.height&&this.props.onHeightChange(this.state.height)}},{key:"componentWillUnmount",value:function(){this._clearNextFrame(),window.removeEventListener("resize",this._resizeComponent)}},{key:"_clearNextFrame",value:function(){this._onNextFrameActionId&&l(this._onNextFrameActionId)}},{key:"_onRootDOMNode",value:function(e){this._rootDOMNode=e}},{key:"_onChange",value:function(e){this._resizeComponent();var t=this.props,a=t.valueLink,n=t.onChange;a?a.requestChange(e.target.value):n(e)}},{key:"_resizeComponent",value:function(){var e=this.props.useCacheForDOMMeasurements;this.setState((0,v["default"])(this._rootDOMNode,e,this.props.rows||this.props.minRows,this.props.maxRows))}},{key:"focus",value:function(){this._rootDOMNode.focus()}},{key:"blur",value:function(){this._rootDOMNode.blur()}},{key:"value",get:function(){return this._rootDOMNode.value},set:function(e){this._rootDOMNode.value=e}},{key:"selectionStart",get:function(){return this._rootDOMNode.selectionStart},set:function(e){this._rootDOMNode.selectionStart=e}},{key:"selectionEnd",get:function(){return this._rootDOMNode.selectionEnd},set:function(e){this._rootDOMNode.selectionEnd=e}}]),t}(g["default"].Component),d.propTypes={value:g["default"].PropTypes.string,onChange:g["default"].PropTypes.func,onHeightChange:g["default"].PropTypes.func,useCacheForDOMMeasurements:g["default"].PropTypes.bool,rows:g["default"].PropTypes.number,minRows:g["default"].PropTypes.number,maxRows:g["default"].PropTypes.number},d.defaultProps={onChange:y,onHeightChange:y,useCacheForDOMMeasurements:!1},p);t["default"]=R},"./node_modules/react-textarea-autosize/lib/calculateNodeHeight.js":function(e,t){"use strict";function a(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],a=arguments.length<=2||void 0===arguments[2]?null:arguments[2],o=arguments.length<=3||void 0===arguments[3]?null:arguments[3];i||(i=document.createElement("textarea"),document.body.appendChild(i));var r=n(e,t),c=r.paddingSize,l=r.borderSize,d=r.boxSizing,p=r.sizingStyle;i.setAttribute("style",p+";"+s),i.value=e.value||e.placeholder||"x";var m=-(1/0),u=1/0,h=i.scrollHeight;if("border-box"===d?h+=l:"content-box"===d&&(h-=c),null!==a||null!==o){i.value="x";var f=i.scrollHeight-c;null!==a&&(m=f*a,"border-box"===d&&(m=m+c+l),h=Math.max(m,h)),null!==o&&(u=f*o,"border-box"===d&&(u=u+c+l),h=Math.min(u,h))}return{height:h,minHeight:m,maxHeight:u}}function n(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],a=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&r[a])return r[a];var n=window.getComputedStyle(e),s=n.getPropertyValue("box-sizing")||n.getPropertyValue("-moz-box-sizing")||n.getPropertyValue("-webkit-box-sizing"),i=parseFloat(n.getPropertyValue("padding-bottom"))+parseFloat(n.getPropertyValue("padding-top")),c=parseFloat(n.getPropertyValue("border-bottom-width"))+parseFloat(n.getPropertyValue("border-top-width")),l=o.map(function(e){return e+":"+n.getPropertyValue(e)}).join(";"),d={sizingStyle:l,paddingSize:i,borderSize:c,boxSizing:s};return t&&a&&(r[a]=d),d}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var s="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",o=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"],r={},i=void 0}});
webpackJsonp([3],{"./app/scripts/containers/onboarding/components/about/styles.scss":function(e,t){},"./app/scripts/containers/onboarding/components/company/styles.scss":function(e,t){},"./app/scripts/containers/onboarding/components/employment/styles.scss":function(e,t){},"./app/scripts/containers/onboarding/components/profile/styles.scss":function(e,t){},"./app/scripts/containers/onboarding/components/role/styles.scss":function(e,t){},"./app/scripts/containers/onboarding/components/skills/styles.scss":function(e,t){},"./app/scripts/containers/onboarding/components/terms/styles.scss":function(e,t){},"./app/scripts/containers/onboarding/index.js":function(e,t,n){"use strict";function o(e,t){return function(n){return n(M.h()),Object(J.e)(e,t,"PATCH").then(function(e){if(e.status>200)throw new Error;return e.json()}).then(function(e){return n(M.i(e)),e}).catch(function(e){throw n(M.g(e)),new I.d({_error:"Unknown error"})})}}function r(e,t){return function(n){return n(M.h()),Object(J.f)(e,t,"PATCH").then(function(e){if(e.status>200&&400!==e.status)throw new Error(JSON.stringify({status:e.status}));return 400===e.status?e.json().then(function(t){throw new Error(JSON.stringify(V({status:e.status},t)))}):e.json()}).then(function(e){return n(M.i(e)),e}).catch(function(e){var t=(e.status,e.message),o=t&&JSON.parse(t),r={};if(o&&400===o.status)for(var a in o)r[a]=o[a][0];else o&&o.status>=500&&(r._error="An unexpected error occurred. Please try again later.");throw n(M.g(r)),new I.d(r)})}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function R(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function v(e){return function(t){return t(Te.d()),we.a(e).then(function(e){if(e.status>201)throw new Error;return e.json()}).then(function(e){return t(Te.e(e)),e}).catch(function(e){throw t(Te.c(e)),new I.d({_error:"Unknown error"})})}}function j(e,t){return function(n){return n(Te.g()),we.c(e,t).then(function(e){if(e.status>200)throw new Error;return e.json()}).then(function(e){return n(Te.h(e)),e}).catch(function(e){throw n(Te.f(e)),new I.d({_error:"Unknown error"})})}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function L(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var P=n("./node_modules/react-redux/es/index.js"),H=n("./node_modules/react-router-dom/es/index.js"),N=n("./app/scripts/appliances/header/header.jsx"),U=n("./app/scripts/components/loader/loader.jsx"),Y=n("./app/scripts/containers/settings/account/actions/api.js"),M=n("./app/scripts/containers/onboarding/actions/index.js"),I=(n("./app/scripts/containers/onboarding/utils/index.js"),n("./node_modules/redux-form/es/index.js")),q=n("./app/scripts/components/button/button.jsx"),F=n("./app/scripts/features/forms/biography/index.js"),J=n("./app/scripts/api/account/index.js"),V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},B=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"updateUserAccount","/Users/will/development/loom/market-ui/app/scripts/containers/onboarding/actions/api.js"),__REACT_HOT_LOADER__.register(r,"updateUserAccountPhoto","/Users/will/development/loom/market-ui/app/scripts/containers/onboarding/actions/api.js"))}(),n("./app/scripts/containers/onboarding/components/about/styles.scss"),function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}()),z=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),B(t,[{key:"handleSubmit",value:function(){this.props.dispatch(Object(I.p)("about"))}},{key:"saveBiography",value:function(e){var t=this.props.user,n=t.user_id,r=t.username;return this.props.dispatch(o(n,{username:r,long_description:e.biography}))}},{key:"render",value:function(){var e=this.props,t=e.profile,n=e.isSubmitting,o=t.account.roles.length>0;return React.createElement("div",{className:"aboutme-onboard-container"},React.createElement("h2",null,"Tell us more about yourself"),o?React.createElement("p",null,'Share details about yourself, your professional experience and the types of projects you want to find on Loom. This will appear in the "about me" section of your profile.'):React.createElement("p",null,'Share details about yourself, your professional experience and the types of freelancers you are looking for on Loom. This will appear in the "about me" section of your profile.'),React.createElement(F.a,{initialValues:{biography:t.account.long_description||"",skills:t.account.skills,roles:t.account.roles},onSubmit:this.saveBiography.bind(this)}),React.createElement("div",{className:"about-form-footer"},React.createElement(q.a,{pretty:!0,type:"button",isLoading:n,disabled:n,onClick:this.handleSubmit.bind(this)},"Save and continue")))}}]),t}(React.Component),W=Object(P.b)(function(e){return{user:e.auth,profile:e.settings.profile,isSubmitting:Object(I.m)("about")(e)}})(z),G=W,K=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(z,"AboutMe","/Users/will/development/loom/market-ui/app/scripts/containers/onboarding/components/about/index.js"),__REACT_HOT_LOADER__.register(W,"default","/Users/will/development/loom/market-ui/app/scripts/containers/onboarding/components/about/index.js"))}(),n("./app/scripts/features/forms/roles/index.js")),Q=(n("./app/scripts/containers/onboarding/components/role/styles.scss"),function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}()),X=function(e){function t(){return c(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),Q(t,[{key:"handleSubmit",value:function(){this.props.dispatch(Object(I.p)("roles"))}},{key:"saveRoles",value:function(e){var t=this.props.user,n=t.user_id,r=t.username;return this.props.dispatch(o(n,{username:r,roles:e.roles}))}},{key:"render",value:function(){var e=this.props,t=e.profile,n=e.isSubmitting,o=t.account.roles.length?t.account.roles.map(function(e){return e.category||(e.category="development"),e}):[{name:"",category:"development",years:null}];return React.createElement("div",{className:"role-onboard-container"},React.createElement("h2",null,"Select a professional title (up to 3)"),React.createElement("p",null,"Titles are displayed on your profile and help us recommend relevant projects for you"),React.createElement(K.a,{initialValues:{roles:o},onSubmit:this.saveRoles.bind(this)}),React.createElement("p",{className:"roles-details"},"Loom currently supports design and web development freelancers. If you're not a developer but are interested in freelancing on Loom, shoot an email to ",React.createElement("a",{href:"mailto:info@loom.co"},"info@loom.co")," and let us know!"),React.createElement("div",{className:"role-form-footer"},React.createElement(q.a,{pretty:!0,type:"button",isLoading:n,disabled:n,onClick:this.handleSubmit.bind(this)},"Save and continue")))}}]),t}(React.Component),Z=Object(P.b)(function(e){return{user:e.auth,profile:e.settings.profile,isSubmitting:Object(I.m)("roles")(e)}})(X),$=Z,ee=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(X,"Roles","/Users/will/development/loom/market-ui/app/scripts/containers/onboarding/components/role/index.js"),__REACT_HOT_LOADER__.register(Z,"default","/Users/will/development/loom/market-ui/app/scripts/containers/onboarding/components/role/index.js"))}(),n("./app/scripts/features/forms/skills/index.js")),te=(n("./app/scripts/containers/onboarding/components/skills/styles.scss"),function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}()),ne=function(e){function t(){return u(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,e),te(t,[{key:"handleSubmit",value:function(){this.props.dispatch(Object(I.p)("skills"))}},{key:"saveSkills",value:function(e){var t=this.props.user,n=t.user_id,r=t.username,a=e.skills.map(function(e){return{name:e.name}});return this.props.dispatch(o(n,{username:r,skills:a}))}},{key:"render",value:function(){var e=this.props,t=e.profile,n=e.isSubmitting;return React.createElement("div",{className:"skills-onboard-container"},React.createElement("h2",null,"Choose your skills (up to 10)"),React.createElement("p",null,"We use this info to recommend projects hiring freelancers with your skillset."),React.createElement(ee.a,{initialValues:{skills:t.account.skills},onSubmit:this.saveSkills.bind(this)}),React.createElement("div",{className:"skills-form-footer"},React.createElement(q.a,{pretty:!0,type:"button",isLoading:n,disabled:n,onClick:this.handleSubmit.bind(this)},"Save and continue")))}}]),t}(React.Component),oe=Object(P.b)(function(e){return{user:e.auth,profile:e.settings.profile,isSubmitting:Object(I.m)("skills")(e)}})(ne),re=oe,ae=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(ne,"Skills","/Users/will/development/loom/market-ui/app/scripts/containers/onboarding/components/skills/index.js"),__REACT_HOT_LOADER__.register(oe,"default","/Users/will/development/loom/market-ui/app/scripts/containers/onboarding/components/skills/index.js"))}(),n("./app/scripts/features/forms/profilePhoto/index.js")),ie=(n("./app/scripts/utils/formUtils.js"),n("./app/scripts/containers/onboarding/components/profile/styles.scss"),function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}()),se=function(e){function t(){return d(this,t),_(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),ie(t,[{key:"handleSubmit",value:function(){this.props.dispatch(Object(I.p)("profilePhoto"))}},{key:"saveProfilePhoto",value:function(e){var t=this.props.user,n=t.user_id,o=t.username;if("string"!=typeof e.photo){var a=new FormData;return a.append("photo",e.photo,e.photo.name),this.props.dispatch(r(n,{username:o,photo:a}))}return this.props.dispatch(Object(M.j)())}},{key:"render",value:function(){var e=this.props,t=e.profile,n=e.isSubmitting;return React.createElement("div",{className:"profile-onboard-container"},React.createElement("h2",null,"Upload a profile photo"),React.createElement(ae.a,{initialValues:{photo:t.account.photo_url},onSubmit:this.saveProfilePhoto.bind(this)}),React.createElement("div",{className:"profile-onboard-footer"},React.createElement(q.a,{pretty:!0,type:"button",isLoading:n,disabled:n,onClick:this.handleSubmit.bind(this)},"Save and continue")))}}]),t}(React.Component),ce=Object(P.b)(function(e){return{user:e.auth,profile:e.settings.profile,isSubmitting:Object(I.m)("profilePhoto")(e)}})(se),pe=ce,le=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(se,"ProfileOnboard","/Users/will/development/loom/market-ui/app/scripts/containers/onboarding/components/profile/index.js"),__REACT_HOT_LOADER__.register(ce,"default","/Users/will/development/loom/market-ui/app/scripts/containers/onboarding/components/profile/index.js"))}(),n("./app/scripts/features/forms/terms/components/termsField/index.js")),ue=n("./app/scripts/components/errors/errors.js"),fe=function(e){var t={};return e.tos||(t.tos="You must agree to the terms before continuing."),t},me=fe,de=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(fe,"default","/Users/will/development/loom/market-ui/app/scripts/features/forms/terms/validation.js")}(),n("./app/scripts/features/forms/terms/styles.scss"),function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}()),_e=function(e){function t(){return y(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,e),de(t,[{key:"render",value:function(){var e=this.props,t=e.error,n=e.submitting,o=e.submitFailed;return React.createElement("form",{className:"terms-form"},React.createElement("div",{className:"field-set"},React.createElement(le.a,{name:"tos",disabled:n})),o&&t&&React.createElement("div",{className:"field-set"},React.createElement(ue.a,{error:t})))}}]),t}(React.Component),he=Object(I.o)({form:"terms",validate:me,asyncValidating:!1})(_e),ye=he,be=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(_e,"TermsForm","/Users/will/development/loom/market-ui/app/scripts/features/forms/terms/index.js"),__REACT_HOT_LOADER__.register(he,"default","/Users/will/development/loom/market-ui/app/scripts/features/forms/terms/index.js"))}(),n("./app/scripts/containers/onboarding/components/terms/styles.scss"),function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}()),ge=function(e){function t(){return E(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return R(t,e),be(t,[{key:"handleSubmit",value:function(){this.props.dispatch(Object(I.p)("terms"))}},{key:"saveAcceptedTerms",value:function(e){var t=this.props.profile,n=this.props.user,r=n.user_id,a=n.username;return e.tos&&window.fbq&&(t.account.roles&&t.account.roles.length>0?window.fbq("track","CompleteRegistration",{value:"freelancer"}):window.fbq("track","CompleteRegistration",{value:"entrepreneur"})),this.props.dispatch(o(r,{username:a,tos:e.tos}))}},{key:"render",value:function(){var e=this.props,t=e.profile,n=e.isSubmitting,o=t.account.roles.length>0;return React.createElement("div",{className:"terms-onboard-container"},React.createElement("h2",null,"Acknowledgement of key account terms"),o?React.createElement("ul",{className:"terms-list"},React.createElement("li",null,"If I am hired for a project found on Loom, I will invoice and receive all cash payments through Loomâ€™s secure payment system."),React.createElement("li",null,"I understand Loom will take a 10% service fee from all cash payments I receive through the Loom website."),React.createElement("li",null,"If I am hired for a full-time role by a company on Loom, I will make Loom aware of the hire so my company can pay the appropriate service fee associated with my hiring.")):React.createElement("ul",{className:"terms-list"},React.createElement("li",null,"I agree to make all cash payments to freelancers hired on Loom through Loom's secure payment system."),React.createElement("li",null,"If I hire a Loom freelancer for a full-time role, either through a freelance project or directly, I will pay Loom a placement fee equalling 10% of the employee's first-year salary as a recruiting fee.")),React.createElement(ye,{onSubmit:this.saveAcceptedTerms.bind(this)}),React.createElement("div",{className:"agreement-form-footer"},React.createElement(q.a,{pretty:!0,type:"button",isLoading:n,disabled:n,onClick:this.handleSubmit.bind(this)},"Continue")))}}]),t}(React.Component),Ee=Object(P.b)(function(e){return{user:e.auth,profile:e.settings.profile,isSubmitting:Object(I.m)("terms")(e)}})(ge),Oe=Ee,Re=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(ge,"Terms","/Users/will/development/loom/market-ui/app/scripts/containers/onboarding/components/terms/index.js"),__REACT_HOT_LOADER__.register(Ee,"default","/Users/will/development/loom/market-ui/app/scripts/containers/onboarding/components/terms/index.js"))}(),n("./node_modules/moment/moment.js")),ve=n.n(Re),je=n("./app/scripts/features/forms/employmentHistory/index.js"),we=n("./app/scripts/api/employee/index.js"),Te=n("./app/scripts/containers/onboarding/components/employment/actions/index.js"),ke=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(v,"createEmploymentHistory","/Users/will/development/loom/market-ui/app/scripts/containers/onboarding/components/employment/actions/api.js"),__REACT_HOT_LOADER__.register(j,"updateEmploymentHistory","/Users/will/development/loom/market-ui/app/scripts/containers/onboarding/components/employment/actions/api.js"))}(),n("./app/scripts/containers/onboarding/components/employment/styles.scss"),function(){function e(e,t){var n=[],o=!0,r=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(o=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){r=!0,a=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()),Ae=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),Ce=function(e){function t(){return w(this,t),T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),Ae(t,[{key:"handleSubmit",value:function(){this.props.dispatch(Object(I.p)("employment"))}},{key:"goToNextStep",value:function(){this.props.dispatch(Object(M.j)())}},{key:"saveEmploymentHistory",value:function(e){var t=e.work_history,n=ke(t,1),o=n[0],r=o.id,a=o.company_name,i=o.title,s=o.description,c=o.current,p=o.city,l=o.state,u=o.country,f=o.startDateMonth,m=o.startDateYear,d=o.endDateMonth,_=o.endDateYear,h=this.props.user,y=h.user_id,b=(h.username,ve()().year(m).month(f-1).date(1).format("YYYY-MM-DD")),g={profile:y,company_name:a,title:i,description:s,current:c,start_date:b,city:p,state:l,country:u};return c||(g.end_date=ve()().year(_).month(d-1).date(1).format("YYYY-MM-DD")),r?this.props.dispatch(j(r,g)):this.props.dispatch(v(g))}},{key:"render",value:function(){var e=this.props,t=e.profile,n=e.isSubmitting,o=void 0;return o=t.account.work_history&&t.account.work_history.length?t.account.work_history.slice(0,1).map(function(e){return{id:e.id,company_name:e.company.name||"",title:e.title||"",description:e.description||"",current:Boolean(e.current),location:e?[e.city,e.state,e.country].filter(function(e){return e}).join(", "):"",startDateMonth:e.start_date?ve()(e.start_date,"YYYY-MM-DD").month()+1:"",startDateYear:e.start_date?ve()(e.start_date,"YYYY-MM-DD").year():"",endDateMonth:e.end_date?ve()(e.end_date,"YYYY-MM-DD").month()+1:"",endDateYear:e.end_date?ve()(e.end_date,"YYYY-MM-DD").year():""}}):[{company_name:"",title:"",description:"",current:!1,startDateMonth:"",startDateYear:"",endDateMonth:"",endDateYear:""}],React.createElement("div",{className:"employment-onboard-container"},React.createElement("h2",null,"Tell us about your most recent work experience"),React.createElement(je.a,{initialValues:{work_history:o},onSubmit:this.saveEmploymentHistory.bind(this)}),React.createElement("span",{className:"skip-step",onClick:this.goToNextStep.bind(this)},"I'll add employment history to my profile later ",React.createElement("i",{className:"material-icons"},"arrow_forward")),React.createElement("div",{className:"employment-form-footer"},React.createElement(q.a,{pretty:!0,type:"button",isLoading:n,disabled:n,onClick:this.handleSubmit.bind(this)},"Save and continue")))}}]),t}(React.Component),xe=Object(P.b)(function(e){return{user:e.auth,profile:e.settings.profile,isSubmitting:Object(I.m)("employment")(e)}})(Ce),De=xe,Se=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Ce,"EmploymentHistory","/Users/will/development/loom/market-ui/app/scripts/containers/onboarding/components/employment/index.js"),__REACT_HOT_LOADER__.register(xe,"default","/Users/will/development/loom/market-ui/app/scripts/containers/onboarding/components/employment/index.js"))}(),n("./app/scripts/features/forms/company/index.js")),Le=n("./app/scripts/containers/settings/company/actions/api.js"),Pe=(n("./app/scripts/containers/onboarding/components/company/styles.scss"),function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}()),He=function(e){function t(){return A(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return x(t,e),Pe(t,[{key:"handleSubmit",value:function(){this.props.dispatch(Object(I.p)("companySettings"))}},{key:"goToNextStep",value:function(){this.props.dispatch(Object(M.j)())}},{key:"saveCompany",value:function(e){var t=this.props.user.user_id,n=e.incorporation_date?ve()(e.incorporation_date).format("YYYY-MM-DD"):"",o=Object.assign({},e,{user_id:t,incorporation_date:n});return e.id?this.props.dispatch(Object(Le.c)(e.id,o)):this.props.dispatch(Object(Le.a)(o))}},{key:"render",value:function(){var e=this.props,t=e.company,n=e.isSubmitting,o=Object.values({city:t.details.city,state:t.details.state,country:t.details.country}).filter(function(e){return e}).join(", ");return React.createElement("div",{className:"company-onboard-container"},React.createElement("h2",null,"Add your company"),React.createElement("span",{className:"skip-step",onClick:this.goToNextStep.bind(this)},"I don't have a company yet. Skip this step for now ",React.createElement("i",{className:"material-icons"},"arrow_forward")),React.createElement(Se.a,{initialValues:Object.assign({},t.details,{location:o}),onSubmit:this.saveCompany.bind(this)}),React.createElement("div",{className:"company-form-footer"},React.createElement(q.a,{pretty:!0,type:"button",isLoading:n,disabled:n,onClick:this.handleSubmit.bind(this)},"Save and continue")))}}]),t}(React.Component),Ne=Object(P.b)(function(e){return{user:e.auth,company:e.settings.company,isSubmitting:Object(I.m)("companySettings")(e)}})(He),Ue=Ne,Ye=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(He,"CompanyOnboard","/Users/will/development/loom/market-ui/app/scripts/containers/onboarding/components/company/index.js"),__REACT_HOT_LOADER__.register(Ne,"default","/Users/will/development/loom/market-ui/app/scripts/containers/onboarding/components/company/index.js"))}(),function(e){var t=e.match.path;return React.createElement(H.f,null,React.createElement(H.e,{path:t+"/role",component:$}),React.createElement(H.e,{path:t+"/skills",component:re}),React.createElement(H.e,{path:t+"/profile",component:pe}),React.createElement(H.e,{path:t+"/about",component:G}),React.createElement(H.e,{path:t+"/employment",component:De}),React.createElement(H.e,{path:t+"/company",component:Ue}),React.createElement(H.e,{path:t+"/terms",component:Oe}))}),Me=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(Ye,"routes","/Users/will/development/loom/market-ui/app/scripts/containers/onboarding/routes.js")}(),n("./app/scripts/containers/onboarding/styles.scss"),function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}()),Ie=function(e){function t(){return D(this,t),S(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return L(t,e),Me(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.user;e.profile.account.id||this.props.dispatch(Object(Y.a)(t.user_id))}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.onboarding,o=t.location,r=e.onboarding,a=e.location;if(n.step!==r.step)this.goToRequiredRoute(e.onboarding);else if(r.isComplete)this.goToRequiredRoute(e.onboarding);else if(o!==a){var i=e.onboarding.steps.indexOf(a.pathname);this.props.dispatch(Object(M.k)(i))}}},{key:"goToRequiredRoute",value:function(e){var t=e.step,n=e.steps,o=e.isComplete,r=this.props.profile;!o&&n[t]?this.props.history.push(n[t]):r.account.roles&&r.account.roles.length?window.location="/profile":r.account.roles&&!r.account.roles.length?window.location="/profile/dashboard/entrepreneur/":window.location="/profile/dashboard/"}},{key:"render",value:function(){var e=this.props,t=e.profile,n=e.onboarding;return React.createElement("div",{className:"onboarding-container"},React.createElement("div",{className:"sticky-header"},React.createElement(N.a,{showNavigation:!1}),React.createElement("div",{className:"progress-bar"},React.createElement("div",{style:{width:n.progress+"%"}}))),React.createElement("div",{className:"onboarding-content"},t.isFetching&&React.createElement(U.a,null),!t.isFetching&&t.account.id&&Ye(this.props)))}}]),t}(React.Component),qe=Object(H.g)(Object(P.b)(function(e){return{user:e.auth,profile:e.settings.profile,onboarding:e.onboarding}})(Ie));t.default=qe,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Ie,"Onboarding","/Users/will/development/loom/market-ui/app/scripts/containers/onboarding/index.js"),__REACT_HOT_LOADER__.register(qe,"default","/Users/will/development/loom/market-ui/app/scripts/containers/onboarding/index.js"))}()},"./app/scripts/containers/onboarding/styles.scss":function(e,t){},"./app/scripts/containers/settings/account/actions/api.js":function(e,t,n){"use strict";function o(e){return function(t){return t(c.u()),Object(s.b)(e).then(function(e){if(e.status>200)throw new Error;return e.json()}).then(function(e){return t(c.v(e)),e}).catch(function(e){t(c.t(e))})}}function r(e,t){return function(n){return n(c.o()),Object(s.e)(e,t).then(function(e){if(e.status>200)throw new Error(JSON.stringify({status:e.status}));return e.json()}).then(function(e){return n(c.p(e)),e}).catch(function(e){var t=(e.status,e.message),o=t&&JSON.parse(t),r={};throw o&&403===o.status&&(r.current_password="Password is incorrect."),n(c.n(r)),new i.d(r)})}}function a(e,t){return function(n){return n(c.r()),Object(s.e)(e,t).then(function(e){if(e.status>200)throw new Error;return e.json()}).then(function(e){return n(c.s(e)),e}).catch(function(e){n(c.q(e))})}}t.a=o,t.b=r,t.c=a;var i=n("./node_modules/redux-form/es/index.js"),s=n("./app/scripts/api/account/index.js"),c=n("./app/scripts/containers/settings/account/actions/index.js");!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"fetchUserAccount","/Users/will/development/loom/market-ui/app/scripts/containers/settings/account/actions/api.js"),__REACT_HOT_LOADER__.register(r,"updateUserEmail","/Users/will/development/loom/market-ui/app/scripts/containers/settings/account/actions/api.js"),__REACT_HOT_LOADER__.register(a,"updateUserNotifications","/Users/will/development/loom/market-ui/app/scripts/containers/settings/account/actions/api.js"))}()},"./app/scripts/containers/settings/company/actions/api.js":function(e,t,n){"use strict";function o(e){return function(t){return t(c.p()),Object(s.b)(e).then(function(e){if(e.status>200)throw new Error;return e.json()}).then(function(e){return t(c.q(e)),e}).catch(function(e){t(c.o(e))})}}function r(e){return function(t){return t(c.m()),Object(s.a)(e).then(function(e){if(e.status>201&&400!==e.status)throw new Error(JSON.stringify({status:e.status}));return 400===e.status?e.json().then(function(t){throw new Error(JSON.stringify(p({status:e.status},t)))}):e.json()}).then(function(e){return t(c.n(e)),e}).catch(function(e){var n=(e.status,e.message),o=n&&JSON.parse(n),r={};if(o&&400===o.status)for(var a in o)r[a]=o[a][0];else o&&o.status>=500&&(r._error="An unexpected error occurred. Please try again later.");throw t(c.l(r)),new i.d(r)})}}function a(e,t){return function(n){return n(c.s()),Object(s.c)(e,t).then(function(e){if(e.status>200&&400!==e.status)throw new Error(JSON.stringify({status:e.status}));return 400===e.status?e.json().then(function(t){throw new Error(JSON.stringify(p({status:e.status},t)))}):e.json()}).then(function(e){return n(c.t(e)),e}).catch(function(e){var t=(e.status,e.message),o=t&&JSON.parse(t),r={};if(o&&400===o.status)for(var a in o)r[a]=o[a][0];else o&&o.status>=500&&(r._error="An unexpected error occurred. Please try again later.");throw n(c.r(r)),new i.d(r)})}}t.b=o,t.a=r,t.c=a;var i=n("./node_modules/redux-form/es/index.js"),s=n("./app/scripts/api/company/index.js"),c=n("./app/scripts/containers/settings/company/actions/index.js"),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"fetchCompanyDetails","/Users/will/development/loom/market-ui/app/scripts/containers/settings/company/actions/api.js"),__REACT_HOT_LOADER__.register(r,"createCompanyDetails","/Users/will/development/loom/market-ui/app/scripts/containers/settings/company/actions/api.js"),__REACT_HOT_LOADER__.register(a,"updateCompanyDetails","/Users/will/development/loom/market-ui/app/scripts/containers/settings/company/actions/api.js"))}()},"./app/scripts/features/forms/company/index.js":function(e,t,n){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./node_modules/redux-form/es/index.js"),c=n("./app/scripts/components/errors/errors.js"),p=n("./app/scripts/components/formFields/input/index.js"),l=n("./app/scripts/components/formFields/select/index.js"),u=[{label:"Select one",id:"",disabled:!0},{id:"llc",label:"Limited Liability Company (LLC)"},{id:"inc",label:"Corporation (Inc)"},{id:"lp",label:"Limited Partnership"},{id:"llp",label:"Limited Liability Partnership"},{id:"nonprofit",label:"Non-Profit"}],f=function(e){var t=e.name,n=void 0===t?"type":t,o=e.label,r=e.options,a=void 0===r?u:r;return React.createElement(s.a,{name:n,label:o,component:l.a,options:a})},m=f,d=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(u,"companyTypeOptions","/Users/will/development/loom/market-ui/app/scripts/components/formFields/companyTypeSelector/index.js"),__REACT_HOT_LOADER__.register(f,"default","/Users/will/development/loom/market-ui/app/scripts/components/formFields/companyTypeSelector/index.js"))}(),n("./app/scripts/components/formFields/locationSelector/index.js")),_=n("./app/scripts/utils/formUtils.js"),h=function(e){var t={},n="United States"!==e.country;return _.a.checks.isRequired(e.name)||(t.name="Please add a company name."),_.a.checks.isRequired(e.type)||(t.type="Please add a company type."),_.a.checks.isRequired(e.address)||(t.address="Please add a company address."),_.a.checks.isRequired(e.city)||(t.location="Please add a valid location."),_.a.checks.isRequired(e.country)||(t.location="Please add a valid location."),_.a.checks.isRequired(e.zipcode)||(t.zipcode="Please add a postal code."),n||(e.filing_location&&_.a.checks.isRequired(e.filing_location)||(t.filing_location="Please add a company filing location."),e.ein&&_.a.checks.isRequired(e.ein)||(t.ein="Please add a tax id.")),e.incorporation_date&&_.a.checks.isMomentFormat(e.incorporation_date,"MM/DD/YYYY")||(t.incorporation_date="Please enter a valid incorporation date (MM/DD/YYYY)."),t},y=h,b=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(h,"default","/Users/will/development/loom/market-ui/app/scripts/features/forms/company/validation.js")}(),n("./app/scripts/features/forms/company/styles.scss"),function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}()),g=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),b(t,[{key:"onSubmit",value:function(){this.props.pristine?this.props.onCancel():this.props.handleSubmit()}},{key:"handleLocation",value:function(e){var t=e.city,n=void 0===t?"":t,o=e.state,r=void 0===o?"":o,a=e.country,i=void 0===a?"":a,s=[n,r,i].filter(function(e){return e}).join(", ");this.props.change("city",n),this.props.change("state",r),this.props.change("country",i),this.props.change("location",s)}},{key:"render",value:function(){var e=this,t=this.props,n=t.invalid,r=t.error,a=t.submitFailed;return React.createElement("form",{className:"company-form"},React.createElement("div",{className:"field-set"},React.createElement(s.a,{name:"name",type:"text",label:"Company name",component:p.a})),React.createElement("div",{className:"field-set"},React.createElement(s.a,{name:"type",label:"Company Type",component:m})),React.createElement("div",{className:"field-set"},React.createElement(s.a,{name:"address",type:"text",label:"Main Company Address",placeholder:"Address 1",component:p.a}),React.createElement(s.a,{name:"address2",type:"text",placeholder:"Address 2 - Apartment, Unit, etc",component:p.a}),React.createElement("div",{className:"field-set locale-fields"},React.createElement(s.a,{ref:function(t){return e.locationInput=t},name:"location",type:"text",label:"City, Region and Country",component:d.a,placeholder:"e.g. Boston, MA, United States",onSelection:this.handleLocation.bind(this)}),React.createElement(s.a,{name:"zipcode",type:"text",label:"Postal Code",component:p.a}))),React.createElement("div",{className:"field-set"},React.createElement(s.a,{name:"filing_location",label:"State filing location (if in USA)",component:l.a,options:[{id:"",label:"Select one",disabled:!0}].concat(o(_.c))})),React.createElement("div",{className:"field-set"},React.createElement(s.a,{name:"ein",type:"text",label:"Tax ID (if in USA)",placeholder:"00-0000000",component:p.a})),React.createElement("div",{className:"field-set"},React.createElement(s.a,{name:"incorporation_date",type:"text",label:"Company incorporation date",placeholder:"MM/DD/YYYY",component:p.a})),a&&n&&!r&&React.createElement("div",{className:"field-set"},React.createElement(c.b,null,"Please fix the errors above and try again.")),a&&r&&React.createElement("div",{className:"field-set"},React.createElement(c.a,{error:r})))}}]),t}(React.Component),E=Object(s.o)({form:"companySettings",validate:y,asyncValidating:!1,touchOnBlur:!1})(g);t.a=E,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(g,"CompanyForm","/Users/will/development/loom/market-ui/app/scripts/features/forms/company/index.js"),__REACT_HOT_LOADER__.register(E,"default","/Users/will/development/loom/market-ui/app/scripts/features/forms/company/index.js"))}()},"./app/scripts/features/forms/company/styles.scss":function(e,t){},"./app/scripts/features/forms/terms/components/termsField/index.js":function(e,t,n){"use strict";var o=n("./node_modules/redux-form/es/index.js"),r=n("./app/scripts/components/formFields/checkbox/index.js"),a=function(e){var t=(e.label,e.disabled),n=e.name,a=void 0===n?"tos":n;return React.createElement(o.a,{name:a,disabled:t,label:React.createElement("span",null,"By checking this box, you agree to Loom's ",React.createElement("a",{href:"/terms-of-service/",target:"_blank"},"Term of Service")," and ",React.createElement("a",{href:"/privacy/",target:"_blank"},"Privacy Policy"),", which includes the payment terms stated above."),component:r.a})};t.a=a,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(a,"default","/Users/will/development/loom/market-ui/app/scripts/features/forms/terms/components/termsField/index.js")}()},"./app/scripts/features/forms/terms/styles.scss":function(e,t){}});
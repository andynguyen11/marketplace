webpackJsonp([3],{"./app/scripts/components/skills/skillSelector.jsx":function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};r("./app/scripts/components/skills/skills.scss");var s=r("./node_modules/classnames/index.js"),i=a(s),l=r("./app/scripts/store/api.js"),n=r("./app/scripts/components/skills/skillTag.jsx"),c=a(n),p=r("./app/scripts/components/loader/loader.jsx"),d=a(p),u=r("./app/scripts/components/errors/errors.js"),m=React.createClass({displayName:"SkillSelector",propTypes:{toggleSkill:React.PropTypes.func.isRequired,inputDisabled:React.PropTypes.bool,selectedSkills:React.PropTypes.array.isRequired,label:React.PropTypes.string.isRequired,description:React.PropTypes.string,error:React.PropTypes.oneOfType([React.PropTypes.bool,React.PropTypes.string]),className:React.PropTypes.string,allSkills:React.PropTypes.array},getInitialState:function(){return{allSkills:null,apiError:!1}},getDefaultProps:function(){return{selectedSkills:[]}},componentWillMount:function(){var e=this,t=this.props.allSkills;t?this.setState({allSkills:t}):(0,l.get)(l.api.skills,function(t){e.setState({allSkills:t,apiError:!1})},function(t){e.setState({apiError:t})})},toggleSkill:function f(e){var t=this.props,f=t.toggleSkill,r=t.inputDisabled;r||f(e)},render:function(){var e=this,t=this.state,r=t.allSkills,a=t.apiError,s=this.props,l=s.selectedSkills,n=s.error,p=s.className,m=s.inputDisabled,f=s.label,g=s.description,h=(0,i["default"])("skillSelector","form-set",p,{"form-set--error":!!n}),v=m&&{disabled:!0},b=n&&React.createElement(u.InputError,null,n),j=a&&React.createElement(u.ApiError,null,n),y=!r&&React.createElement(d["default"],{noPadding:!0}),k=r&&r.map(function(t,r){var a=l&&l.indexOf(t.id)>=0,s=a&&{selected:!0},i=function(){m||e.toggleSkill(t.id)};return React.createElement(c["default"],o({key:r},s,{onClick:i}),t.name)}),S=g&&React.createElement("div",{className:"form-label-helper"},g);return React.createElement("div",{className:h},React.createElement("label",{className:"form-label"},f),S,React.createElement("div",o({className:"skillSelector-skills form-input form-input--noFocus"},v),y,k),b,j)}});t["default"]=m},"./app/scripts/components/skills/skillTag.jsx":function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r("./node_modules/classnames/index.js"),s=a(o),i=React.createClass({displayName:"SkillTag",propTypes:{onClick:React.PropTypes.func,selected:React.PropTypes.bool,children:React.PropTypes.any.isRequired},render:function(){var e=this.props,t=e.onClick,r=e.selected,a=e.children,o=(0,s["default"])("skillTag",{"skillTag--selected":r,"skillTag--clickable":!!t});return React.createElement("div",{className:o,onClick:t},a)}});t["default"]=i},"./app/scripts/components/skills/skills.scss":function(e,t,r){t=e.exports=r("./node_modules/css-loader/lib/css-base.js")(),t.push([e.i,'.skillSelector-skills{display:flex;flex-wrap:wrap}.skillSelector-skills .loader{margin:50px auto}.skillTag{height:42px;font-size:14px;font-weight:600;letter-spacing:.5px;outline:0!important;color:#423d51;border:1px solid #423d51;background:#1eddb2;border-radius:3px;justify-content:center;display:inline-flex;align-items:center;background:#fff;position:relative;overflow:hidden;padding:10px;margin:5px}.skillTag:before{content:"";position:absolute;top:0;left:0;right:0;height:0;border-top:4px solid #ff7b5c;transform:translateY(-100%);transition:transform .35s}.skillTag.skillTag--clickable{color:#1eddb2;border-color:#1eddb2;transition:background .1s,opacity .1s;cursor:pointer}.skillTag.skillTag--clickable:hover{opacity:.8}.skillTag.skillTag--selected{color:#423d51}.skillTag.skillTag--selected:before{transform:translateY(0)}',""])},"./app/scripts/containers/editProject/basics.jsx":function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r("./node_modules/react-redux/lib/index.js"),s=r("./node_modules/react-router/es6/index.js"),i=r("./app/scripts/store/api.js"),l=r("./app/scripts/config.js"),n=r("./app/scripts/utils/dateUtils.js"),c=r("./app/scripts/utils/formUtils.js"),p=r("./app/scripts/utils/elementUtils.js"),d=r("./app/scripts/containers/editProject/editProject.js"),u=r("./app/scripts/utils/piiUtils.js"),m=r("./app/scripts/components/loader/loader.jsx"),f=a(m),g=r("./app/scripts/containers/editProject/progressBar.jsx"),h=a(g),v=r("./app/scripts/components/forms/formFields.js"),b=r("./app/scripts/components/button/button.jsx"),j=a(b),y=r("./app/scripts/components/errors/errors.js"),k=r("./app/scripts/components/skills/skillSelector.jsx"),S=a(k),E=r("./app/scripts/components/tile/tile.jsx"),P=React.createClass({displayName:"ProjectBasics",propTypes:{user:React.PropTypes.object.isRequired,params:React.PropTypes.object.isRequired},getInitialState:function(){var e=this.props.user;return(0,d.createEmptyProjectState)(e)},formFields:function(e){var t=this,r=e||this.state.data,a=[{id:"",label:"Please choose one"},{id:"front-end",label:"Front-end Developer"},{id:"back-end",label:"Back-end Developer"},{id:"full-stack",label:"Full-stack Developer"},{id:"mobile",label:"Mobile Developer"}];return{projectName:{name:"project_name",label:"Project name (limit 70 characters)",value:r.title,error:!1,maxLength:70,helperText:"This should be a short description of what you're building or the work needing to be done. Ex: `Personal AI-powered Travel Agent Web Application` or `Development of a responsive, two-sided marketplace`. Do not include the name of your product or company.",validator:function(e){var r=t.props.user,a=t.state.formFields,o=(0,u.doesStringContainPII)(e,{user:r}),s=c.FormUtils.checks.isRequired(e)&&c.FormUtils.checks.maxLength(e,a.projectName.maxLength)&&!o;return s||(o?a.projectName.error=u.piiErrors.formField:a.projectName.error="Please enter a project name.",t.setState({formFields:a})),s},onChange:function(e){var r=t.state,a=r.data,o=r.formFields;a.title=e,o.projectName.value=e,o.projectName.error=!1,t.setState({data:a,formFields:o,formError:!1})}},projectType:{name:"project_category",label:"Project category",value:r.type,options:[{id:"",label:"Please choose one"},{id:"art",label:"art & design"},{id:"technology",label:"technology"},{id:"gaming",label:"gaming"},{id:"nonprofit",label:"non-profit"},{id:"social",label:"social"},{id:"news",label:"news & publishing"},{id:"music",label:"music & media"},{id:"location",label:"location-based"},{id:"health",label:"health & fitness"}],error:!1,validator:function(e){var r=t.state.formFields,a=c.FormUtils.checks.isRequired(e);return a||(r.projectType.error="Please select a project category.",t.setState({formFields:r})),a},onChange:function(e){var r=t.state,a=r.data,o=r.formFields;a.type=e,o.projectType.value=e,o.projectType.error=!1,t.setState({data:a,formFields:o,formError:!1})}},projectOverview:{name:"project_overview",label:"Short project overview (limit 250 characters)",value:r.short_blurb,error:!1,placeholder:"Think of this as your elevator pitch to developers. Get them excited in 250 characters or less.",maxLength:250,rows:3,validator:function(e){var r=t.props.user,a=t.state.formFields,o=(0,u.doesStringContainPII)(e,{user:r}),s=c.FormUtils.checks.minLength(e,1)&&c.FormUtils.checks.maxLength(e,a.projectOverview.maxLength)&&!o;return s||(o?a.projectOverview.error=u.piiErrors.formField:a.projectOverview.error="Please enter a short project overview (maximum of 250 characters).",t.setState({formFields:a})),s},onChange:function(e){var r=t.state,a=r.data,o=r.formFields;a.short_blurb=e,o.projectOverview.value=e,o.projectOverview.error=!1,t.setState({data:a,formFields:o,formError:!1})}},projectStartDate:{name:"start_date",label:"Work start date",value:r.start_date,error:!1,minDate:(0,n.rightNow)(),validator:function(e){var r=t.state.formFields,a=(0,n.convertDateForDisplay)(e),o=c.FormUtils.checks.isMomentFormat(a,n.dateFormatForDisplay);return o||(r.projectStartDate.error="Please enter a valid start date (MM/DD/YYYY).",t.setState({formFields:r})),o},onChange:function(e){var r=t.state,a=r.data,o=r.formFields,s=(0,n.convertDateForSave)(e),i=(0,n.convertDateForDisplay)(e);a.start_date=s,o.projectStartDate.value=i,o.projectStartDate.error=!1,o.projectEndDate.minDate=(0,n.addDays)(e,1),o.projectEndDate.disabled=!1,t.setState({data:a,formFields:o,formError:!1})}},projectEndDate:{name:"end_date",label:"Work completion date",value:r.end_date,error:!1,disabled:!r.start_date.length&&!0,minDate:this.state.data.start_date?(0,n.createDateObject)(this.state.data.start_date):(0,n.rightNow)(),validator:function(e){var r=t.state.formFields,a=(0,n.convertDateForDisplay)(e),o=c.FormUtils.checks.isMomentFormat(a,n.dateFormatForDisplay);return o||(r.projectEndDate.error="Please enter a valid end date (MM/DD/YYYY).",t.setState({formFields:r})),o},onChange:function(e){var r=t.state,a=r.data,o=r.formFields,s=(0,n.convertDateForSave)(e),i=(0,n.convertDateForDisplay)(e);a.end_date=s,o.projectEndDate.value=i,o.projectEndDate.error=!1,t.setState({data:a,formFields:o,formError:!1})}},freelancerType:{name:"freelancer_type",label:"What type of freelancer are you looking for?",value:function(){var e=!1;return a.forEach(function(t){r.role==t.id&&(e=t.id)}),e||""}(),options:a,error:!1,validator:function(e){var r=t.state.formFields,a=c.FormUtils.checks.isRequired(e);return a||(r.freelancerType.error="Please tell us the type of freelancer you are looking for.",t.setState({formFields:r})),a},onChange:function(e){var r=t.state,a=r.data,o=r.formFields;a.role=e,o.freelancerType.value=e,o.freelancerType.error=!1,t.setState({data:a,formFields:o,formError:!1})}},projectSkills:{value:r.skills,onChange:function(e){var r=t.state,a=r.data,o=r.formFields,s=a.skills.indexOf(e);s===-1?a.skills.push(e):a.skills.splice(s,1),o.projectSkills.value=a.skills,o.projectSkills.error=!1,t.setState({data:a,formFields:o,formError:!1})}}}},componentWillMount:function(){var e=this,t=this.props.params.projectId;t?(0,d.getProjectData)(t,function(t){var r=Object.assign({},t),a=Object.assign({},e.formFields(r));e.setState({data:r,formFields:a,isLoading:!1,profileIncomplete:!1})},function(t,r){console.error(t),e.setState({isSending:!1,apiError:r.text})}):this.fetchProfile()},fetchProfile:function(){var e=this,t=this.props.user.user_id;if(t){var r=i.api.profile(t);return(0,i.get)(r,function(t){e.checkProfileCompletion(t)},function(t,r){console.error(t),e.setState({profileError:r.text})})}this.setState({modalOpenisLoadingProfile:!1})},checkProfileCompletion:function(e){var t=e.first_name,r=e.last_name,a=e.biography,o=e.photo_url,s=e.city,i=e.country,l=e.contact_details,n=l.email,c=l.email_confirmed,p=!0;t&&r&&a&&n&&c&&o&&s&&i&&(p=!1);var d=Object.assign({},this.formFields());this.setState({profile:e,formFields:d,isLoading:!1}),this.setState({isLoading:!1,profileIncomplete:p,profile:e,formFields:d})},componentDidMount:function(){(0,p.scrollToTop)()},submitBasics:function(){var e=this,t=this.state,r=t.data,a=t.formFields;c.FormUtils.validateForm(a,function(t){if(e.setState({formError:!t,apiError:!1}),t){e.setState({isSending:!0});var a=Object.assign({},r),o=!a.id;delete a.project_image,window.sessionStorage.loomNewProjectId&&o&&(a.id=window.sessionStorage.loomNewProjectId),(0,d.submitProjectData)(a,function(t){o&&(window.sessionStorage.loomNewProjectId=t.id),e.goToStep("budget",t)},function(t,r){console.error(t),e.setState({isSending:!1,apiError:r.text})})}})},goToStep:function(e,t){var r=this.props.params.projectId;s.browserHistory.push({pathname:(0,d.getEditProjectLink)(e,r),state:{data:t}})},render:function(){var e=this.props.params.projectId,t=this.state,r=t.formFields,a=t.isLoading,o=t.isSending,s=t.formError,i=t.apiError,l=t.profileIncomplete,n=t.profile;if(a)return React.createElement(f["default"],null);if(l)return React.createElement(R,{profile:n});var c=!!e,p=s&&React.createElement(y.FormError,null,"Please fix the errors above and try again."),d=i&&React.createElement(y.ApiError,{error:i});return React.createElement("div",{className:"editProject"},React.createElement(h["default"],{currentStep:"basics",isEditing:c,onSelection:this.goToStep}),React.createElement("div",{className:"editProject-headcap"},React.createElement("h2",null,"Let's bring your digital project to life."),React.createElement("p",{className:"larger light"},"Posting projects is easy and free. Start here by adding the name and category of your project, a quick overview and some basic preferences.")),React.createElement(v.Input,{config:r.projectName,inputDisabled:o}),React.createElement(v.Select,{config:r.projectType,inputDisabled:o}),React.createElement(v.Textarea,{config:r.projectOverview,inputDisabled:o}),React.createElement("div",{className:"editProject-selectDates"},React.createElement(v.DateInput,{config:r.projectStartDate,inputDisabled:o}),React.createElement(v.DateInput,{config:r.projectEndDate,inputDisabled:o})),React.createElement(v.Select,{config:r.freelancerType,inputDisabled:o}),React.createElement(S["default"],{toggleSkill:r.projectSkills.onChange.bind(this),selectedSkills:r.projectSkills.value,error:r.projectSkills.error,inputDisabled:o,label:"Do you have a technical language preference for this project? (optional)",description:"Do you need your project coded in a specific language? If you don't have a preference or you don't know, no sweat, you can leave this section blank."}),p,d,React.createElement(j["default"],{size:"large",onClick:this.submitBasics,isLoading:o,disabled:a||o||s},"Save project & continue"))}}),R=React.createClass({displayName:"ProjectProfileIncompleteModal",propTypes:{profile:React.PropTypes.object.isRequired},goToProfile:function(){var e=this.props.profile.id,t=l.urls.profileUrl(e);s.browserHistory.push({pathname:""+t})},render:function(){var e=this.props.profile,t=e.first_name,r=e.last_name,a=e.biography,o=e.photo_url,s=e.city,i=e.country,l=e.contact_details,n=l.email,c=l.email_confirmed,p=(!t||!r)&&React.createElement("li",{className:"bidModal-list-item"},"Your name"),d=!o&&React.createElement("li",{className:"bidModal-list-item"},"Profile photo"),u=!a&&React.createElement("li",{className:"bidModal-list-item"},"Short bio"),m=(!s||!i)&&React.createElement("li",{className:"bidModal-list-item"},"Location"),f=(!n||!c)&&React.createElement("li",{className:"bidModal-list-item"},"Verified contact email");return React.createElement(E.Tile,{header:"Update your profile",className:"editProject-completeProfile"},React.createElement("h3",null,"The following sections of your profile are required to post a project:"),React.createElement("ul",{className:"bidModal-list"},p,d,u,m,f),React.createElement(j["default"],{onClick:this.goToProfile},"Go to Profile"))}}),D=function(e){var t=e.auth;return{user:t}};t["default"]=(0,o.connect)(D)(P)},"./app/scripts/containers/editProject/editProject.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.submitQuestionsData=t.submitProjectData=t.getProjectData=t.getEditProjectLink=t.createEmptyProjectState=void 0;var a=r("./app/scripts/store/api.js"),o=r("./app/scripts/utils/formUtils.js"),s={projectId:null,data:{company:"",project_manager:null,skills:[],title:"",type:"",start_date:"",end_date:"",estimated_cash:"",estimated_equity_percentage:"",mix:!1,short_blurb:"",project_image:null,background:"",progress:"",scope:"",milestones:"",specs:"",private_info:"",published:!1,freelancerType:"",questions:[]},budgetType:"",apiError:!1,formError:!1,isSending:!1,isLoading:!0,profileIncomplete:!0,profile:{}};t.createEmptyProjectState=function(e){var t=Object.assign({},s);return e&&(t.data.project_manager=e.user_id,t.data.company=e.company_id),t},t.getEditProjectLink=function(e,t){return t?"/project/edit/"+t+"/"+e:"/project/create/"+e},t.getProjectData=function(e,t,r){if(e){var o=a.api.project(e),s=[o,t,r];a.get.apply(void 0,s)}else console.error("`getProjectData` method expects a projectId, a successCallback and an errorCallback.")},t.submitProjectData=function(e,t,r){if(e&&t&&r){var s=a.api.project();e.id&&(s=a.api.project(e.id));var i=[s,(0,o.objectToFormData)(e),t,r];e.id?a.patch.apply(void 0,i):a.post.apply(void 0,i)}else console.error("`submitProjectData` method expects a data object, a successCallback and an errorCallback.")},t.submitQuestionsData=function(e,t,r){if(e&&t&&r){var o=a.api.questions,s=[o,e,t,r];a.patch.apply(void 0,s)}else console.error("`submitQuestionsData` method expects a data object, a successCallback and an errorCallback.")}},"./app/scripts/containers/editProject/progressBar.jsx":function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r("./node_modules/classnames/index.js"),s=a(o),i={basics:{displayName:"Basics",isEnabled:!1,isActive:!1,isCompleted:!0},budget:{displayName:"Budget",isEnabled:!1,isActive:!1,isCompleted:!0},details:{displayName:"Details",isEnabled:!1,isActive:!1,isCompleted:!0},questions:{displayName:"Proposal Questions",isEnabled:!1,isActive:!1,isCompleted:!0}},l=React.createClass({displayName:"ProgressBar",propTypes:{currentStep:React.PropTypes.string.isRequired,onSelection:React.PropTypes.func.isRequired,isEditing:React.PropTypes.bool},getDefaultProps:function(){return{isEditing:!1}},getInitialState:function(){return{steps:i}},configureState:function(){var e=this.props,t=e.currentStep,r=e.isEditing,a=this.state.steps,o=Object.keys(i),s=o.indexOf(t);o.forEach(function(e,t){var o=a[e];o.isEnabled=t<=s||r,o.isActive=t===s,o.isCompleted=t<s||r}),this.setState({steps:a})},componentWillMount:function(){this.configureState()},goToStep:function(e){var t=this.props.onSelection,r=this.state.steps,a=r[e],o=a.isActive,s=a.isEnabled;s&&!o&&t(e)},render:function(){var e=this,t=this.state.steps,r=Object.keys(i),a=r.map(function(r,a){var o=t[r],i=o.displayName,l=o.isEnabled,n=o.isActive,c=o.isCompleted,p=function(){e.goToStep(r)},d=(0,s["default"])("progressBar-item",{"progressBar-item--complete":c,"progressBar-item--active":n,"progressBar-item--disabled":!l}),u=a+1,m=!c||n?u:React.createElement("i",{className:"fa fa-check","aria-hidden":"true"});return React.createElement("a",{className:d,key:a,onClick:p},React.createElement("div",{className:"progressBar-item-dot"},m)," ",i)});return React.createElement("div",{className:"progressBar"},a)}});t["default"]=l}});
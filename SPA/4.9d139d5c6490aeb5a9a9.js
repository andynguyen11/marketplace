webpackJsonp([4],{"./app/scripts/containers/invoices/received/index.js":function(e,t,a){"use strict";var n=a("./node_modules/react/index.js"),r=a.n(n),c=a("./node_modules/react-redux/es/index.js"),s=a("./node_modules/moment/moment.js"),o=a.n(s),i=(a("./node_modules/react-router-dom/es/index.js"),a("./app/scripts/components/tile/tile.jsx")),l=(a("./app/scripts/components/button/button.jsx"),a("./app/scripts/components/loader/loader.jsx"),a("./app/scripts/components/profilePhoto/profilePhoto.jsx"),a("./app/scripts/utils/numberUtils.js")),p=a("./app/scripts/containers/invoices/received/actions/api.js"),u=a("./app/scripts/containers/invoices/received/styles.scss"),m=(a.n(u),function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}()),d=function(e){return r.a.createElement("svg",e,r.a.createElement("defs",null,r.a.createElement("clipPath",{id:"a"},r.a.createElement("rect",{x:"183.333",width:"75",height:"15",rx:"3"}),r.a.createElement("rect",{width:"105",height:"15",rx:"3"}),r.a.createElement("rect",{x:"336.667",width:"280",height:"15",rx:"3"}),r.a.createElement("rect",{x:"695",width:"105",height:"15",rx:"3"}))))};d.defaultProps={className:"notif-skel",width:"800",height:"15",viewBox:"0 0 800 15",xmlns:"http://www.w3.org/2000/svg",clipPath:"url(#a)"};var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.Component),m(t,[{key:"componentWillMount",value:function(){this.props.dispatch(Object(p.a)())}},{key:"navigateToInvoiceCreate",value:function(){this.props.history.push("/invoices/new")}},{key:"navigateToInvoiceDetails",value:function(e){this.props.history.push("/invoices/"+e)}},{key:"getInvoiceStatus",value:function(e){var t=e.status,a=e.due_date,n=o()(Date.now()).format("YYYY-MM-DD");return"sent"===t&&Date.parse(n)>Date.parse(a)?"past-due":"pending"===t||"draft"===t||"sent"===t?"unpaid":"paid"}},{key:"render",value:function(){var e=this,t=this.props.invoices;return r.a.createElement("div",{className:"invoices-received-container"},r.a.createElement("div",{className:"invoices-received-header"},r.a.createElement("h2",null,"Received invoices")),r.a.createElement(i.a,null,r.a.createElement("table",null,t.isFetching&&r.a.createElement(r.a.Fragment,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null," "))),r.a.createElement("tbody",null,Array(7).fill(1).map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",{colSpan:"7",className:"td-skel"},r.a.createElement(d,null)))}))),!t.isFetching&&r.a.createElement(r.a.Fragment,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"From"),r.a.createElement("th",null,"Invoice ID"),r.a.createElement("th",{className:"total-amount-cell"},"Total Amount"),r.a.createElement("th",{className:"net-amout-cell"},"Net Amount"),r.a.createElement("th",null,"Status"),r.a.createElement("th",{className:"due-date-cell"},"Due date"))),r.a.createElement("tbody",null,t.invoices.length>0&&t&&t.invoices.map(function(t,a){var n=t.invoice_items.reduce(function(e,t){var a=t.amount;return e+Number(a)},0),c=n-.1*n,s=(t.sent_date&&o()(t.sent_date,"YYYY-MM-DD").format("MMMM Do, YYYY"),t.due_date?o()(t.due_date,"YYYY-MM-DD").format("MMMM Do, YYYY"):""),i=e.getInvoiceStatus(t);return r.a.createElement("tr",{key:a,onClick:e.navigateToInvoiceDetails.bind(e,t.reference_id)},r.a.createElement("td",null,t.sender_name),r.a.createElement("td",null,t.reference_id&&t.reference_id.split("-")[0]),r.a.createElement("td",{className:"total-amount-cell"},"$",Object(l.a)(n,{minimumFractionDigits:2,maximumFractionDigits:2})),r.a.createElement("td",{className:"net-amout-cell"},"$",Object(l.a)(c,{minimumFractionDigits:2,maximumFractionDigits:2})),r.a.createElement("td",null,r.a.createElement("span",{className:"invoice-"+i},i)),r.a.createElement("td",{className:"due-date-cell"},s))})))),!t.isFetching&&!t.invoices.length&&r.a.createElement("div",{className:"invoices-empty"},"You have not received any invoices... yet.")))}}]),t}(),h=Object(c.b)(function(e){return{user:e.auth,invoices:e.invoices.received}})(f);t.a=h,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(f,"ReceivedInvoices","/Users/will/development/loom/market-ui/app/scripts/containers/invoices/received/index.js"),__REACT_HOT_LOADER__.register(h,"default","/Users/will/development/loom/market-ui/app/scripts/containers/invoices/received/index.js"))},"./app/scripts/containers/invoices/received/styles.scss":function(e,t){},"./app/scripts/containers/project/manager/styles.scss":function(e,t){},"./app/scripts/containers/projects/employer/index.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("./node_modules/react-redux/es/index.js"),r=a("./app/scripts/containers/projects/employer/actions/api.js"),c=a("./node_modules/react-router-dom/es/index.js"),s=a("./app/scripts/containers/projects/employer/components/projectList/index.js"),o=a("./app/scripts/containers/invoices/received/index.js"),i=(a("./app/scripts/appliances/dashboardNav/dashboardNav.jsx"),a("./app/scripts/components/loader/loader.jsx")),l=a("./app/scripts/components/tile/tile.jsx"),p=a("./app/scripts/components/button/button.jsx"),u=a("./app/scripts/components/profilePhoto/profilePhoto.jsx"),m=a("./app/scripts/containers/proposals/components/proposalList/index.js"),d=a("./app/scripts/containers/project/details/actions/api.js"),f=a("./app/scripts/containers/project/details/actions/index.js"),h=(a("./app/scripts/containers/project/edit/actions/api.js"),a("./app/scripts/api/messages/index.js")),v=(a("./app/scripts/containers/project/manager/styles.scss"),function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}()),j={"in-review":"In review",draft:"Draft",active:"Active for [days] more days",inactive:"Inactive"},E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,React.Component),v(t,[{key:"componentWillMount",value:function(){var e=this.props.match.params;this.fetchProjectBySlug(e.projectId)}},{key:"componentWillUnmount",value:function(){this.props.dispatch(Object(f.e)())}},{key:"fetchProjectBySlug",value:function(e){var t=this;this.props.dispatch(Object(d.a)(e)).then(function(e){e&&e.is_project_manager||t.props.history.push("/employer/projects")}).catch(function(e){console.log(e)})}},{key:"editProject",value:function(){var e=this.props.match.params;this.props.history.push("/project/edit/"+e.projectId)}},{key:"renewProject",value:function(){var e=this.props.match.params;this.props.history.push("/project/renew/"+e.projectId)}},{key:"upgradeProject",value:function(){var e=this.props.match.params;this.props.history.push("/project/upgrade/"+e.projectId)}},{key:"searchFreelancers",value:function(){this.props.history.push("/search/profiles")}},{key:"goToMessageThread",value:function(e){var t=this,a=this.props.project.details.proposals.find(function(t){return t.submitter===e});a&&(a.message?this.props.history.push("/dashboard/messages/"+a.message+"/"):Object(h.a)({recipient:e}).then(function(e){if(e.status>200)throw new Error("Unable to create message thread");return e.json()}).then(function(e){t.props.history.push("/dashboard/messages/"+e.message+"/")}).catch(function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.props.project;return React.createElement("div",{className:"project-manager-container"},t.isFetching&&React.createElement(i.a,null),!t.isFetching&&t.details.id&&React.createElement("div",{className:"project-manager-content"},React.createElement(c.b,{to:"/employer/projects",className:"back-link"},React.createElement("i",{className:"material-icons","aria-hidden":"true"},"arrow_back")," All projects"),React.createElement("h2",{className:"title"},t.details.title),React.createElement("h3",{className:"status"},"Project status: ",React.createElement("span",{className:""+t.details.projectStatus},j[t.details.projectStatus].replace("[days]",t.details.days_to_expire))),React.createElement("div",{className:"project-actions"},"inactive"!==t.details.projectStatus&&React.createElement(p.a,{onClick:this.editProject.bind(this)},"draft"===t.details.projectStatus?"Complete posting":"Edit project"),"inactive"!==t.details.projectStatus&&"draft"!==t.details.projectStatus&&React.createElement(c.b,{target:"_blank",className:"project-link",to:"/project/"+t.details.slug+"/"},"View project posting ",React.createElement("i",{className:"material-icons"},"open_in_new"))),("active"===t.details.projectStatus||"inactive"===t.details.projectStatus)&&t.details.expire_date&&React.createElement("div",null,"free"!==t.details.sku&&"inactive"===t.details.projectStatus&&React.createElement("div",{className:"project-renewal-details"},React.createElement("div",null,React.createElement("h2",null,"Your project posting is no longer active"),React.createElement("p",null,"Activate your project posting to continue receiving proposals")),React.createElement(p.a,{onClick:this.renewProject.bind(this)},"Activate project")),"free"===t.details.sku&&"inactive"===t.details.projectStatus&&React.createElement("div",{className:"project-renewal-details"},React.createElement("div",null,React.createElement("h2",null,"Your free posting is no longer active"),React.createElement("p",null,"Upgrade today to take advantage of Loom's full suite of tools to help you find and hire the right freelancer.")),React.createElement(p.a,{onClick:this.upgradeProject.bind(this)},"Upgrade now"))),t.details.hires.length>0&&React.createElement(l.a,{className:"project-hires",noPadding:!0,header:"Hired freelancer"},t.details.hires.map(function(t){return React.createElement("div",{className:"profile-card",key:t.profile_id},React.createElement("div",{className:"profile-photo"},React.createElement(u.a,{url:t.photo})),React.createElement("div",{className:"profile-details"},React.createElement("div",null,React.createElement(c.b,{to:"/profile/"+t.id},React.createElement("span",{className:"profile-name"},t.first_name," ","verified"===t.verification&&React.createElement(BankBadge,{placement:"bottomLeft"}))),React.createElement("p",{className:"profile-location"},React.createElement("i",{className:"material-icons"},"place"),[t.city,t.state,t.country].filter(function(e){return e}).join(", ")),React.createElement("p",{className:"profile-roles"},t.roles.length?t.roles.map(function(e,a){return React.createElement("span",{key:a},e.display_name," ",a!==t.roles.length-1&&React.createElement("span",{className:"divider"}," • "))}):"Entreprenuer"))),React.createElement(p.a,{onClick:e.goToMessageThread.bind(e,t.id)},"Message ",t.first_name))})),React.createElement(l.a,{className:"project-proposals",noPadding:!0,header:"Proposals"},t.details.proposals&&Boolean(t.details.proposals.length)&&React.createElement(m.a,{proposals:t.details.proposals}),!Boolean(t.details.proposals.length)&&React.createElement(l.b,{className:"proposals-empty"},React.createElement("p",null,"You have not received a proposal on this project... yet."),React.createElement(p.a,{onClick:this.searchFreelancers.bind(this)},"Search freelancers")))))}}]),t}(),_=Object(c.h)(Object(n.b)(function(e){return{user:e.auth,project:e.nproject.details}})(E)),y=_,g=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(j,"statusOptions","/Users/will/development/loom/market-ui/app/scripts/containers/project/manager/index.js"),__REACT_HOT_LOADER__.register(E,"ProjectManager","/Users/will/development/loom/market-ui/app/scripts/containers/project/manager/index.js"),__REACT_HOT_LOADER__.register(_,"default","/Users/will/development/loom/market-ui/app/scripts/containers/project/manager/index.js")),a("./app/scripts/containers/search/profile/index.js")),b=function(e){var t=e.match,a=t.path,n=t.url;return arguments.length>1&&void 0!==arguments[1]?arguments[1]:console.log(a,n),React.createElement(c.f,null,React.createElement(c.e,{exact:!0,path:""+a,render:function(){return React.createElement(c.d,{to:n+"/projects/active"})}}),React.createElement(c.e,{exact:!0,path:a+"/projects",render:function(){return React.createElement(c.d,{to:n+"/projects/active"})}}),React.createElement(c.e,{exact:!0,path:a+"/projects/active",render:function(){return React.createElement(s.a,{type:"active"})}}),React.createElement(c.e,{exact:!0,path:a+"/projects/inactive",render:function(){return React.createElement(s.a,{type:"inactive"})}}),React.createElement(c.e,{exact:!0,path:a+"/projects/drafts",render:function(){return React.createElement(s.a,{type:"drafts"})}}),React.createElement(c.e,{exact:!0,path:a+"/projects/inreview",render:function(){return React.createElement(s.a,{type:"inreview"})}}),React.createElement(c.e,{exact:!0,path:a+"/projects/:projectId",component:y}),React.createElement(c.e,{exact:!0,path:a+"/invoices",component:o.a}),React.createElement(c.e,{exact:!0,path:a+"/search",component:g.a}))},R=("undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(b,"routes","/Users/will/development/loom/market-ui/app/scripts/containers/projects/employer/routes.js"),a("./app/scripts/containers/projects/employer/styles.scss"),function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}()),O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,React.Component),R(t,[{key:"componentWillMount",value:function(){this.props.projects.meta.hasBeenRequested||this.props.dispatch(Object(r.a)())}},{key:"render",value:function(){return React.createElement("div",{className:"employer-projects-container"},b(this.props))}}]),t}(),w=Object(n.b)(function(e){return{user:e.auth,projects:e.projects}})(O);t.default=w,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(O,"EmployerProjectsContainer","/Users/will/development/loom/market-ui/app/scripts/containers/projects/employer/index.js"),__REACT_HOT_LOADER__.register(w,"default","/Users/will/development/loom/market-ui/app/scripts/containers/projects/employer/index.js"))},"./app/scripts/containers/projects/employer/styles.scss":function(e,t){}});
webpackJsonp([4],{"./app/scripts/containers/notifications/index.js":function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n("./node_modules/react-redux/es/index.js"),c=n("./node_modules/react-helmet/lib/Helmet.js"),r=(n.n(c),n("./node_modules/moment/moment.js")),l=(n.n(r),n("./node_modules/react-router-dom/es/index.js"),n("./node_modules/query-string/index.js")),p=n.n(l),u=n("./node_modules/react-paginate/dist/index.js"),f=n.n(u),m=n("./app/scripts/components/loader/loader.jsx"),d=n("./app/scripts/components/tile/tile.jsx"),h=n("./app/scripts/containers/notifications/components/notifications/index.js"),g=n("./app/scripts/containers/notifications/actions/api.js"),_=n("./app/scripts/config.js"),b=n("./app/scripts/containers/notifications/styles.scss"),y=(n.n(b),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()),R=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),y(t,[{key:"componentWillMount",value:function(){var e=p.a.parse(this.props.location.search),t=e.page,n=void 0===t?1:t;this.fetchNotifications({page:n})}},{key:"componentWillReceiveProps",value:function(e){this.props.location.search!==e.location.search&&this.fetchNotifications(p.a.parse(e.location.search))}},{key:"fetchNotifications",value:function(e){this.props.dispatch(Object(g.b)(e))}},{key:"handlePagination",value:function(e){var t=e.selected,n=t+1;this.props.history.push("/notifications?page="+n)}},{key:"navigateToTarget",value:function(e){"proposalReceived"===e.type?this.props.history.push("/dashboard/proposal/"+e.action_object.id):this.props.history.push("/dashboard/messages/"+e.action_object.id)}},{key:"render",value:function(){var e=this.props.notifications;return React.createElement("div",{className:"notifications-container"},React.createElement(c.Helmet,null,React.createElement("title",null,"Notifications â€” Loom"),React.createElement("meta",{charSet:"utf-8"}),React.createElement("link",{rel:"canonical",href:""+_.d.base+location.pathname})),React.createElement("h2",null,"Your notifications"),React.createElement(d.a,{noPadding:!0,header:"Notifications"},e.isFetching&&React.createElement(m.a,null),!e.isFetching&&Boolean(e.messages.length)&&React.createElement(h.a,{messages:e.messages,onClick:this.navigateToTarget.bind(this)}),!e.isFetching&&!Boolean(e.messages.length)&&React.createElement(d.b,{className:"message-inbox-empty"},React.createElement("p",null,React.createElement("i",{class:"material-icons"},"notifications")," No new notifications."))),React.createElement("div",{className:"pagination"},!e.isFetching&&e.meta.pageCount>1&&React.createElement(f.a,{forcePage:e.meta.currentPage>0?e.meta.currentPage-1:0,pageCount:e.meta.pageCount,pageRangeDisplayed:3,marginPagesDisplayed:1,previousLabel:React.createElement("i",{className:"fa fa-caret-left","aria-hidden":"true"}),nextLabel:React.createElement("i",{className:"fa fa-caret-right","aria-hidden":"true"}),onPageChange:this.handlePagination.bind(this)})))}}]),t}(React.Component),j=Object(s.b)(function(e){return{notifications:e.notifications}})(R);t.default=j,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(R,"Notifications","/Users/will/development/loom/market-ui/app/scripts/containers/notifications/index.js"),__REACT_HOT_LOADER__.register(j,"default","/Users/will/development/loom/market-ui/app/scripts/containers/notifications/index.js"))}()},"./app/scripts/containers/notifications/styles.scss":function(e,t){}});
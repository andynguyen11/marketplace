webpackJsonp([3],{"./app/scripts/components/skills/skillSelector.jsx":function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};r("./app/scripts/components/skills/skills.scss");var i=r("./node_modules/classnames/index.js"),s=a(i),l=r("./app/scripts/store/api.js"),n=r("./app/scripts/components/skills/skillTag.jsx"),c=a(n),p=r("./app/scripts/components/loader/loader.jsx"),d=a(p),m=r("./app/scripts/components/errors/errors.js"),f=React.createClass({displayName:"SkillSelector",propTypes:{toggleSkill:React.PropTypes.func.isRequired,inputDisabled:React.PropTypes.bool,selectedSkills:React.PropTypes.array.isRequired,label:React.PropTypes.string.isRequired,description:React.PropTypes.string,error:React.PropTypes.oneOfType([React.PropTypes.bool,React.PropTypes.string]),className:React.PropTypes.string,allSkills:React.PropTypes.array},getInitialState:function(){return{allSkills:null,apiError:!1}},getDefaultProps:function(){return{selectedSkills:[]}},componentWillMount:function(){var e=this,t=this.props.allSkills;t?this.setState({allSkills:t}):(0,l.get)(l.api.skills,function(t){e.setState({allSkills:t,apiError:!1})},function(t){e.setState({apiError:t})})},toggleSkill:function u(e){var t=this.props,u=t.toggleSkill,r=t.inputDisabled;r||u(e)},render:function(){var e=this,t=this.state,r=t.allSkills,a=t.apiError,i=this.props,l=i.selectedSkills,n=i.error,p=i.className,f=i.inputDisabled,u=i.label,g=i.description,h=(0,s["default"])("skillSelector","form-set",p,{"form-set--error":!!n}),b=f&&{disabled:!0},j=n&&React.createElement(m.InputError,null,n),v=a&&React.createElement(m.ApiError,null,n),y=!r&&React.createElement(d["default"],{noPadding:!0}),k=r&&r.map(function(t,r){var a=l&&l.indexOf(t.id)>=0,i=a&&{selected:!0},s=function(){f||e.toggleSkill(t.id)};return React.createElement(c["default"],o({key:r},i,{onClick:s}),t.name)}),x=g&&React.createElement("div",{className:"form-label-helper"},g);return React.createElement("div",{className:h},React.createElement("label",{className:"form-label"},u),x,React.createElement("div",o({className:"skillSelector-skills form-input form-input--noFocus"},b),y,k),j,v)}});t["default"]=f},"./app/scripts/components/skills/skillTag.jsx":function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r("./node_modules/classnames/index.js"),i=a(o),s=React.createClass({displayName:"SkillTag",propTypes:{onClick:React.PropTypes.func,selected:React.PropTypes.bool,children:React.PropTypes.any.isRequired},render:function(){var e=this.props,t=e.onClick,r=e.selected,a=e.children,o=(0,i["default"])("skillTag",{"skillTag--selected":r,"skillTag--clickable":!!t});return React.createElement("div",{className:o,onClick:t},a)}});t["default"]=s},"./app/scripts/components/skills/skills.scss":function(e,t,r){t=e.exports=r("./node_modules/css-loader/lib/css-base.js")(),t.push([e.i,".skillSelector-skills{display:flex;flex-wrap:wrap}.skillSelector-skills .loader{margin:50px auto}.skillTag{height:42px;font-size:14px;font-weight:600;letter-spacing:.5px;outline:0!important;color:#423d51;border:1px solid #423d51;background:#1eddb2;border-radius:3px;justify-content:center;display:inline-flex;align-items:center;background:#fff;position:relative;overflow:hidden;padding:10px;margin:5px}.skillTag:before{content:'';position:absolute;top:0;left:0;right:0;height:0;border-top:4px solid #ff7b5c;transform:translateY(-100%);transition:transform .35s}.skillTag.skillTag--clickable{color:#1eddb2;border-color:#1eddb2;transition:background .1s,opacity .1s;cursor:pointer}.skillTag.skillTag--clickable:hover{opacity:.8}.skillTag.skillTag--selected{color:#423d51}.skillTag.skillTag--selected:before{transform:translateY(0)}",""])},"./app/scripts/containers/editProject/basics.jsx":function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r("./node_modules/react-redux/lib/index.js"),i=r("./node_modules/react-router/es6/index.js"),s=r("./app/scripts/store/api.js"),l=r("./app/scripts/config.js"),n=r("./app/scripts/utils/dateUtils.js"),c=r("./app/scripts/utils/formUtils.js"),p=r("./app/scripts/utils/elementUtils.js"),d=r("./app/scripts/containers/editProject/editProject.js"),m=r("./app/scripts/utils/piiUtils.js"),f=r("./app/scripts/components/loader/loader.jsx"),u=a(f),g=r("./app/scripts/containers/editProject/progressBar.jsx"),h=a(g),b=r("./app/scripts/components/forms/formFields.js"),j=r("./app/scripts/components/button/button.jsx"),v=a(j),y=r("./app/scripts/components/errors/errors.js"),k=r("./app/scripts/components/skills/skillSelector.jsx"),x=a(k),P=r("./app/scripts/components/tile/tile.jsx"),S=React.createClass({displayName:"ProjectBasics",propTypes:{user:React.PropTypes.object.isRequired,params:React.PropTypes.object.isRequired},getInitialState:function(){var e=this.props.user;return(0,d.createEmptyProjectState)(e)},formFields:function(e){var t=this,r=e||this.state.data,a=[{id:"",label:"Please choose one"},{id:"front-end",label:"Front-end Developer"},{id:"back-end",label:"Back-end Developer"},{id:"full-stack",label:"Full-stack Developer"},{id:"mobile",label:"Mobile Developer"}];return{projectName:{name:"project_name",label:"Project name (limit 70 characters)",value:r.title,error:!1,maxLength:70,helperText:"This should be a short description of what you're building or the work needing to be done. Ex: `Personal AI-powered Travel Agent Web Application` or `Development of a responsive, two-sided marketplace`. Do not include the name of your product or company.",validator:function(e){var r=t.props.user,a=t.state.formFields,o=(0,m.doesStringContainPII)(e,{user:r}),i=c.FormUtils.checks.isRequired(e)&&c.FormUtils.checks.maxLength(e,a.projectName.maxLength)&&!o;return i||(o?a.projectName.error=m.piiErrors.formField:a.projectName.error="Please enter a project name.",t.setState({formFields:a})),i},onChange:function(e){var r=t.state,a=r.data,o=r.formFields;a.title=e,o.projectName.value=e,o.projectName.error=!1,t.setState({data:a,formFields:o,formError:!1})}},projectType:{name:"project_category",label:"Project category",value:r.type,options:[{id:"",label:"Please choose one"},{id:"art",label:"art & design"},{id:"technology",label:"technology"},{id:"gaming",label:"gaming"},{id:"nonprofit",label:"non-profit"},{id:"social",label:"social"},{id:"news",label:"news & publishing"},{id:"music",label:"music & media"},{id:"location",label:"location-based"},{id:"health",label:"health & fitness"}],error:!1,validator:function(e){var r=t.state.formFields,a=c.FormUtils.checks.isRequired(e);return a||(r.projectType.error="Please select a project category.",t.setState({formFields:r})),a},onChange:function(e){var r=t.state,a=r.data,o=r.formFields;a.type=e,o.projectType.value=e,o.projectType.error=!1,t.setState({data:a,formFields:o,formError:!1})}},projectOverview:{name:"project_overview",label:"Short project overview (limit 250 characters)",value:r.short_blurb,error:!1,placeholder:"Think of this as your elevator pitch to developers. Get them excited in 250 characters or less.",maxLength:250,rows:3,validator:function(e){var r=t.props.user,a=t.state.formFields,o=(0,m.doesStringContainPII)(e,{user:r}),i=c.FormUtils.checks.minLength(e,1)&&c.FormUtils.checks.maxLength(e,a.projectOverview.maxLength)&&!o;return i||(o?a.projectOverview.error=m.piiErrors.formField:a.projectOverview.error="Please enter a short project overview (maximum of 250 characters).",t.setState({formFields:a})),i},onChange:function(e){var r=t.state,a=r.data,o=r.formFields;a.short_blurb=e,o.projectOverview.value=e,o.projectOverview.error=!1,t.setState({data:a,formFields:o,formError:!1})}},projectStartDate:{name:"start_date",label:"Work start date",value:r.start_date,error:!1,minDate:(0,n.rightNow)(),validator:function(e){var r=t.state.formFields,a=(0,n.convertDateForDisplay)(e),o=c.FormUtils.checks.isMomentFormat(a,n.dateFormatForDisplay);return o||(r.projectStartDate.error="Please enter a valid start date (MM/DD/YYYY).",t.setState({formFields:r})),o},onChange:function(e){var r=t.state,a=r.data,o=r.formFields,i=(0,n.convertDateForSave)(e),s=(0,n.convertDateForDisplay)(e);a.start_date=i,o.projectStartDate.value=s,o.projectStartDate.error=!1,o.projectEndDate.minDate=(0,n.addDays)(e,1),o.projectEndDate.disabled=!1,t.setState({data:a,formFields:o,formError:!1})}},projectEndDate:{name:"end_date",label:"Work completion date",value:r.end_date,error:!1,disabled:!r.start_date.length&&!0,minDate:this.state.data.start_date?(0,n.createDateObject)(this.state.data.start_date):(0,n.rightNow)(),validator:function(e){var r=t.state.formFields,a=(0,n.convertDateForDisplay)(e),o=c.FormUtils.checks.isMomentFormat(a,n.dateFormatForDisplay);return o||(r.projectEndDate.error="Please enter a valid end date (MM/DD/YYYY).",t.setState({formFields:r})),o},onChange:function(e){var r=t.state,a=r.data,o=r.formFields,i=(0,n.convertDateForSave)(e),s=(0,n.convertDateForDisplay)(e);a.end_date=i,o.projectEndDate.value=s,o.projectEndDate.error=!1,t.setState({data:a,formFields:o,formError:!1})}},freelancerType:{name:"freelancer_type",label:"What type of freelancer are you looking for?",value:function(){var e=!1;return a.forEach(function(t){r.role==t.id&&(e=t.id)}),e||""}(),options:a,error:!1,validator:function(e){var r=t.state.formFields,a=c.FormUtils.checks.isRequired(e);return a||(r.freelancerType.error="Please tell us the type of freelancer you are looking for.",t.setState({formFields:r})),a},onChange:function(e){var r=t.state,a=r.data,o=r.formFields;a.role=e,o.freelancerType.value=e,o.freelancerType.error=!1,t.setState({data:a,formFields:o,formError:!1})}},projectSkills:{value:r.skills,onChange:function(e){var r=t.state,a=r.data,o=r.formFields,i=a.skills.indexOf(e);i===-1?a.skills.push(e):a.skills.splice(i,1),o.projectSkills.value=a.skills,o.projectSkills.error=!1,t.setState({data:a,formFields:o,formError:!1})}}}},componentWillMount:function(){var e=this,t=this.props.params.projectId;t?(0,d.getProjectData)(t,function(t){var r=Object.assign({},t),a=Object.assign({},e.formFields(r));e.setState({data:r,formFields:a,isLoading:!1,profileIncomplete:!1})},function(t,r){console.error(t),e.setState({isSending:!1,apiError:r.text})}):this.fetchProfile()},fetchProfile:function(){var e=this,t=this.props.user.user_id;if(t){var r=s.api.profile(t);return(0,s.get)(r,function(t){e.checkProfileCompletion(t)},function(t,r){console.error(t),e.setState({profileError:r.text})})}this.setState({modalOpenisLoadingProfile:!1})},checkProfileCompletion:function(e){var t=e.first_name,r=e.last_name,a=e.biography,o=e.photo_url,i=e.city,s=e.country,l=e.contact_details,n=l.email,c=l.email_confirmed,p=!0;t&&r&&a&&n&&c&&o&&i&&s&&(p=!1);var d=Object.assign({},this.formFields());this.setState({profile:e,formFields:d,isLoading:!1}),this.setState({isLoading:!1,profileIncomplete:p,profile:e,formFields:d})},componentDidMount:function(){(0,p.scrollToTop)()},submitBasics:function(){var e=this,t=this.state,r=t.data,a=t.formFields;c.FormUtils.validateForm(a,function(t){e.setState({formError:!t,apiError:!1}),t&&!function(){e.setState({isSending:!0});var t=Object.assign({},r),a=!t.id;delete t.project_image,window.sessionStorage.loomNewProjectId&&a&&(t.id=window.sessionStorage.loomNewProjectId),(0,d.submitProjectData)(t,function(t){a&&(window.sessionStorage.loomNewProjectId=t.id),e.goToStep("budget",t)},function(t,r){console.error(t),e.setState({isSending:!1,apiError:r.text})})}()})},goToStep:function(e,t){var r=this.props.params.projectId;i.browserHistory.push({pathname:(0,d.getEditProjectLink)(e,r),state:{data:t}})},render:function(){var e=this.props.params.projectId,t=this.state,r=t.formFields,a=t.isLoading,o=t.isSending,i=t.formError,s=t.apiError,l=t.profileIncomplete,n=t.profile;if(a)return React.createElement(u["default"],null);if(l)return React.createElement(E,{profile:n});var c=!!e,p=i&&React.createElement(y.FormError,null,"Please fix the errors above and try again."),d=s&&React.createElement(y.ApiError,{error:s});return React.createElement("div",{className:"editProject"},React.createElement(h["default"],{currentStep:"basics",isEditing:c,onSelection:this.goToStep}),React.createElement("div",{className:"editProject-headcap"},React.createElement("h2",null,"Let's bring your digital project to life."),React.createElement("p",{className:"larger light"},"Posting projects is easy and free. Start here by adding the name and category of your project, a quick overview and some basic preferences.")),React.createElement(b.Input,{config:r.projectName,inputDisabled:o}),React.createElement(b.Select,{config:r.projectType,inputDisabled:o}),React.createElement(b.Textarea,{config:r.projectOverview,inputDisabled:o}),React.createElement("div",{className:"editProject-selectDates"},React.createElement(b.DateInput,{config:r.projectStartDate,inputDisabled:o}),React.createElement(b.DateInput,{config:r.projectEndDate,inputDisabled:o})),React.createElement(b.Select,{config:r.freelancerType,inputDisabled:o}),React.createElement(x["default"],{toggleSkill:r.projectSkills.onChange.bind(this),selectedSkills:r.projectSkills.value,error:r.projectSkills.error,inputDisabled:o,label:"Do you have a technical language preference for this project? (optional)",description:"Do you need your project coded in a specific language? If you don't have a preference or you don't know, no sweat, you can leave this section blank."}),p,d,React.createElement(v["default"],{size:"large",onClick:this.submitBasics,isLoading:o,disabled:a||o||i},"Save project & continue"))}}),E=React.createClass({displayName:"ProjectProfileIncompleteModal",propTypes:{profile:React.PropTypes.object.isRequired},goToProfile:function(){var e=this.props.profile.id,t=l.urls.profileUrl(e);i.browserHistory.push({pathname:""+t})},render:function(){var e=this.props.profile,t=e.first_name,r=e.last_name,a=e.biography,o=e.photo_url,i=e.city,s=e.country,l=e.contact_details,n=l.email,c=l.email_confirmed,p=(!t||!r)&&React.createElement("li",{className:"bidModal-list-item"},"Your name"),d=!o&&React.createElement("li",{className:"bidModal-list-item"},"Profile photo"),m=!a&&React.createElement("li",{className:"bidModal-list-item"},"Short bio"),f=(!i||!s)&&React.createElement("li",{className:"bidModal-list-item"},"Location"),u=(!n||!c)&&React.createElement("li",{className:"bidModal-list-item"},"Verified contact email");return React.createElement(P.Tile,{header:"Update your profile",className:"editProject-completeProfile"},React.createElement("h3",null,"The following sections of your profile are required to post a project:"),React.createElement("ul",{className:"bidModal-list"},p,d,m,f,u),React.createElement(v["default"],{onClick:this.goToProfile},"Go to Profile"))}}),R=function(e){var t=e.auth;return{user:t}};t["default"]=(0,o.connect)(R)(S)},"./app/scripts/containers/editProject/editProject.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.submitQuestionsData=t.submitProjectData=t.getProjectData=t.getEditProjectLink=t.createEmptyProjectState=void 0,r("./app/scripts/containers/editProject/editProject.scss");var a=r("./app/scripts/store/api.js"),o=r("./app/scripts/utils/formUtils.js"),i={projectId:null,data:{company:"",project_manager:null,skills:[],title:"",type:"",start_date:"",end_date:"",estimated_cash:"",estimated_equity_percentage:"",mix:!1,short_blurb:"",project_image:null,background:"",progress:"",scope:"",milestones:"",specs:"",private_info:"",published:!1,freelancerType:"",questions:[]},budgetType:"",apiError:!1,formError:!1,isSending:!1,isLoading:!0,profileIncomplete:!0,profile:{}};t.createEmptyProjectState=function(e){var t=Object.assign({},i);return e&&(t.data.project_manager=e.user_id,t.data.company=e.company_id),t},t.getEditProjectLink=function(e,t){return t?"/project/edit/"+t+"/"+e:"/project/create/"+e},t.getProjectData=function(e,t,r){if(e){var o=a.api.project(e),i=[o,t,r];a.get.apply(void 0,i)}else console.error("`getProjectData` method expects a projectId, a successCallback and an errorCallback.")},t.submitProjectData=function(e,t,r){if(e&&t&&r){var i=a.api.project();e.id&&(i=a.api.project(e.id));var s=[i,(0,o.objectToFormData)(e),t,r];e.id?a.patch.apply(void 0,s):a.post.apply(void 0,s)}else console.error("`submitProjectData` method expects a data object, a successCallback and an errorCallback.")},t.submitQuestionsData=function(e,t,r){if(e&&t&&r){var o=a.api.questions,i=[o,e,t,r];a.patch.apply(void 0,i)}else console.error("`submitQuestionsData` method expects a data object, a successCallback and an errorCallback.")}},"./app/scripts/containers/editProject/editProject.scss":function(e,t,r){t=e.exports=r("./node_modules/css-loader/lib/css-base.js")(),t.push([e.i,".editProject{max-width:768px;min-width:320px;width:100%;margin:auto;padding-right:20px;padding-left:20px;padding-bottom:40px}.editProject .button--large{display:block;margin-left:auto}.editProject-headcap{text-align:center;margin:40px 0}.editProject-selectDates{display:flex;justify-content:space-between;flex-wrap:wrap}.editProject-selectDates .form-set{margin-top:0;flex-basis:49%}@media (max-width:480px){.editProject-selectDates .form-set{flex-basis:100%}}.editProject-attachImage-requirements{text-align:center;padding:20px 0}.editProject-attachImage-requirements .form-input-error{display:inline-flex;margin:auto}.editProject-attachImage-preview{width:100%;position:relative;border:3px dashed #dad9dd;padding:5px;margin-bottom:20px;display:flex;flex-direction:column;align-items:center}.editProject-attachImage-preview:hover{border-color:#c8c6cc;opacity:.8}.editProject-attachImage-preview img{width:100%}.editProject-attachImage-preview input[type=file],.editProject-attachImage-preview input[type=file]:before{position:absolute;top:0;left:0;right:0;bottom:0;cursor:pointer;width:100%;height:100%;opacity:0}.editProject-attachImage-preview input[type=file]:before{content:'';z-index:10}.editProject-attachImage-preview-filename{font-weight:700;padding:5px 0 0}.editProject-companyModal .modal-message{text-align:center}@media (min-width:768px){.editProject-companyModal .modal-message{padding:0 60px}}.editProject-companyModal p{margin-bottom:20px}.editProject-modal-footer{display:flex;align-items:center;flex-wrap:wrap;width:100%;justify-content:flex-end;padding:10px}.editProject-modal-footer .button{flex-shrink:0}.editProject-modal-footer .button+.button{margin-left:10px}.editProject-compensationType{display:flex;flex-wrap:wrap;flex-basis:50%}.editProject-compensationType .form-set--radio-item,.editProject-compensationType>.form-label{flex-basis:100%}@media (max-width:768px){.editProject-compensationType{flex-basis:100%}}.editProject-compensationInput{max-width:200px}.progressBar{display:flex;justify-content:center;margin:40px auto}@media (max-width:480px){.progressBar{transform:scale(.7)}}.progressBar .progressBar-item{border:2px solid #ff7b5c;font-weight:700;text-transform:capitalize;display:flex;align-items:center;padding:10px 15px}@media (max-width:480px){.progressBar .progressBar-item{padding:10px}}.progressBar .progressBar-item .progressBar-item-dot{width:20px;height:20px;text-align:center;border-radius:50%;color:#ff7b5c;background:#ffe5df;line-height:1;display:flex;align-items:center;justify-content:center;font-size:12px;margin-right:7px;flex-shrink:0}.progressBar .progressBar-item+.progressBar-item{border-left:none}.progressBar .progressBar-item:first-of-type{border-radius:5px 0 0 5px}.progressBar .progressBar-item:last-of-type{border-radius:0 5px 5px 0}.progressBar .progressBar-item.progressBar-item--complete{background:#f4dbd5;color:#ff7b5c}.progressBar .progressBar-item.progressBar-item--complete .progressBar-item-dot{background:#ff7b5c;color:#fff}.progressBar .progressBar-item.progressBar-item--active{background:#ff7b5c;color:#f3f3f3;cursor:default}.progressBar .progressBar-item.progressBar-item--active .progressBar-item-dot{color:#ff7b5c;background:#ffe5df}.progressBar .progressBar-item.progressBar-item--disabled{background:#fff;color:#ff7b5c;cursor:default}.editProject-completeProfile{max-width:100%;width:768px;margin:60px auto}",""])},"./app/scripts/containers/editProject/progressBar.jsx":function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r("./node_modules/classnames/index.js"),i=a(o),s={basics:{displayName:"Basics",isEnabled:!1,isActive:!1,isCompleted:!0},budget:{displayName:"Budget",isEnabled:!1,isActive:!1,isCompleted:!0},details:{displayName:"Details",isEnabled:!1,isActive:!1,isCompleted:!0},questions:{displayName:"Proposal Questions",isEnabled:!1,isActive:!1,isCompleted:!0}},l=React.createClass({displayName:"ProgressBar",propTypes:{currentStep:React.PropTypes.string.isRequired,onSelection:React.PropTypes.func.isRequired,isEditing:React.PropTypes.bool},getDefaultProps:function(){return{isEditing:!1}},getInitialState:function(){return{steps:s}},configureState:function(){var e=this.props,t=e.currentStep,r=e.isEditing,a=this.state.steps,o=Object.keys(s),i=o.indexOf(t);o.forEach(function(e,t){var o=a[e];o.isEnabled=t<=i||r,o.isActive=t===i,o.isCompleted=t<i||r}),this.setState({steps:a})},componentWillMount:function(){this.configureState()},goToStep:function(e){var t=this.props.onSelection,r=this.state.steps,a=r[e],o=a.isActive,i=a.isEnabled;i&&!o&&t(e)},render:function(){var e=this,t=this.state.steps,r=Object.keys(s),a=r.map(function(r,a){var o=t[r],s=o.displayName,l=o.isEnabled,n=o.isActive,c=o.isCompleted,p=function(){e.goToStep(r)},d=(0,i["default"])("progressBar-item",{"progressBar-item--complete":c,"progressBar-item--active":n,"progressBar-item--disabled":!l}),m=a+1,f=!c||n?m:React.createElement("i",{className:"fa fa-check","aria-hidden":"true"});return React.createElement("a",{className:d,key:a,onClick:p},React.createElement("div",{className:"progressBar-item-dot"},f)," ",s)});return React.createElement("div",{className:"progressBar"},a)}});t["default"]=l}});